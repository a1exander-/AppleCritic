function one(){var e=document.getElementById("navprev");e.className="previous disabled",e.setAttribute("disabled","");var t=document.getElementById("navnext");t.className="next",t.removeAttribute("disabled");var n=document.getElementById("a1"),i=document.getElementById("a2"),r=document.getElementById("a3");n.className="active",i.className="",r.className="last",ul=document.getElementById("m0").parentNode,listLi=ul.getElementsByTagName("li"),listLength=listLi.length;for(var o=0;listLength>o;o++){var s=document.getElementById("m"+o);30>o?s.setAttribute("style","display: list-item"):s.setAttribute("style","display: none")}}function two(){var e=document.getElementById("navprev");e.className="previous",e.removeAttribute("disabled");var t=document.getElementById("navnext");t.className="next",t.removeAttribute("disabled");var n=document.getElementById("a2"),i=document.getElementById("a1"),r=document.getElementById("a3");n.setAttribute("class","active"),i.removeAttribute("class"),r.setAttribute("class","last"),ul=document.getElementById("m0").parentNode,listLi=ul.getElementsByTagName("li"),listLength=listLi.length;for(var o=0;listLength>o;o++){var s=document.getElementById("m"+o);30>o?s.setAttribute("style","display: none"):60>o?s.setAttribute("style","display: list-item"):s.setAttribute("style","display: none")}}function three(){var e=document.getElementById("navprev");e.className="previous",e.removeAttribute("disabled");var t=document.getElementById("navnext");t.className="next disabled",t.setAttribute("disabled","");var n=document.getElementById("a2"),i=document.getElementById("a1"),r=document.getElementById("a3");r.setAttribute("class","active last"),i.removeAttribute("class"),n.removeAttribute("class"),ul=document.getElementById("m0").parentNode,listLi=ul.getElementsByTagName("li"),listLength=listLi.length;for(var o=0;listLength>o;o++){var s=document.getElementById("m"+o);60>o?s.setAttribute("style","display: none"):s.setAttribute("style","display: list-item")}}function prev(){var e=document.getElementById("a2");"active"===e.className?one():two()}function nextThing(){var e=document.getElementById("a2");"active"===e.className?three():two()}function $A(e){if(!e)return[];if(e.toArray)return e.toArray();for(var t=e.length||0,n=new Array(t);t--;)n[t]=e[t];return n}function $w(e){return Object.isString(e)?(e=e.strip(),e?e.split(/\s+/):[]):[]}function $H(e){return new Hash(e)}function $(e){if(arguments.length>1){for(var t=0,n=[],i=arguments.length;i>t;t++)n.push($(arguments[t]));return n}return Object.isString(e)&&(e=document.getElementById(e)),Element.extend(e)}function $$(){return Selector.findChildElements(document,$A(arguments))}if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(dt.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function s(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(ft.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(s(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Tt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(rt.acceptData(e)){var r,o,s=rt.expando,a=e.nodeType,l=a?rt.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=a?e[s]=X.pop()||rt.guid++:s),l[c]||(l[c]=a?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=rt.extend(l[c],t):l[c].data=rt.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[rt.camelCase(t)])):r=o,r}}function h(e,t,n){if(rt.acceptData(e)){var i,r,o=e.nodeType,s=o?rt.cache:e,a=o?e[rt.expando]:rt.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!rt.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?rt.cleanData([e],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(e){}}function m(e){var t=Rt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||rt.nodeName(i,t)?o.push(i):rt.merge(o,g(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],o):o}function v(e){kt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function S(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,r,o=rt._data(e),s=rt._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)rt.event.add(t,n,a[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(i in r.events)rt.removeEvent(t,i,r.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&kt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(t,n){var i,r=rt(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function T(e){var t=ft,n=Zt[e];return n||(n=x(e,t),"none"!==n&&n||(Jt=(Jt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),n=x(e,t),Jt.detach()),Zt[e]=n),n}function _(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function A(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=pn.length;r--;)if(t=pn[r]+n,t in e)return t;return i}function N(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=rt._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Nt(i)&&(o[s]=rt._data(i,"olddisplay",T(i.nodeName)))):(r=Nt(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function O(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function k(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=rt.css(e,n+At[o],!0,r)),i?("content"===n&&(s-=rt.css(e,"padding"+At[o],!0,r)),"margin"!==n&&(s-=rt.css(e,"border"+At[o]+"Width",!0,r))):(s+=rt.css(e,"padding"+At[o],!0,r),"padding"!==n&&(s+=rt.css(e,"border"+At[o]+"Width",!0,r)));return s}function L(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),s=nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tn(e,t,o),(0>r||null==r)&&(r=e.style[t]),rn.test(r))return r;i=s&&(nt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+k(e,t,n||(s?"border":"content"),i,o)+"px"}function M(e,t,n,i,r){return new M.prototype.init(e,t,n,i,r)}function P(){return setTimeout(function(){fn=void 0}),fn=rt.now()}function j(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=At[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var i,r=(wn[t]||[]).concat(wn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function R(e,t,n){var i,r,o,s,a,l,c,u,h=this,d={},p=e.style,f=e.nodeType&&Nt(e),m=rt._data(e,"fxshow");n.queue||(a=rt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,rt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=rt.css(e,"display"),u="none"===c?rt._data(e,"olddisplay")||T(e.nodeName):c,"inline"===u&&"none"===rt.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],gn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||rt.style(e,i)}else c=void 0;if(rt.isEmptyObject(d))"inline"===("none"===c?T(e.nodeName):c)&&(p.display=c);else{m?"hidden"in m&&(f=m.hidden):m=rt._data(e,"fxshow",{}),o&&(m.hidden=!f),f?rt(e).show():h.done(function(){rt(e).hide()}),h.done(function(){var t;rt._removeData(e,"fxshow");for(t in d)rt.style(e,t,d[t])});for(i in d)s=I(f?m[i]:0,i,h),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function D(e,t){var n,i,r,o,s;for(n in e)if(i=rt.camelCase(n),r=t[i],o=e[n],rt.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=rt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,o=0,s=bn.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=fn||P(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fn||P(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(D(u,c.opts.specialEasing);s>o;o++)if(i=bn[o].call(c,e,u,c.opts))return i;return rt.map(u,I,c),rt.isFunction(c.opts.start)&&c.opts.start.call(e,c),rt.fx.timer(rt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function B(e,t,n,i){function r(a){var l;return o[a]=!0,rt.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===qn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function V(e,t){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function $(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function z(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(e,t,n,i){var r;if(rt.isArray(t))rt.each(t,function(t,r){n||Xn.test(e)?i(e,r):q(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function K(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],G=X.slice,Q=X.concat,Y=X.push,J=X.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},it="1.11.1",rt=function(e,t){return new rt.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:X.sort,splice:X.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(c&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,o=e&&rt.isArray(e)?e:[]):o=e&&rt.isPlainObject(e)?e:{},s[i]=rt.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(at,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):Y.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(n=G.call(arguments,2),i=function(){return e.apply(t||this,n.concat(G.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var r,o,s,a,l,c,h,p,f,m;if((t?t.ownerDocument||t:B)!==M&&L(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(j&&!i){if(r=yt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&F(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(s)),n}if(E.qsa&&(!I||!I.test(e))){if(p=h=H,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(h=t.getAttribute("id"))?p=h.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=bt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{h||t.removeAttribute("id")}}}return A(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[H]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)S.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==K&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c=[V,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[H]||(t[H]={}),(a=l[i])&&a[0]===V&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,d=[],p=[],f=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:g(v,d,e,a,l),b=n?o||(i?e:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=g(b,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?tt.call(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=g(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):Z.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],s=o||S.relative[" "],a=o?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return tt.call(t,e)>-1},s,!0),u=[function(e,n,i){return!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=S.relative[e[a].type])u=[p(f(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[H]){for(i=++a;r>i&&!S.relative[e[i].type];i++);return v(a>1&&f(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,h,d,p=0,f="0",m=i&&[],v=[],y=N,b=i||o&&S.find.TAG("*",c),w=V+=null==y?1:Math.random()||.1,E=b.length;for(c&&(N=s!==M&&s);f!==E&&null!=(u=b[f]);f++){if(o&&u){for(h=0;d=e[h++];)if(d(u,s,a)){l.push(u);break}c&&(V=w)}r&&((u=!d&&u)&&p--,i&&m.push(u))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(m,v,s,a);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=Y.call(l));v=g(v)}Z.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(V=w,N=y),m};return r?i(s):s}var w,E,S,C,x,T,_,A,N,O,k,L,M,P,j,I,R,D,F,H="sizzle"+-new Date,B=e.document,V=0,$=0,z=n(),q=n(),U=n(),W=function(e,t){return e===t&&(k=!0),0},K="undefined",X=1<<31,G={}.hasOwnProperty,Q=[],Y=Q.pop,J=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=rt.replace("w","w#"),st="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+it+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ct=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(at),pt=new RegExp("^"+ot+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),St=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(Q=et.call(B.childNodes),B.childNodes),Q[B.childNodes.length].nodeType}catch(Ct){Z={apply:Q.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}E=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,i=n.defaultView;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,P=n.documentElement,j=!x(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){L()},!1):i.attachEvent&&i.attachEvent("onunload",function(){L()})),E.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=r(function(e){return P.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),E.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==K&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&j?t.getElementsByClassName(e):void 0},R=[],I=[],(E.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&I.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(E.matchesSelector=vt.test(D=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){E.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),R.push("!=",at)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),t=vt.test(P.compareDocumentPosition),F=t||vt.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return k=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!E.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===B&&F(B,e)?-1:t===n||t.ownerDocument===B&&F(B,t)?1:O?tt.call(O,e)-tt.call(O,t):0:4&i?-1:1)}:function(e,t){if(e===t)return k=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:O?tt.call(O,e)-tt.call(O,t):0;if(o===a)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===B?-1:c[r]===B?1:0},n):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&L(e),n=n.replace(ht,"='$1']"),!(!E.matchesSelector||!j||R&&R.test(n)||I&&I.test(n)))try{var i=D.call(e,n);if(i||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&L(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&L(e);var n=S.attrHandle[t.toLowerCase()],i=n&&G.call(S.attrHandle,t.toLowerCase())?n(e,t,!j):void 0;return void 0!==i?i:E.attributes||!j?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(k=!E.detectDuplicates,O=!E.sortStable&&e.slice(0),e.sort(W),k){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return O=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,St),e[3]=(e[3]||e[4]||e[5]||"").replace(Et,St),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,St).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(u=g[H]||(g[H]={}),c=u[e]||[],p=c[0]===V&&c[1],d=c[0]===V&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[V,p,d];break}}else if(y&&(c=(t[H]||(t[H]={}))[e])&&c[0]===V)d=c[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[H]||(h[H]={}))[e]=[V,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(r=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=tt.call(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=_(e.replace(lt,"$1"));return r[H]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Et,St).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;
return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=l(w);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,T=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in S.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):q(e,l).slice(0)},_=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=T(e)),n=t.length;n--;)o=y(t[n]),o[H]?i.push(o):r.push(o);o=U(e,b(r,i)),o.selector=e}return o},A=t.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,h=!i&&T(e=c.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&E.getById&&9===t.nodeType&&j&&S.relative[o[1].type]){if(t=(S.find.ID(s.matches[0].replace(Et,St),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ft.needsContext.test(e)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(Et,St),bt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return Z.apply(n,i),n;break}}return(c||_(e,h))(i,t,!j,n,bt.test(e)&&u(t.parentNode)||t),n},E.sortStable=H.split("").sort(W).join("")===H,E.detectDuplicates=!!k,L(),E.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,i[t],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?rt(e):e||[],!1).length}});var pt,ft=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),ht.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(e);this.length=1,this[0]=i}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};gt.prototype=rt.fn,pt=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=ut.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var r=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,wt={};rt.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):rt.extend({},e);var t,n,i,r,s,a,l=[],c=!e.once&&[],u=function(o){for(n=e.memory&&o,i=!0,s=a||0,a=0,r=l.length,t=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function o(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),t?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,s>=i&&s--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,o){var s=rt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},r={};return i.pipe=i.then,rt.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||e&&rt.isFunction(e.promise)?s:0,l=1===a?e:rt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var Et;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(Et.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(t){if(!Et)if(Et=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{ft.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}s(),rt.ready()}}()}return Et.promise(t)};var St,Ct="undefined";for(St in rt(nt))break;nt.ownLast="0"!==St,nt.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):o?l(o,e,rt.data(o,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,r=n.shift(),o=rt._queueHooks(e,t),s=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=rt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=rt._data(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var _t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=["Top","Right","Bottom","Left"],Nt=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},Ot=rt.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===rt.type(n)){r=!0;for(a in n)rt.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(rt(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},kt=/^(?:checkbox|radio)$/i;!function(){var e=ft.createElement("input"),t=ft.createElement("div"),n=ft.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Lt=/^(?:input|select|textarea)$/i,Mt=/^key/,Pt=/^(?:mouse|pointer|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=rt._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof rt===Ct||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],a=t.length;a--;)o=It.exec(t[a])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p&&(c=rt.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=rt.event.special[p]||{},h=rt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),rt.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,p,f,m,g=rt.hasData(e)&&rt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(a=It.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=rt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||rt.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)rt.event.remove(e,p+t[c],n,i,!0);rt.isEmptyObject(u)&&(delete g.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,l,c,u,h,d=[i||ft],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!jt.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[rt.expando]?t:new rt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),c=rt.event.special[p]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!rt.isWindow(i)){for(l=c.delegateType||p,jt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||ft)&&d.push(u.defaultView||u.parentWindow||e)}for(h=0;(a=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:c.bindType||p,o=(rt._data(a,"events")||{})[t.type]&&rt._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&rt.acceptData(a)&&(t.result=o.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),n)===!1)&&rt.acceptData(i)&&s&&i[p]&&!rt.isWindow(i)){u=i[s],u&&(i[s]=null),rt.event.triggered=p;try{i[p]()}catch(m){}rt.event.triggered=void 0,u&&(i[s]=u)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,r,o,s=[],a=G.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],c=rt.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=rt.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;a>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[rt.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Pt.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new rt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ft,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:p):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,t);r||i.addEventListener(e,n,!0),rt._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,t)-1;r?rt._data(i,t,r):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(s=i,i=function(e){return rt().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Rt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Dt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Rt+")[\\s/>]","i"),Ht=/^\s+/,Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vt=/<([\w:]+)/,$t=/<tbody/i,zt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(ft),Yt=Qt.appendChild(ft.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,rt.extend({clone:function(e,t,n){var i,r,o,s,a,l=rt.contains(e.ownerDocument,e);if(nt.html5Clone||rt.isXMLDoc(e)||!Ft.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Yt.innerHTML=e.outerHTML,Yt.removeChild(o=Yt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=g(o),a=g(e),s=0;null!=(r=a[s]);++s)i[s]&&C(r,i[s]);if(t)if(n)for(a=a||g(e),i=i||g(o),s=0;null!=(r=a[s]);s++)S(r,i[s]);else S(e,o);return i=g(o,"script"),i.length>0&&E(i,!l&&g(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u,h=e.length,d=m(t),p=[],f=0;h>f;f++)if(o=e[f],o||0===o)if("object"===rt.type(o))rt.merge(p,o.nodeType?[o]:o);else if(zt.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Vt.exec(o)||["",""])[1].toLowerCase(),u=Gt[l]||Gt._default,a.innerHTML=u[1]+o.replace(Bt,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!nt.leadingWhitespace&&Ht.test(o)&&p.push(t.createTextNode(Ht.exec(o)[0])),!nt.tbody)for(o="table"!==l||$t.test(o)?"<table>"!==u[1]||$t.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(rt.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(t.createTextNode(o));for(a&&d.removeChild(a),nt.appendChecked||rt.grep(g(p,"input"),v),f=0;o=p[f++];)if((!i||-1===rt.inArray(o,i))&&(s=rt.contains(o.ownerDocument,o),a=g(d.appendChild(o),"script"),s&&E(a),n))for(r=0;o=a[r++];)Wt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(e,t){for(var n,i,r,o,s=0,a=rt.expando,l=rt.cache,c=nt.deleteExpando,u=rt.event.special;null!=(n=e[s]);s++)if((t||rt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==Ct?n.removeAttribute(a):n[a]=null,X.push(r))}}}),rt.fn.extend({text:function(e){return Ot(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||rt.cleanData(g(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&E(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return Ot(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Dt,""):void 0;if(!("string"!=typeof e||qt.test(e)||!nt.htmlSerialize&&Ft.test(e)||!nt.leadingWhitespace&&Ht.test(e)||Gt[(Vt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Bt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,i,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=e[0],p=rt.isFunction(d);if(p||c>1&&"string"==typeof d&&!nt.checkClone&&Ut.test(d))return this.each(function(n){var i=u.eq(n);p&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(c&&(a=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=rt.map(g(a,"script"),b),r=o.length;c>l;l++)i=a,l!==h&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,g(i,"script"))),t.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,rt.map(o,w),l=0;r>l;l++)i=o[l],Wt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xt,"")));a=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,r=[],o=rt(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),rt(o[i])[t](n),Y.apply(r,n.get());return this.pushStack(r)
}});var Jt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ft.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+_t+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||en(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||rt.contains(e.ownerDocument,e)||(s=rt.style(e,t)),rn.test(s)&&nn.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ft.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||en(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),rn.test(s)&&!on.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(ft.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var sn=/alpha\([^)]*\)/i,an=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+_t+")(.*)$","i"),un=new RegExp("^([+-])=("+_t+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},dn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=rt.camelCase(t),l=e.style;if(t=rt.cssProps[a]||(rt.cssProps[a]=A(l,a)),s=rt.cssHooks[t]||rt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=un.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,o,s,a=rt.camelCase(t);return t=rt.cssProps[a]||(rt.cssProps[a]=A(e.style,a)),s=rt.cssHooks[t]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=tn(e,t,i)),"normal"===o&&t in dn&&(o=dn[t]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?ln.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,hn,function(){return L(e,t,i)}):L(e,t,i):void 0},set:function(e,n,i){var r=i&&en(e);return O(e,n,i?k(e,t,i,nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),rt.cssHooks.marginRight=_(nt.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+At[i]+t]=o[i]||o[i-2]||o[0];return r}},nn.test(e)||(rt.cssHooks[e+t].set=O)}),rt.fn.extend({css:function(e,t){return Ot(this,function(e,t,n){var i,r,o={},s=0;if(rt.isArray(t)){for(i=en(e),r=t.length;r>s;s++)o[t[s]]=rt.css(e,t[s],!1,i);return o}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Nt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=M.prototype.init,rt.fx.step={};var fn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+_t+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[R],wn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=vn.exec(t),o=r&&r[3]||(rt.cssNumber[e]?"":"px"),s=(rt.cssNumber[e]||"px"!==o&&+i)&&vn.exec(rt.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,rt.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(F,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=rt.isEmptyObject(e),o=rt.speed(t,n,i),s=function(){var t=F(this,rt.extend({},e),o);(r||rt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&yn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),rt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(fn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),fn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){mn||(mn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(mn),mn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=ft.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,e=ft.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var En=/\r/g;rt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(En,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=rt.makeArray(t),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Sn,Cn,xn=rt.expr.attrHandle,Tn=/^(?:checked|selected)$/i,_n=nt.getSetAttribute,An=nt.input;rt.fn.extend({attr:function(e,t){return Ot(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?rt.prop(e,t,n):(1===o&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Cn:Sn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?An&&_n||!Tn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(_n?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):An&&_n||!Tn.test(n)?e.setAttribute(!_n&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=xn[t]||rt.find.attr;xn[t]=An&&_n||!Tn.test(t)?function(e,t,i){var r,o;return i||(o=xn[t],xn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,xn[t]=o),r}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),An&&_n||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):Sn&&Sn.set(e,t,n)}}),_n||(Sn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},xn.id=xn.name=xn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Sn.set},rt.attrHooks.contenteditable={set:function(e,t,n){Sn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Nn=/^(?:input|select|textarea|button|object)$/i,On=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return Ot(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!rt.isXMLDoc(e),o&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):Nn.test(e.nodeName)||On.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var kn=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kn," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kn," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=rt(this),o=e.match(bt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(kn," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln=rt.now(),Mn=/\?/,Pn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(Pn,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var jn,In,Rn=/#.*$/,Dn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,Vn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},qn={},Un="*/".concat("*");try{In=location.href}catch(Wn){In=ft.createElement("a"),In.href="",In=In.href}jn=$n.exec(In.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Hn.test(jn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,rt.ajaxSettings),t):V(rt.ajaxSettings,e)},ajaxPrefilter:H(zn),ajaxTransport:H(qn),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,w,S=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=i||"",E.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=$(h,E,n)),y=z(h,y,E,r),r?(h.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(rt.lastModified[o]=w),w=E.getResponseHeader("etag"),w&&(rt.etag[o]=w)),204===e||"HEAD"===h.type?S="nocontent":304===e?S="notmodified":(S=y.state,u=y.data,v=y.error,r=!v)):(v=S,(e||!S)&&(S="error",0>e&&(e=0))),E.status=e,E.statusText=(t||S)+"",r?f.resolveWith(d,[u,S,E]):f.rejectWith(d,[E,S,v]),E.statusCode(g),g=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[E,h,r?u:v]),m.fireWith(d,[E,S]),l&&(p.trigger("ajaxComplete",[E,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,c,u,h=rt.ajaxSetup({},t),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?rt(d):rt.event,f=rt.Deferred(),m=rt.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Fn.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(f.promise(E).complete=m.add,E.success=E.done,E.error=E.fail,h.url=((e||h.url||In)+"").replace(Rn,"").replace(Vn,jn[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain&&(i=$n.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===jn[1]&&i[2]===jn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(jn[3]||("http:"===jn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),B(zn,h,t,E),2===b)return E;l=h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bn.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Mn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Dn.test(o)?o.replace(Dn,"$1_="+Ln++):o+(Mn.test(o)?"&":"?")+"_="+Ln++)),h.ifModified&&(rt.lastModified[o]&&E.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&E.setRequestHeader("If-None-Match",rt.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Un+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)E.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(d,E,h)===!1||2===b))return E.abort();w="abort";for(r in{success:1,error:1,complete:1})E[r](h[r]);if(c=B(qn,h,t,E)){E.readyState=1,l&&p.trigger("ajaxSend",[E,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){E.abort("timeout")},h.timeout));try{b=1,c.send(v,n)}catch(S){if(!(2>b))throw S;n(-1,S)}}else n(-1,"No Transport");return E},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Kn=/%20/g,Xn=/\[\]$/,Gn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Yn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(n in e)q(n,e[n],t,r);return i.join("&").replace(Kn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Yn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!kt.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Gn,"\r\n")}}):{name:t.name,value:n.replace(Gn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||W()}:U;var Jn=0,Zn={},ei=rt.ajaxSettings.xhr();e.ActiveXObject&&rt(e).on("unload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&rt.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var r,o=e.xhr(),s=++Jn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var a,l,c;if(t&&(r||4===o.readyState))if(delete Zn[s],t=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zn[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||rt.expando+"_"+Ln++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ni,"$1"+r):t.jsonp!==!1&&(t.url+=(Mn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,ti.push(r)),s&&rt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ft;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var ii=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=rt.trim(e.slice(a,e.length)),e=e.slice(0,a)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&rt.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=rt.css(e,"position"),h=rt(e),d={};"static"===u&&(e.style.position="relative"),a=h.offset(),o=rt.css(e,"top"),l=rt.css(e,"left"),c=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[o,l])>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=K(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return Ot(this,function(e,i,r){var o=K(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=_(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");
return Ot(this,function(t,n,i){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?rt.css(t,n,s):rt.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var oi=e.jQuery,si=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=si),t&&e.jQuery===rt&&(e.jQuery=oi),rt},typeof t===Ct&&(e.jQuery=e.$=rt),rt}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,s,a,l,c,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return h={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o),n.ajax(h)}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),s=r.data("params"),a=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(a&&(!o||"GET"===o)&&!s)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.error(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,s=e(this),a=s.data("remote")!==t;if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")==t&&(r=n.blankInputs(s,n.requiredInputSelector),r&&n.fire(s,"ajax:aborted:required",[r])))return n.stopEverything(i);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,E,S,C,x,T,_,A,N,O,k,L,M,P,j,I,R,D,F,H,B,V,$,z,q,U,W,K,X,G,Q,Y,J,Z,et,tt,nt,it=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},rt={}.hasOwnProperty,ot=function(e,t){function n(){this.constructor=e}for(var i in t)rt.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},st=[].slice,at=function(e,t){return function(){return e.apply(t,arguments)}};j={},p=10,Y=!1,H=null,b=null,M=null,V=null,v=null,tt=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},x=function(e){var t;return e=new n(e),W(),d(),null!=H&&H.start(),Y&&(t=J(e.absolute))?(T(t),_(e,null,!1)):_(e,G)},J=function(e){var t;return t=j[e],t&&!t.transitionCacheDisabled?t:void 0},E=function(e){return null==e&&(e=!0),Y=e},w=function(e){return null==e&&(e=!0),e?null!=H?H:H=new o("html"):(null!=H&&H.uninstall(),H=null)},_=function(e,t,n){return null==n&&(n=!0),Z(i.FETCH,{url:e.absolute}),null!=tt&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",e.withoutHashForIE10compatibility(),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",V),tt.onload=function(){var n;return Z(i.RECEIVE,{url:e.absolute}),(n=F())?($(e),z(),f.apply(null,C(n)),P(),"function"==typeof t&&t(),Z(i.LOAD)):document.location.href=y()||e.absolute},H&&n&&(tt.onprogress=function(){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:H.value+(100-H.value)/10,H.advanceTo(t)}}(this)),tt.onloadend=function(){return tt=null},tt.onerror=function(){return document.location.href=e.absolute},tt.send()},T=function(e){return null!=tt&&tt.abort(),f(e.title,e.body),B(e),Z(i.RESTORE)},d=function(){var e;return e=new n(b.url),j[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},g(p)},R=function(e){return null==e&&(e=p),/^[\d]+$/.test(e)?p=parseInt(e):void 0},g=function(e){var t,n,r,o,s,a;for(r=Object.keys(j),t=r.map(function(e){return j[e].cachedAt}).sort(function(e,t){return t-e}),a=[],o=0,s=r.length;s>o;o++)n=r[o],j[n].cachedAt<=t[e]&&(Z(i.EXPIRE,j[n]),a.push(delete j[n]));return a},f=function(t,n,r,o){return Z(i.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),null!=r&&e.update(r),Q(),o&&S(),b=window.history.state,null!=H&&H.done(),Z(i.CHANGE),Z(i.UPDATE)},S=function(){var e,t,n,i,r,o,s,a,l,c,u,h;for(o=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),s=0,l=o.length;l>s;s++)if(r=o[s],""===(u=r.type)||"text/javascript"===u){for(t=document.createElement("script"),h=r.attributes,a=0,c=h.length;c>a;a++)e=h[a],t.setAttribute(e.name,e.value);r.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(t,n)}},K=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},Q=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},$=function(e){return(e=new n(e)).absolute!==V?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},z=function(){var e,t;return(e=tt.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(b,"",e.href+t)):void 0},y=function(){var e;return null!=(e=tt.getResponseHeader("Location"))&&new n(e).crossOrigin()?e:void 0},W=function(){return V=document.location.href},U=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},q=function(){return b=window.history.state},P=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(b,"",e.withoutHash()),document.location.hash=e.hash):void 0},B=function(e){return window.scrollTo(e.positionX,e.positionY)},G=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},m=function(e){var t,n,i;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)i=e[n],t[n]=m(i);return t},D=function(e){var t,n;return t=(null!=(n=document.cookie.match(new RegExp(e+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",t},Z=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},I=function(e){return!Z(i.BEFORE_CHANGE,{url:e})},F=function(){var e,t,n,i,r,o;return t=function(){var e;return 400<=(e=tt.status)&&600>e},o=function(){var e;return null!=(e=tt.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,r,o;for(r=e.querySelector("head").childNodes,o=[],n=0,i=r.length;i>n;n++)t=r[n],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&o.push(t.getAttribute("src")||t.getAttribute("href"));return o},e=function(e){var t;return M||(M=i(document)),t=i(e),t.length!==M.length||r(t,M).length!==M.length},r=function(e,t){var n,i,r,o,s;for(e.length>t.length&&(o=[t,e],e=o[0],t=o[1]),s=[],i=0,r=e.length;r>i;i++)n=e[i],it.call(t,n)>=0&&s.push(n);return s},!t()&&o()&&(n=v(tt.responseText),n&&!e(n))?n:void 0},C=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,K(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},s=function(){var e,t,n,i,r,o,s,a,l,c;i=function(e){return(new DOMParser).parseFromString(e,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},r=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t},n=function(e){var t,n,i,r,o,s;return i=(null!=(o=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i))?o[0]:void 0)||"<head></head>",t=(null!=(s=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i))?s[0]:void 0)||"<body></body>",r=document.createElement("html"),r.innerHTML=i+t,n=document.createDocumentFragment(),n.appendChild(r),n},e=function(e){var t,i,o;return t=function(e,t){return{passes:t(),fallback:e}},o=t(r,function(){return function(){var t,n;return 1===(null!=(t=e("<html><body><p>test"))&&null!=(n=t.body)?n.childNodes.length:void 0)}}(this)),i=t(n,function(){return function(){var t,n;return 2===(null!=(t=e("<html><body><form></form><div></div></body></html>"))&&null!=(n=t.body)?n.childNodes.length:void 0)}}(this)),[o,i]};try{if(window.DOMParser)return s=e(i),i}catch(u){return a=u,s=e(t),t}finally{for(l=0,c=s.length;c>l;l++)if(o=s[l],!o.passes)return o.fallback}},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),r=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return ot(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,r;for(n=1<=arguments.length?st.call(arguments,0):[],i=0,r=n.length;r>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(I(this.link.absolute)||et(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new r(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),o=function(){function e(e){this.elementSelector=e,this._trickle=at(this._trickle,this),this.value=0,this.opacity=1,this.content="",this.speed=300,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){return setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=1,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,i;return n=this.speed,this.speed=e,i=t(),this.speed=n,i},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return""+this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),h=function(e){return setTimeout(e,500)},O=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(i.CHANGE),Z(i.UPDATE)},!0)},L=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?Z(i.UPDATE):void 0}):void 0},k=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=j[new n(e.state.url).absolute])?(d(),T(t)):et(e.target.location.href):void 0},N=function(){return U(),q(),v=s(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(){return U(),q()},!1),h(function(){return window.addEventListener("popstate",k,!1)})},A=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),c=window.history&&window.history.pushState&&window.history.replaceState&&A,a=!navigator.userAgent.match(/CriOS\//),X="GET"===(nt=D("request_method"))||""===nt,u=c&&a&&X,l=document.addEventListener&&document.createEvent,l&&(O(),L()),u?(et=x,N()):et=function(e){return document.location.href=e},this.Turbolinks={visit:et,pagesCached:R,enableTransitionCache:E,enableProgressBar:w,allowLinkExtensions:r.allowExtensions,supported:u,EVENTS:m(i)}}.call(this),function(){}.call(this),"undefined"==typeof AC&&(AC={}),AC.Detector={getAgent:function(){return navigator.userAgent.toLowerCase()},isMac:function(e){var t=e||this.getAgent();return!!t.match(/mac/i)},isSnowLeopard:function(e){"undefined"!=typeof console&&console.warn('Instead of AC.Detector.isSnowLeopard, please use AC.Detector.macOSAtLeastVersion("10.6").');var t=e||this.getAgent();return!!t.match(/mac os x 10_6/i)},macOSVersion:function(e){var t=e||this.getAgent();if(!this.isMac(t))return null;var n=t.match(/(mac os x )([\d\._]*)/i);if(null==n)return n;n=n[2].split(n[2].match(/\./)?".":"_");for(var i=0;i<n.length;i++)n[i]=parseInt(n[i]);return n},macOSAtLeastVersion:function(e,t){if("undefined"==typeof e)return!1;var n=this.macOSVersion(t);if(null==n)return!1;"string"==typeof e&&(e=e.replace(".","_").split("_"));for(var i=0;i<e.length;i++){var r=parseInt(n[i]);if(isNaN(r)&&(r=0),parseInt(e[i])>r)return!1}return!0},isWin:function(e){var t=e||this.getAgent();return!!t.match(/win/i)},winVersion:function(e){var t=e||this.getAgent();if(this.isWin(t)){var n=t.match(/nt\s*([\d\.]*)/);return n&&n[1]?parseFloat(n[1]):!0}return!1},winAtLeastVersion:function(e,t){if("undefined"==typeof e)return!1;if(e=parseFloat(e),0/0===e)return!1;var n=this.winVersion(t);return null===n||n===!1||n===!0?!1:n>=e},isWin2k:function(e){var t=e||this.getAgent();return this.isWin(t)&&t.match(/nt\s*5/i)},isWinVista:function(e){var t=e||this.getAgent();return this.isWin(t)&&t.match(/nt\s*6\.0([0-9]{0,2})?/i)},isWebKit:function(e){if(void 0===this._isWebKit){var t=e||this.getAgent();this._isWebKit=!!t.match(/AppleWebKit/i),this.isWebKit=function(){return this._isWebKit}}return this._isWebKit},isSafari2:function(e){"undefined"!=typeof console&&console.warn("Instead of AC.Detector.isSafari2(), please use AC.Detector.isWebKit().");var t=e||this.getAgent();if(void 0===this._isSafari2){if(this.isWebKit(t)){var n=parseInt(parseFloat(t.substring(t.lastIndexOf("safari/")+7)),10);this._isSafari2=n>=419}else this._isSafari2=!1;this.isSafari2=function(){return this._isSafari2}}return this._isSafari2},isChrome:function(e){if(void 0===this._isChrome){var t=e||this.getAgent();this._isChrome=!!t.match(/Chrome/i),this.isChrome=function(){return this._isChrome}}return this._isChrome},isiPhone:function(e){"undefined"!=typeof console&&console.warn("Instead of AC.Detector.isiPhone(), please use AC.Detector.isMobile().");var t=e||this.getAgent();return this.isMobile(t)},iPhoneOSVersion:function(e){"undefined"!=typeof console&&console.warn("Instead of AC.Detector.iPhoneOSVersion(), please use AC.Detector.iOSVersion().");var t,n,i,r=e||this.getAgent(),o=this.isMobile(r);if(o){var t=r.match(/.*CPU ([\w|\s]+) like/i);return t&&t[1]?(n=t[1].split(" "),i=n[2].split("_")):[1]}return null},isiPad:function(e){var t=e||this.getAgent();return!(!this.isWebKit(t)||!t.match(/ipad/i))},isMobile:function(e){var t=e||this.getAgent();return this.isWebKit(t)&&t.match(/Mobile/i)&&!this.isiPad(t)},_iOSVersion:null,iOSVersion:function(){return null===this._iOSVersion&&(this._iOSVersion=AC.Detector.isMobile()||AC.Detector.isiPad()?parseFloat(navigator.userAgent.match(/os ([\d_]*)/i)[1].replace("_",".")):!1),this._iOSVersion},isOpera:function(e){var t=e||this.getAgent();return!!t.match(/opera/i)},isIE:function(e){var t=e||this.getAgent();return!!t.match(/msie/i)},isIEStrict:function(e){var t=e||this.getAgent();return t.match(/msie/i)&&!this.isOpera(t)},isIE8:function(e){var t,n,i;return t=e||this.getAgent(),n=t.match(/msie\D*([\.\d]*)/i),i=-1,n&&n[1]&&(i=n[1]),+i>=8},isFirefox:function(e){var t=e||this.getAgent();return!!t.match(/firefox/i)},isiTunesOK:function(e){var t=e||this.getAgent();return this.isMac(t)?!0:this.winAtLeastVersion(5.1,t)?!0:!1},_isQTInstalled:void 0,isQTInstalled:function(){if(void 0===this._isQTInstalled){var e=!1;if(navigator.plugins&&navigator.plugins.length)for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];n.name.indexOf("QuickTime")>-1&&(e=!0)}else"undefined"!=typeof execScript&&(qtObj=!1,execScript('on error resume next: qtObj = IsObject(CreateObject("QuickTimeCheckObject.QuickTimeCheck.1"))',"VBScript"),e=qtObj);this._isQTInstalled=e}return this._isQTInstalled},getQTVersion:function(){var e="0";if(navigator.plugins&&navigator.plugins.length)for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t],i=n.name.match(/quicktime\D*([\.\d]*)/i);i&&i[1]&&(e=i[1])}else"undefined"!=typeof execScript&&(ieQTVersion=null,execScript('on error resume next: ieQTVersion = CreateObject("QuickTimeCheckObject.QuickTimeCheck.1").QuickTimeVersion',"VBScript"),ieQTVersion&&(e=ieQTVersion.toString(16),e=[e.charAt(0),e.charAt(1),e.charAt(2)].join(".")));return e},isQTCompatible:function(e,t){function n(e,t){var i=parseInt(e[0],10);isNaN(i)&&(i=0);var r=parseInt(t[0],10);return isNaN(r)&&(r=0),i===r?e.length>1?n(e.slice(1),t.slice(1)):!0:r>i?!0:!1}var i=e.split(/\./),r=t?t.split(/\./):this.getQTVersion().split(/\./);return n(i,r)},isValidQTAvailable:function(e){return this.isQTInstalled()&&this.isQTCompatible(e)},isSBVDPAvailable:function(){return!1},_svgAsBackground:null,svgAsBackground:function(e){if(null===this._svgAsBackground){var t=function(){AC.Detector._svgAsBackground=!0,"function"==typeof e&&e()},n=document.createElement("img");n.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D"),n.complete?(n.style.visibility="hidden",n.style.position="absolute",document.body.appendChild(n),window.setTimeout(function(){AC.Detector._svgAsBackground=!1,n.width>=100?(document.body.removeChild(n),t()):document.body.removeChild(n)},1)):(this._svgAsBackground=!1,n.onload=t)}else this._svgAsBackground&&"function"==typeof e&&e();return this._svgAsBackground},_style:null,_prefixes:null,_preFixes:null,_css:null,isCSSAvailable:function(e){switch(this._style||(this._style=document.createElement("browserdetect").style),this._prefixes||(this._prefixes="-webkit- -moz- -o- -ms- -khtml- ".split(" ")),this._preFixes||(this._preFixes="Webkit Moz O ms Khtml ".split(" ")),this._css||(this._css={}),e=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase()){case"gradient":if(void 0!==this._css.gradient)return this._css.gradient;var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return this._style.cssText=(e+this._prefixes.join(t+e)+this._prefixes.join(n+e)).slice(0,-e.length),this._css.gradient=-1!==this._style.backgroundImage.indexOf("gradient"),this._css.gradient;case"inset-box-shadow":if(void 0!==this._css["inset-box-shadow"])return this._css["inset-box-shadow"];var e="box-shadow:",i="#fff 0 1px 1px inset;";return this._style.cssText=this._prefixes.join(e+i),this._css["inset-box-shadow"]=-1!==this._style.cssText.indexOf("inset"),this._css["inset-box-shadow"];default:var r,o,s,a=e.split("-"),l=a.length;if(a.length>0)for(e=a[0],o=1;l>o;o++)e+=a[o].substr(0,1).toUpperCase()+a[o].substr(1);if(r=e.substr(0,1).toUpperCase()+e.substr(1),void 0!==this._css[e])return this._css[e];for(s=this._preFixes.length-1;s>=0;s--)if(void 0!==this._style[this._preFixes[s]+e]||void 0!==this._style[this._preFixes[s]+r])return this._css[e]=!0,!0;return!1}return!1},_supportsThreeD:!1,supportsThreeD:function(){try{if(this._supportsThreeD=!1,"styleMedia"in window?this._supportsThreeD=window.styleMedia.matchMedium("(-webkit-transform-3d)"):"media"in window&&(this._supportsThreeD=window.media.matchMedium("(-webkit-transform-3d)")),!this._supportsThreeD){if(!document.getElementById("supportsThreeDStyle")){var e=document.createElement("style");e.id="supportsThreeDStyle",e.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }",document.querySelector("head").appendChild(e)}(div=document.querySelector("#supportsThreeD"))||(div=document.createElement("div"),div.id="supportsThreeD",document.body.appendChild(div)),this._supportsThreeD=3===div.offsetHeight}return this._supportsThreeD}catch(t){return!1}},_hasGyro:null,_testingForGyro:!1,hasGyro:function(){if(null!==this._hasGyro)return this._hasGyro;if("DeviceOrientationEvent"in window&&null!==window.DeviceOrientationEvent){if(this._testingForGyro===!1){this._testingForGyro=!0;var e=this;this.boundTestingForGyro=function(t){e.testingForGyro(t)},window.addEventListener("deviceorientation",this.boundTestingForGyro,!0),this._testGyroTimeout=window.setTimeout(function(){this._hasGyro=!1}.bind(this),250)}return this._hasGyro}return this._hasGyro=!1},testingForGyro:function(e){return this._hasGyro===!1?this._hasGyro:(this._hasGyro="undefined"!=typeof e.gamma&&"undefined"!=typeof e.beta?!0:!1,window.clearTimeout(this._testGyroTimeout),window.removeEventListener("deviceorientation",this.boundTestingForGyro,!0),delete this.boundTestingForGyro,void 0)},_isiPadWithGyro:null,isiPadWithGyro:function(){return this._isiPadWithGyro!==!1&&this.isiPad()?this._isiPadWithGyro=this.hasGyro():!1},_hasLocalStorage:null,hasLocalStorage:function(){if(null!==this._hasLocalStorage)return this._hasLocalStorage;try{"undefined"!=typeof localStorage&&"setItem"in localStorage?(localStorage.setItem("ac_browser_detect","test"),this._hasLocalStorage=!0,localStorage.removeItem("ac_browser_detect","test")):this._hasLocalStorage=!1}catch(e){this._hasLocalStorage=!1}return this._hasLocalStorage},_hasSessionStorage:null,hasSessionStorage:function(){if(null!==this._hasSessionStorage)return this._hasSessionStorage;try{"undefined"!=typeof sessionStorage&&"setItem"in sessionStorage?(sessionStorage.setItem("ac_browser_detect","test"),this._hasSessionStorage=!0,sessionStorage.removeItem("ac_browser_detect","test")):this._hasSessionStorage=!1}catch(e){this._hasSessionStorage=!1}return this._hasSessionStorage},_hasCookies:null,hasCookies:function(){return null!==this._hasCookies?this._hasCookies:(this._hasCookies="cookie"in document&&navigator.cookieEnabled?!0:!1,this._hasCookies)}},"undefined"==typeof document||"classList"in document.createElement("a")||!function(e){if("HTMLElement"in e||"Element"in e){var t="classList",n="prototype",i=(e.HTMLElement||e.Element)[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(e,t)},c=function(e){for(var t=o.call(e.className),n=t?t.split(/\s+/):[],i=0,r=n.length;r>i;i++)this.push(n[i]);this._updateClassName=function(){e.className=this.toString()}},u=c[n]=[],h=function(){return new c(this)};if(a[n]=Error[n],u.item=function(e){return this[e]||null
},u.contains=function(e){return e+="",-1!==l(this,e)},u.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do e=t[n]+"",-1===l(this,e)&&(this.push(e),r=!0);while(++n<i);r&&this._updateClassName()},u.remove=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"";var o=l(this,e);-1!==o&&(this.splice(o,1),r=!0)}while(++n<i);r&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),i=n?t!==!0&&"remove":t!==!1&&"add";return i&&this[i](e),!n},u.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,t,d)}catch(p){-2146823252===p.number&&(d.enumerable=!1,r.defineProperty(i,t,d))}}else r[n].__defineGetter__&&i.__defineGetter__(t,h)}}(self),document.createEvent)try{new window.CustomEvent("click")}catch(err){window.CustomEvent=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return e.prototype=window.Event.prototype,e}()}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),Array.isArray||(Array.isArray=function(e){return e&&"object"==typeof e&&"splice"in e&&"join"in e}),Array.prototype.every||(Array.prototype.every=function(e,t){var n,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;r>n;n+=1)if(n in i&&!e.call(t,i[n],n,i))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(e,t){var n,i=Object(this),r=i.length>>>0,o=[];if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;r>n;n+=1)n in i&&e.call(t,i[n],n,i)&&o.push(i[n]);return o}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i,r=Object(this);if("function"!=typeof e)throw new TypeError("No function object passed to forEach.");for(n=0;n<this.length;n+=1)i=r[n],e.call(t,i,n,r)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=t||0,i=0;if(0>n&&(n=this.length+t-1,0>n))throw"Wrapped past beginning of array while looking up a negative start index.";for(i=0;i<this.length;i++)if(this[i]===e)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e,t){var n,i=Object(this),r=i.length>>>0;if(t=parseInt(t,10),0>=r)return-1;for(n="number"==typeof t?Math.min(r-1,t):r-1,n=n>=0?n:r-Math.abs(n);n>=0;n-=1)if(n in i&&e===i[n])return n;return-1}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i=Object(this),r=i.length>>>0,o=new Array(r);if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;r>n;n+=1)n in i&&(o[n]=e.call(t,i[n],n,i));return o}),Array.prototype.reduce||(Array.prototype.reduce=function(e,t){var n,i=Object(this),r=i.length>>>0,o=0;if("function"!=typeof e)throw new TypeError(e+" is not a function");if("undefined"==typeof t){if(!r)throw new TypeError("Reduce of empty array with no initial value");n=i[0],o=1}else n=t;for(;r>o;)o in i&&(n=e.call(void 0,n,i[o],o,i),o+=1);return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e,t){var n,i=Object(this),r=i.length>>>0,o=r-1;if("function"!=typeof e)throw new TypeError(e+" is not a function");if(void 0===t){if(!r)throw new TypeError("Reduce of empty array with no initial value");n=i[r-1],o=r-2}else n=t;for(;o>=0;)o in i&&(n=e.call(void 0,n,i[o],o,i),o-=1);return n}),Array.prototype.some||(Array.prototype.some=function(e,t){var n,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;r>n;n+=1)if(n in i&&e.call(t,i[n],n,i)===!0)return!0;return!1}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e,t,n={year:this.getUTCFullYear(),month:this.getUTCMonth()+1,day:this.getUTCDate(),hours:this.getUTCHours(),minutes:this.getUTCMinutes(),seconds:this.getUTCSeconds(),mseconds:(this.getUTCMilliseconds()/1e3).toFixed(3).substr(2,3)};for(e in n)n.hasOwnProperty(e)&&"year"!==e&&"mseconds"!==e&&(n[e]=1===String(n[e]).length?"0"+String(n[e]):String(n[e]));return(n.year<0||n.year>9999)&&(t=n.year<0?"-":"+",n.year=t+String(Math.abs(n.year/1e6)).substr(2,6)),n.year+"-"+n.month+"-"+n.day+"T"+n.hours+":"+n.minutes+":"+n.seconds+"."+n.mseconds+"Z"}),Date.prototype.toJSON||(Date.prototype.toJSON=function(){var e,t=Object(this),n=function(e){var t=typeof e,n=[null,"undefined","boolean","string","number"].some(function(e){return e===t});return n?!0:!1},i=function(e){var t;if(n(e))return e;if(t="function"==typeof e.valueOf?e.valueOf():"function"==typeof e.toString?e.toString():null,t&&n(t))return t;throw new TypeError(e+" cannot be converted to a primitive")};if(e=i(t),"number"==typeof e&&!isFinite(e))return null;if("function"!=typeof t.toISOString)throw new TypeError("toISOString is not callable");return t.toISOString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){var t,n=[];if(!e||"function"!=typeof e.hasOwnProperty)throw"Object.keys called on non-object.";for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}),"undefined"!=typeof JSON&&"stringify"in JSON&&"parse"in JSON||(this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)i=rep[n],"string"==typeof i&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),window.matchMedia=window.matchMedia||function(e){var t,n=e.documentElement,i=n.firstElementChild||n.firstChild,r=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width:42px; }</style>',n.insertBefore(r,i),t=42===o.offsetWidth,n.removeChild(r),{matches:t,media:e}}}(document),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=Date.now(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.XMLHttpRequest=window.XMLHttpRequest||function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e},!function(){var e,t,n,i;!function(){var r={},o={};e=function(e,t,n){r[e]={deps:t,callback:n}},i=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),i=e.split("/").slice(0,-1),r=0,o=n.length;o>r;r++){var s=n[r];if(".."===s)i.pop();else{if("."===s)continue;i.push(s)}}return i.join("/")}if(i._eak_seen=r,o[e])return o[e];if(o[e]={},!r[e])throw new Error("Could not find module "+e);for(var s,a=r[e],l=a.deps,c=a.callback,u=[],h=0,d=l.length;d>h;h++)u.push("exports"===l[h]?s={}:t(n(l[h])));var p=c.apply(this,u);return o[e]=s||p}}(),e("promise/all",["./utils","exports"],function(e,t){function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function i(e){return function(t){o(e,t)}}function o(e,n){a[e]=n,0===--l&&t(a)}var s,a=[],l=e.length;0===l&&t([]);for(var c=0;c<e.length;c++)s=e[c],s&&r(s.then)?s.then(i(c),n):o(c,s)})}var i=e.isArray,r=e.isFunction;t.all=n}),e("promise/asap",["exports"],function(e){function t(){return function(){process.nextTick(r)}}function n(){var e=0,t=new l(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){return function(){c.setTimeout(r,1)}}function r(){for(var e=0;e<u.length;e++){var t=u[e],n=t[0],i=t[1];n(i)}u=[]}function o(e,t){var n=u.push([e,t]);1===n&&s()}var s,a="undefined"!=typeof window?window:{},l=a.MutationObserver||a.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,u=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?n():i(),e.asap=o}),e("promise/config",["exports"],function(e){function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){function i(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=r)}var r=e.Promise,o=t.isFunction;n.polyfill=i}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,i,r,o,s,a){function l(e){if(!E(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(e,this)}function c(e,t){function n(e){f(t,e)}function i(e){g(t,e)}try{e(n,i)}catch(r){i(r)}}function u(e,t,n,i){var r,o,s,a,l=E(n);if(l)try{r=n(i),s=!0}catch(c){a=!0,o=c}else r=i,s=!0;p(t,r)||(l&&s?f(t,r):a?g(t,o):e===O?f(t,r):e===k&&g(t,r))}function h(e,t,n,i){var r=e._subscribers,o=r.length;r[o]=t,r[o+O]=n,r[o+k]=i}function d(e,t){for(var n,i,r=e._subscribers,o=e._detail,s=0;s<r.length;s+=3)n=r[s],i=r[s+t],u(t,n,i,o);e._subscribers=null}function p(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(w(t)&&(i=t.then,E(i)))return i.call(t,function(i){return n?!0:(n=!0,void(t!==i?f(e,i):m(e,i)))},function(t){return n?!0:(n=!0,void g(e,t))}),!0}catch(r){return n?!0:(g(e,r),!0)}return!1}function f(e,t){e===t?m(e,t):p(e,t)||m(e,t)}function m(e,t){e._state===A&&(e._state=N,e._detail=t,b.async(v,e))}function g(e,t){e._state===A&&(e._state=N,e._detail=t,b.async(y,e))}function v(e){d(e,e._state=O)}function y(e){d(e,e._state=k)}var b=e.config,w=(e.configure,t.objectOrFunction),E=t.isFunction,S=(t.now,n.all),C=i.race,x=r.resolve,T=o.reject,_=s.asap;b.async=_;var A=void 0,N=0,O=1,k=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,i=new this.constructor(function(){});if(this._state){var r=arguments;b.async(function(){u(n._state,i,r[n._state-1],n._detail)})}else h(this,i,e,t);return i},"catch":function(e){return this.then(null,e)}},l.all=S,l.race=C,l.resolve=x,l.reject=T,a.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var i,r=0;r<e.length;r++)i=e[r],i&&"function"==typeof i.then?i.then(t,n):t(i)})}var i=e.isArray;t.race=n}),e("promise/reject",["exports"],function(e){function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),e("promise/resolve",["exports"],function(e){function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),e("promise/utils",["exports"],function(e){function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}var r=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=i,e.now=r}),t("promise/polyfill").polyfill()}(),require=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t){var n=e("./ac-ajax/Ajax");t.exports=new n,t.exports.Ajax=n},{"./ac-ajax/Ajax":2}],2:[function(e,t){var n=e("ac-deferred").Deferred,i=function(){};i.prototype={_Deferred:n,_defaults:{timeout:5e3},_addReadyStateChangeHandler:function(e){e.xhr.onreadystatechange=function(){4===e.xhr.readyState&&(clearTimeout(e.timeout),e.xhr.status>=200&&e.xhr.status<300?e.deferred.resolve(e.xhr):e.deferred.reject(e.xhr))}},_addTimeout:function(e,t){t&&(e.timeout=setTimeout(function(){e.xhr.abort(),e.deferred.reject()},t))},_extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},_getOptions:function(e,t){return this._extend({},this._defaults,t,e)},_sendRequest:function(e){var t=this._validateConfiguration(e);if(t)throw t;var i={xhr:new XMLHttpRequest};return i.deferred=new n,i.xhr.open(e.method,e.url),this._setRequestHeaders(i,e.headers),this._addTimeout(i,e.timeout),this._addReadyStateChangeHandler(i),i.xhr.send(e.data),i.deferred.promise()},_setRequestHeaders:function(e,t){t&&t.forEach(function(t){e.xhr.setRequestHeader(t.name,t.value)})},_validateConfiguration:function(e){if(!e)return"Must provide a configuration object";var t=[],n=e.headers;if(e.url||t.push("Must provide a url"),n){if(!Array.isArray(n))return"Must provide an array of headers";this._validateHeaders(n,t)}return t.join(", ")},_validateHeaders:function(e,t){for(var n=0,i=e.length;i>n;n++)if(!e[n].hasOwnProperty("name")||!e[n].hasOwnProperty("value")){t.push("Must provide a name and value key for all headers");break}},checkURL:function(e){return e=this._getOptions({method:"head"},e),this._sendRequest(e)},get:function(e){return e=this._getOptions({method:"get"},e),this._sendRequest(e)},post:function(e){return e=this._getOptions({method:"post"},e),this._sendRequest(e)}},t.exports=i},{"ac-deferred":26}],3:[function(e,t){var n=e("./Environment/Browser"),i={};i.toArray=function(e){return Array.prototype.slice.call(e)},i.flatten=function(e){var t=[],n=function(e){Array.isArray(e)?e.forEach(n):t.push(e)};return e.forEach(n),t},i.without=function(e,t){var n,i=e.indexOf(t),r=e.length;return i>=0?(i===r-1?n=e.slice(0,r-1):0===i?n=e.slice(1):(n=e.slice(0,i),n=n.concat(e.slice(i+1))),n):e},"IE"===n.name&&e("./shims/ie/Array")(i,n),t.exports=i},{"./Environment/Browser":9,"./shims/ie/Array":16}],j0qjr8:[function(e,t){var n=e("./Viewport"),i=e("./log"),r=e("./Element/events"),o=e("./Element/vendorTransformHelper"),s=e("./Environment/Browser"),a={addEventListener:r.addEventListener,removeEventListener:r.removeEventListener,addVendorPrefixEventListener:r.addVendorPrefixEventListener,removeVendorPrefixEventListener:r.removeVendorPrefixEventListener,addVendorEventListener:function(e,t,n,r){return i("ac-base.Element.addVendorEventListener is deprecated. Please use ac-base.Element.addVendorPrefixEventListener."),this.addVendorPrefixEventListener(e,t,n,r)},removeVendorEventListener:function(e,t,n,r){return i("ac-base.Element.removeVendorEventListener is deprecated. Please use ac-base.Element.removeVendorPrefixEventListener."),this.removeVendorPrefixEventListener(e,t,n,r)}};e("./Element/EventDelegate")(a),a.getElementById=function(e){return"string"==typeof e&&(e=document.getElementById(e)),a.isElement(e)?e:null},a.selectAll=function(e,t){if("undefined"==typeof t)t=document;else if(!a.isElement(t)&&9!==t.nodeType&&11!==t.nodeType)throw new TypeError("ac-base.Element.selectAll: Invalid context nodeType");if("string"!=typeof e)throw new TypeError("ac-base.Element.selectAll: Selector must be a string");return Array.prototype.slice.call(t.querySelectorAll(e))},a.select=function(e,t){if("undefined"==typeof t)t=document;else if(!a.isElement(t)&&9!==t.nodeType&&11!==t.nodeType)throw new TypeError("ac-base.Element.select: Invalid context nodeType");if("string"!=typeof e)throw new TypeError("ac-base.Element.select: Selector must be a string");return t.querySelector(e)};var l=window.Element?function(e){return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}(Element.prototype):null;a.matchesSelector=function(e,t){return a.isElement(e)?l.call(e,t):!1},a.matches=function(e,t){return i("ac-base.Element.matches is deprecated. Use ac-base.Element.filterBySelector instead."),a.filterBySelector(t,e)},a.filterBySelector=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)a.isElement(e[i])&&l.call(e[i],t)&&(n[n.length]=e[i]);return n},a.setOpacity=function(e,t){return i("ac-base.Element.setOpacity is deprecated. Use ac-base.Element.setStyle instead."),a.setStyle(e,{opacity:t})},a.setStyle=function(e,t){if("string"!=typeof t&&"object"!=typeof t||Array.isArray(t))throw new TypeError("styles argument must be either an object or a string");e=a.getElementById(e);var n,i,r;n=a.setStyle.__explodeStyleStringToObject(t);for(r in n)n.hasOwnProperty(r)&&(i=r.replace(/-(\w)/g,a.setStyle.__camelCaseReplace),a.setStyle.__setStyle(e,i,n,n[r]));return e},a.setStyle.__explodeStyleStringToObject=function(e){var t,n,i,r,o="object"==typeof e?e:{};if("string"==typeof e)for(t=e.split(";"),i=t.length,r=0;i>r;r+=1)n=t[r].indexOf(":"),n>0&&(o[t[r].substr(0,n).trim()]=t[r].substr(n+1).trim());return o},a.setStyle.__setStyle=function(e,t,n,i){"undefined"!=typeof e.style[t]&&(e.style[t]=i)},a.setStyle.__camelCaseReplace=function(e,t,n,i){return 0===n&&"moz"!==i.substr(1,3)?t:t.toUpperCase()},a.getStyle=function(e,t,n){var i;return t=t.replace(/-(\w)/g,a.setStyle.__camelCaseReplace),e=a.getElementById(e),t="float"===t?"cssFloat":t,n=n||window.getComputedStyle(e,null),i=n?n[t]:null,"opacity"===t?i?parseFloat(i):1:"auto"===i?null:i},a.cumulativeOffset=function(e){var t=a.getBoundingBox(e),i=n.scrollOffsets(),r=[t.top+i.y,t.left+i.x];return r.top=r[0],r.left=r[1],r},a.getBoundingBox=function(e){e=a.getElementById(e);var t=e.getBoundingClientRect(),n=t.width||t.right-t.left,i=t.height||t.bottom-t.top;return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:n,height:i}},a.getInnerDimensions=function(e){var t,n,i=a.getBoundingBox(e),r=i.width,o=i.height,s=window.getComputedStyle?window.getComputedStyle(e,null):null;return["padding","border"].forEach(function(i){["Top","Right","Bottom","Left"].forEach(function(l){t="border"===i?i+l+"Width":i+l,n=parseFloat(a.getStyle(e,t,s)),n=isNaN(n)?0:n,("Right"===l||"Left"===l)&&(r-=n),("Top"===l||"Bottom"===l)&&(o-=n)})}),{width:r,height:o}},a.getOuterDimensions=function(e){var t,n=a.getBoundingBox(e),i=n.width,r=n.height,o=window.getComputedStyle?window.getComputedStyle(e,null):null;return["margin"].forEach(function(n){["Top","Right","Bottom","Left"].forEach(function(s){t=parseFloat(a.getStyle(e,n+s,o)),t=isNaN(t)?0:t,("Right"===s||"Left"===s)&&(i+=t),("Top"===s||"Bottom"===s)&&(r+=t)})}),{width:i,height:r}},a.hasClassName=function(e,t){var n=a.getElementById(e);return n&&""!==n.className?new RegExp("(\\s|^)"+t+"(\\s|$)").test(n.className):!1},a.addClassName=function(e,t){var n=a.getElementById(e);n.classList?n.classList.add(t):a.hasClassName(n,t)||(n.className+=" "+t)},a.removeClassName=function(e,t){var n=a.getElementById(e);if(a.hasClassName(n,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i,"$1").trim()}},a.toggleClassName=function(e,t){var n=a.getElementById(e);n.classList?n.classList.toggle(t):a.hasClassName(n,t)?a.removeClassName(n,t):a.addClassName(n,t)},a.isElement=function(e){return!(!e||1!==e.nodeType)},a.setVendorPrefixStyle=function(e,t,n){if("string"!=typeof t)throw new TypeError("ac-base.Element.setVendorPrefixStyle: property must be a string");if("string"!=typeof n&&"number"!=typeof n)throw new TypeError("ac-base.Element.setVendorPrefixStyle: value must be a string or a number");n+="",e=a.getElementById(e);var i,r,o=["","webkit","Moz","ms","O"];t=t.replace(/-(webkit|moz|ms|o)-/i,""),t=t.replace(/^(webkit|Moz|ms|O)/,""),t=t.charAt(0).toLowerCase()+t.slice(1),t=t.replace(/-(\w)/,function(e,t){return t.toUpperCase()}),n=n.replace(/-(webkit|moz|ms|o)-/,"-vendor-"),o.forEach(function(o){i=""===o?t:o+t.charAt(0).toUpperCase()+t.slice(1),r=""===o?n.replace("-vendor-",""):n.replace("-vendor-","-"+o.charAt(0).toLowerCase()+o.slice(1)+"-"),i in e.style&&a.setStyle(e,i+":"+r)})},a.getVendorPrefixStyle=function(e,t){if("string"!=typeof t)throw new TypeError("ac-base.Element.getVendorPrefixStyle: property must be a string");e=a.getElementById(e);var n,i=["","webkit","Moz","ms","O"];return t=t.replace(/-(webkit|moz|ms|o)-/i,""),t=t.replace(/^(webkit|Moz|ms|O)/,"").charAt(0).toLowerCase()+t.slice(1),t=t.replace(/-(\w)/,function(e,t){return t.toUpperCase()}),i.some(function(i){var r=""===i?t:i+t.charAt(0).toUpperCase()+t.slice(1);return r in e.style?(n=a.getStyle(e,r),!0):void 0}),n},a.insert=function(e,t,n){if(!e||1!==e.nodeType&&3!==e.nodeType&&11!==e.nodeType)throw new TypeError("ac-base.Element.insert: element must be a valid node of type element, text, or document fragment");if(!t||1!==t.nodeType&&11!==t.nodeType)throw new TypeError("ac-base.Element.insert: target must be a valid node of type element or document fragment");switch(n){case"before":if(11===t.nodeType)throw new TypeError("ac-base.Element.insert: target cannot be nodeType of documentFragment when using placement \u2018before\u2019");t.parentNode.insertBefore(e,t);break;case"after":if(11===t.nodeType)throw new TypeError("ac-base.Element.insert: target cannot be nodeType of documentFragment when using placement \u2018after\u2019");t.parentNode.insertBefore(e,t.nextSibling);break;case"first":t.insertBefore(e,t.firstChild);break;default:t.appendChild(e)}},a.insertAt=function(e,t,n){var i,r,o;if(e=a.getElementById(e),t=a.getElementById(t),!a.isElement(e)||!a.isElement(t))throw new TypeError("ac-base.Element.insertAt: element must be a valid DOM element");if(i=a.children(t),0>n&&i.length&&(n+=i.length),t.contains(e)&&n>i.indexOf(e)&&n++,i&&n<=i.length-1){for(o=0,r=i.length;r>o;o++)if(o===n){t.insertBefore(e,i[o]);break}}else t.appendChild(e)},a.children=function(e){var t,n;if(e=a.getElementById(e),!a.isElement(e))throw new TypeError("ac-base.Element.children: element must be a valid DOM element");if(e.children){t=[];for(var i=0,r=e.children.length;r>i;i++)n=e.children[i],n&&1===n.nodeType&&t.push(n)}return t.length?t:null},a.remove=function(e,t){if(!a.isElement(e))throw new TypeError("ac-base.Element.remove: element must be a valid DOM element");if(t===!0){var n=e.parentNode.removeChild(e);return n}e.parentNode.removeChild(e)},a.viewportOffset=function(e){var t=a.getBoundingBox(e);return{x:t.left,y:t.top}},a.pixelsInViewport=function(e,t){var i;if(!a.isElement(e))throw new TypeError("ac-base.Element.pixelsInViewport : element must be a valid DOM element");var r=n.dimensions();t=t||a.getBoundingBox(e);var o=t.top;return o>=0?(i=r.height-o,i>t.height&&(i=t.height)):i=t.height+o,0>i&&(i=0),i>r.height&&(i=r.height),i},a.percentInViewport=function(e){var t=a.getBoundingBox(e),n=a.pixelsInViewport(e,t);return n/t.height},a.isInViewport=function(e,t){("number"!=typeof t||t>1||0>t)&&(t=0);var n=a.percentInViewport(e);return n>t||1===n};var c=function(e,t){e=a.getElementById(e);for(var n=e.parentNode;n&&a.isElement(n)&&("function"!=typeof t||t(n)!==!1);)n=n!==document.body?n.parentNode:null};a.ancestors=function(e,t){var n=[];return c(e,function(e){(void 0===t||a.matchesSelector(e,t))&&n.push(e)}),n},a.ancestor=function(e,t){e=a.getElementById(e);var n=null;return null!==e&&void 0===t?e.parentNode:(c(e,function(e){return a.matchesSelector(e,t)?(n=e,!1):void 0}),n)},a.setVendorPrefixTransform=function(e,t){if("string"!=typeof t&&"object"!=typeof t||Array.isArray(t)||null===t)throw new TypeError("ac-base.Element.setVendorPrefixTransform: transformFunctions argument must be either an object or a string");a.setVendorPrefixStyle(e,"transform",o.convert2dFunctions(t))},"IE"===s.name&&e("./shims/ie/Element")(a,s),t.exports=a},{"./Element/EventDelegate":6,"./Element/events":7,"./Element/vendorTransformHelper":8,"./Environment/Browser":9,"./Viewport":14,"./log":15,"./shims/ie/Element":17}],"ac-element":[function(e,t){t.exports=e("j0qjr8")},{}],6:[function(e,t){t.exports=function(e){function t(e,t){this.element=e,this.options=t||{}}t.prototype={__findMatchingTarget:function(t){var n=null;return n=e.matchesSelector(t,this.options.selector)?t:e.ancestor(t,this.options.selector)},__generateDelegateMethod:function(){var e=this,n=e.options.handler;return function(i){var r,o=i.target||i.srcElement,s=e.__findMatchingTarget(o);null!==s&&(r=new t.Event(i),r.setTarget(s),n(r))}},attachEventListener:function(){return this.__delegateMethod=this.__generateDelegateMethod(),e.addEventListener(this.element,this.options.eventType,this.__delegateMethod),this.__delegateMethod},unbind:function(){e.removeEventListener(this.element,this.options.eventType,this.__delegateMethod),this.__delegateMethod=void 0}},t.instances=[],t.filterInstances=function(e){var n=[];return t.instances.forEach(function(t){e(t)===!0&&n.push(t)}),n},t.Event=function(e){this.originalEvent=e},t.Event.prototype.setTarget=function(e){this.target=e,this.currentTarget=e},e.addEventDelegate=function(n,i,r,o){var s=new e.__EventDelegate(n,{eventType:i,selector:r,handler:o});return t.instances.push(s),s.attachEventListener()},e.removeEventDelegate=function(t,n,i,r){var o=e.__EventDelegate.filterInstances(function(e){var o=e.options;return e.element===t&&o.selector===i&&o.eventType===n&&o.handler===r});o.forEach(function(e){e.unbind()})},e.__EventDelegate=t}},{}],7:[function(e,t){var n={};n.addEventListener=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,e},n.dispatchEvent=function(e,t){return document.createEvent?e.dispatchEvent(new CustomEvent(t)):e.fireEvent("on"+t,document.createEventObject()),e},n.removeEventListener=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n),e},n.addVendorPrefixEventListener=function(e,t,i,r){return t=t.match(/^webkit/i)?t.replace(/^webkit/i,""):t.match(/^moz/i)?t.replace(/^moz/i,""):t.match(/^ms/i)?t.replace(/^ms/i,""):t.match(/^o/i)?t.replace(/^o/i,""):t.charAt(0).toUpperCase()+t.slice(1),/WebKit/i.test(window.navigator.userAgent)?n.addEventListener(e,"webkit"+t,i,r):/Opera/i.test(window.navigator.userAgent)?n.addEventListener(e,"O"+t,i,r):/Gecko/i.test(window.navigator.userAgent)?n.addEventListener(e,t.toLowerCase(),i,r):(t=t.charAt(0).toLowerCase()+t.slice(1),n.addEventListener(e,t,i,r))},n.removeVendorPrefixEventListener=function(e,t,i,r){return t=t.match(/^webkit/i)?t.replace(/^webkit/i,""):t.match(/^moz/i)?t.replace(/^moz/i,""):t.match(/^ms/i)?t.replace(/^ms/i,""):t.match(/^o/i)?t.replace(/^o/i,""):t.charAt(0).toUpperCase()+t.slice(1),n.removeEventListener(e,"webkit"+t,i,r),n.removeEventListener(e,"O"+t,i,r),n.removeEventListener(e,t.toLowerCase(),i,r),t=t.charAt(0).toLowerCase()+t.slice(1),n.removeEventListener(e,t,i,r)},t.exports=n},{}],8:[function(e,t){var n={__objectifiedFunctions:{},__paramMaps:{translate:"p1, p2, 0",translateX:"p1, 0, 0",translateY:"0, p1, 0",scale:"p1, p2, 1",scaleX:"p1, 1, 1",scaleY:"1, p1, 1",rotate:"0, 0, 1, p1",matrix:"p1, p2, 0, 0, p3, p4, 0, 0, 0, 0, 1, 0, p5, p6, 0, 1"},convert2dFunctions:function(e){var t;this.__init(e);for(var n in this.__objectifiedFunctions)if(this.__objectifiedFunctions.hasOwnProperty(n))if(t=this.__objectifiedFunctions[n].replace(" ","").split(","),n in this.__paramMaps)for(var i in this.__paramMaps)n===i&&this.valuesToSet.push(this.__stripFunctionAxis(n)+"3d("+this.__map2DTransformParams(t,this.__paramMaps[n])+")");else this.valuesToSet.push(n+"("+this.__objectifiedFunctions[n]+")");return this.valuesToSet.join(" ")},__init:function(e){this.valuesToSet=[],this.__objectifiedFunctions="object"==typeof e?e:{},"string"==typeof e&&(this.__objectifiedFunctions=this.__objectifyFunctionString(e))},__map2DTransformParams:function(e,t){return e.forEach(function(e,n){t=t.replace("p"+(n+1),e)}),t},__splitFunctionStringToArray:function(e){return e.match(/[\w]+\(.+?\)/g)},__splitFunctionNameAndParams:function(e){return e.match(/(.*)\((.*)\)/)},__stripFunctionAxis:function(e){return e.match(/([a-z]+)(|X|Y)$/)[1]},__objectifyFunctionString:function(e){var t,n=this;return this.__splitFunctionStringToArray(e).forEach(function(e){t=n.__splitFunctionNameAndParams(e),n.__objectifiedFunctions[t[1]]=t[2]}),this.__objectifiedFunctions}};t.exports=n},{}],9:[function(e,t){var n=e("./Browser/BrowserData"),i=n.create();i.isWebKit=function(e){var t=e||window.navigator.userAgent;return t?!!t.match(/applewebkit/i):!1},i.lowerCaseUserAgent=navigator.userAgent.toLowerCase(),"IE"===i.name&&e("../shims/ie/Environment/Browser")(i),t.exports=i},{"../shims/ie/Environment/Browser":18,"./Browser/BrowserData":10}],10:[function(e,t){function n(){}var i=e("./data"),r=e("../../RegExp");n.prototype={__getBrowserVersion:function(e,t){if(e&&t){var n=i.browser.filter(function(e){return e.identity===t})[0],r=n.versionSearch||t,o=e.indexOf(r);return o>-1?parseFloat(e.substring(o+r.length+1)):void 0}},__getName:function(e){return this.__getIdentityStringFromArray(e)},__getIdentity:function(e){return e.string?this.__matchSubString(e):e.prop?e.identity:void 0},__getIdentityStringFromArray:function(e){for(var t,n=0,i=e.length;i>n;n++)if(t=this.__getIdentity(e[n]))return t},__getOS:function(e){return this.__getIdentityStringFromArray(e)},__getOSVersion:function(e,t){if(e&&t){var n=i.os.filter(function(e){return e.identity===t})[0],r=n.versionSearch||t,o=new RegExp(r+" ([\\d_\\.]+)","i"),s=e.match(o);return null!==s?s[1].replace(/_/g,"."):void 0}},__matchSubString:function(e){var t,n=e.subString;return n&&(t=r.isRegExp(n)&&!!e.string.match(n),t||e.string.indexOf(n)>-1)?e.identity:void 0
}},n.create=function(){var e=new n,t={};return t.name=e.__getName(i.browser),t.version=e.__getBrowserVersion(i.versionString,t.name),t.os=e.__getOS(i.os),t.osVersion=e.__getOSVersion(i.versionString,t.os),t},t.exports=n},{"../../RegExp":13,"./data":11}],11:[function(e,t){t.exports={browser:[{string:window.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:window.navigator.userAgent,subString:/silk/i,identity:"Silk"},{string:window.navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:window.navigator.userAgent,subString:/mobile\/[^\s]*\ssafari\//i,identity:"Safari Mobile",versionSearch:"Version"},{string:window.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:window.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:window.navigator.vendor,subString:"Camino",identity:"Camino"},{string:window.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:window.navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:window.navigator.userAgent,subString:"Trident",identity:"IE",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],os:[{string:window.navigator.platform,subString:"Win",identity:"Windows",versionSearch:"Windows NT"},{string:window.navigator.platform,subString:"Mac",identity:"OS X"},{string:window.navigator.userAgent,subString:"iPhone",identity:"iOS",versionSearch:"iPhone OS"},{string:window.navigator.userAgent,subString:"iPad",identity:"iOS",versionSearch:"CPU OS"},{string:window.navigator.userAgent,subString:/android/i,identity:"Android"},{string:window.navigator.platform,subString:"Linux",identity:"Linux"}],versionString:window.navigator.userAgent||window.navigator.appVersion||void 0}},{}],12:[function(e,t){var n=null;t.exports=function(){return null===n&&(n=!(!window.localStorage||null===window.localStorage.non_existent)),n}},{}],13:[function(e,t){var n={};n.isRegExp=function(e){return window.RegExp?e instanceof RegExp:!1},t.exports=n},{}],14:[function(e,t){var n={};n.scrollOffsets=function(){return{x:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},n.dimensions=function(){return{height:window.innerHeight||document.documentElement.clientHeight,width:window.innerWidth||document.documentElement.clientWidth}},t.exports=n},{}],15:[function(e,t){var n=e("./Environment/Feature/localStorageAvailable"),i="f7c9180f-5c45-47b4-8de4-428015f096c0",r=n()&&!!window.localStorage.getItem(i);t.exports=function(e){window.console&&"function"==typeof console.log&&r&&console.log(e)}},{"./Environment/Feature/localStorageAvailable":12}],16:[function(e,t){t.exports=function(e,t){t.IE.documentMode<=8&&(e.toArray=function(e){var t,n=[],i=e.length;if(i>0)for(t=0;i>t;t+=1)n.push(e[t]);return n})}},{}],17:[function(e,t){var n=e("../../Array"),i=e("../../vendor/Sizzle");t.exports=function(e,t,r){var o=t.IE.documentMode;r=r||i,8>o?e.selectAll=function(t,i){if("undefined"==typeof i)i=document;else if(!e.isElement(i)&&9!==i.nodeType&&11!==i.nodeType)throw new TypeError("ac-base.Element.selectAll: Invalid context nodeType");if("string"!=typeof t)throw new TypeError("ac-base.Element.selectAll: Selector must be a string");if(11===i.nodeType){var o,s=[];return n.toArray(i.childNodes).forEach(function(e){r.matchesSelector(e,t)&&s.push(e),(o=r(t,e).length>0)&&s.concat(o)}),s}return r(t,i)}:9>o&&(e.selectAll=function(t,i){if("undefined"==typeof i)i=document;else if(!e.isElement(i)&&9!==i.nodeType&&11!==i.nodeType)throw new TypeError("ac-base.Element.selectAll: Invalid context nodeType");if("string"!=typeof t)throw new TypeError("ac-base.Element.selectAll: Selector must be a string");return n.toArray(i.querySelectorAll(t))}),8>o&&(e.select=function(t,i){if("undefined"==typeof i)i=document;else if(!e.isElement(i)&&9!==i.nodeType&&11!==i.nodeType)throw new TypeError("ac-base.Element.select: Invalid context nodeType");if("string"!=typeof t)throw new TypeError("ac-base.Element.select: Selector must be a string");if(11===i.nodeType){var o,s=[];return n.toArray(i.childNodes).some(function(e){return r.matchesSelector(e,t)?(s=e,!0):(o=r(t,e).length>0)?(s=o[0],!0):void 0}),s}return r(t,i)[0]}),9>o&&(e.matchesSelector=function(e,t){return r.matchesSelector(e,t)},e.filterBySelector=function(e,t){return r.matches(t,e)}),9>o&&"function"!=typeof window.getComputedStyle&&(e.getStyle=function(t,n,i){t=e.getElementById(t);var r,o;return i=i||t.currentStyle,i?(n=n.replace(/-(\w)/g,e.setStyle.__camelCaseReplace),n="float"===n?"styleFloat":n,"opacity"===n?(r=t.filters["DXImageTransform.Microsoft.Alpha"]||t.filters.Alpha,r?parseFloat(r.Opacity/100):1):(o=i[n]||null,"auto"===o?null:o)):void 0}),8>=o&&(e.setStyle.__superSetStyle=e.setStyle.__setStyle,e.setStyle.__setStyle=function(t,n,i,r){"opacity"===n?e.setStyle.__setOpacity(t,r):e.setStyle.__superSetStyle(t,n,i,r)},e.setStyle.__setOpacity=function(e,t){t=t>1?1:100*(1e-5>t?0:t);var n=e.filters["DXImageTransform.Microsoft.Alpha"]||e.filters.Alpha;n?n.Opacity=t:e.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+t+")"}),t.version<8&&(e.getBoundingBox=function(t){t=e.getElementById(t);var n=t.offsetLeft,i=t.offsetTop,r=t.offsetWidth,o=t.offsetHeight;return{top:i,right:n+r,bottom:i+o,left:n,width:r,height:o}})}},{"../../Array":3,"../../vendor/Sizzle":19}],18:[function(e,t){t.exports=function(e){function t(){var e;return document.documentMode?e=parseInt(document.documentMode,10):(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7)),e}e.IE={documentMode:t()}}},{}],19:[function(e,t){!function(e,n){function i(e,t,n,i){for(var r=0,o=t.length;o>r;r++)ot(e,t[r],n,i)}function r(e,t,n,r,o,s){var a,l=st.setFilters[t.toLowerCase()];return l||ot.error(t),(e||!(a=o))&&i(e||"*",r,a=[],o),a.length>0?l(a,n,s):[]}function o(e,t,o,s,a){for(var l,c,u,h,d,p,f,m,g=0,v=a.length,y=U.POS,b=new RegExp("^"+y.source+"(?!"+T+")","i"),w=function(){for(var e=1,t=arguments.length-2;t>e;e++)arguments[e]===n&&(l[e]=n)};v>g;g++){for(y.exec(""),e=a[g],h=[],u=0,d=s;l=y.exec(e);)m=y.lastIndex=l.index+l[0].length,m>u&&(f=e.slice(u,l.index),u=m,p=[t],I.test(f)&&(d&&(p=d),d=s),(c=V.test(f))&&(f=f.slice(0,-5).replace(I,"$&*")),l.length>1&&l[0].replace(b,w),d=r(f,l[1],l[2],p,d,c));d?(h=h.concat(d),(f=e.slice(u))&&")"!==f?i(f,h,o,s):C.apply(o,h)):ot(e,t,o,s)}return 1===v?o:ot.uniqueSort(o)}function s(e,t,n){for(var i,r,o,s=[],a=0,l=D.exec(e),c=!l.pop()&&!l.pop(),u=c&&e.match(R)||[""],h=st.preFilter,d=st.filter,p=!n&&t!==g;null!=(r=u[a])&&c;a++)for(s.push(i=[]),p&&(r=" "+r);r;){c=!1,(l=I.exec(r))&&(r=r.slice(l[0].length),c=i.push({part:l.pop().replace(j," "),captures:l}));for(o in d)!(l=U[o].exec(r))||h[o]&&!(l=h[o](l,t,n))||(r=r.slice(l.shift().length),c=i.push({part:o,captures:l}));if(!c)break}return c||ot.error(e),s}function a(e,t,n){var i=t.dir,r=E++;return e||(e=function(e){return e===n}),t.first?function(t,n){for(;t=t[i];)if(1===t.nodeType)return e(t,n)&&t}:function(t,n){for(var o,s=r+"."+d,a=s+"."+h;t=t[i];)if(1===t.nodeType){if((o=t[x])===a)return!1;if("string"==typeof o&&0===o.indexOf(s)){if(t.sizset)return t}else{if(t[x]=a,e(t,n))return t.sizset=!0,t;t.sizset=!1}}}}function l(e,t){return e?function(n,i){var r=t(n,i);return r&&e(r===!0?n:r,i)}:t}function c(e,t,n){for(var i,r,o=0;i=e[o];o++)st.relative[i.part]?r=a(r,st.relative[i.part],t):(i.captures.push(t,n),r=l(r,st.filter[i.part].apply(null,i.captures)));return r}function u(e){return function(t,n){for(var i,r=0;i=e[r];r++)if(i(t,n))return!0;return!1}}var h,d,p,f,m,g=e.document,v=g.documentElement,y="undefined",b=!1,w=!0,E=0,S=[].slice,C=[].push,x=("sizcache"+Math.random()).replace(".",""),T="[\\x20\\t\\r\\n\\f]",_="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])",A="(?:[\\w#_-]|[^\\x00-\\xa0]|\\\\.)",N="([*^$|!~]?=)",O="\\["+T+"*("+_+"+)"+T+"*(?:"+N+T+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+A+"+)|)|)"+T+"*\\]",k=":("+_+"+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|(.*))\\)|)",L=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",M=T+"*([\\x20\\t\\r\\n\\f>+~])"+T+"*",P="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+O+"|"+k.replace(2,7)+"|[^\\\\(),])+",j=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g"),I=new RegExp("^"+M),R=new RegExp(P+"?(?="+T+"*,|$)","g"),D=new RegExp("^(?:(?!,)(?:(?:^|,)"+T+"*"+P+")*?|"+T+"*(.*?))(\\)|$)"),F=new RegExp(P.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+M,"g"),H=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,B=/[\x20\t\r\n\f]*[+~]/,V=/:not\($/,$=/h\d/i,z=/input|select|textarea|button/i,q=/\\(?!\\)/g,U={ID:new RegExp("^#("+_+"+)"),CLASS:new RegExp("^\\.("+_+"+)"),NAME:new RegExp("^\\[name=['\"]?("+_+"+)['\"]?\\]"),TAG:new RegExp("^("+_.replace("[-","[-\\*")+"+)"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+k),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),POS:new RegExp(L,"ig"),needsContext:new RegExp("^"+T+"*[>+~]|"+L,"i")},W={},K=[],X={},G=[],Q=function(e){return e.sizzleFilter=!0,e},Y=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}},J=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}},Z=function(e){var t=!1,n=g.createElement("div");try{t=e(n)}catch(i){}return n=null,t},et=Z(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),tt=Z(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",v.insertBefore(e,v.firstChild);var t=g.getElementsByName&&g.getElementsByName(x).length===2+g.getElementsByName(x+0).length;return m=!g.getElementById(x),v.removeChild(e),t}),nt=Z(function(e){return e.appendChild(g.createComment("")),0===e.getElementsByTagName("*").length}),it=Z(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==y&&"#"===e.firstChild.getAttribute("href")}),rt=Z(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length?(e.lastChild.className="e",1!==e.getElementsByClassName("e").length):!1}),ot=function(e,t,n,i){n=n||[],t=t||g;var r,o,s,a,l=t.nodeType;if(1!==l&&9!==l)return[];if(!e||"string"!=typeof e)return n;if(s=lt(t),!s&&!i&&(r=H.exec(e)))if(a=r[1]){if(9===l){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&ct(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return C.apply(n,S.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&rt&&t.getElementsByClassName)return C.apply(n,S.call(t.getElementsByClassName(a),0)),n}return dt(e,t,n,i,s)},st=ot.selectors={cacheLength:50,match:U,order:["ID","TAG"],attrHandle:{},createPseudo:Q,find:{ID:m?function(e,t,n){if(typeof t.getElementById!==y&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,t,i){if(typeof t.getElementById!==y&&!i){var r=t.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==y&&r.getAttributeNode("id").value===e?[r]:n:[]}},TAG:nt?function(e,t){return typeof t.getElementsByTagName!==y?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,""),e[3]=(e[4]||e[5]||"").replace(q,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||ot.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=e[4];return U.CHILD.test(e[0])?null:(n&&(t=D.exec(n))&&t.pop()&&(e[0]=e[0].slice(0,t[0].length-n.length-1),n=t[0].slice(0,-1)),e.splice(2,3,n||e[3]),e)}},filter:{ID:m?function(e){return e=e.replace(q,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(q,""),function(t){var n=typeof t.getAttributeNode!==y&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(q,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[e];return t||(t=W[e]=new RegExp("(^|"+T+")"+e+"("+T+"|$)"),K.push(e),K.length>st.cacheLength&&delete W[K.shift()]),function(e){return t.test(e.className||typeof e.getAttribute!==y&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return t?function(i){var r=ot.attr(i,e),o=r+"";if(null==r)return"!="===t;switch(t){case"=":return o===n;case"!=":return o!==n;case"^=":return n&&0===o.indexOf(n);case"*=":return n&&o.indexOf(n)>-1;case"$=":return n&&o.substr(o.length-n.length)===n;case"~=":return(" "+o+" ").indexOf(n)>-1;case"|=":return o===n||o.substr(0,n.length+1)===n+"-"}}:function(t){return null!=ot.attr(t,e)}},CHILD:function(e,t,n,i){if("nth"===e){var r=E++;return function(e){var t,o,s=0,a=e;if(1===n&&0===i)return!0;if(t=e.parentNode,t&&(t[x]!==r||!e.sizset)){for(a=t.firstChild;a&&(1!==a.nodeType||(a.sizset=++s,a!==e));a=a.nextSibling);t[x]=r}return o=e.sizset-i,0===n?0===o:o%n===0&&o/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,n,i){var r=st.pseudos[e]||st.pseudos[e.toLowerCase()];return r||ot.error("unsupported pseudo: "+e),r.sizzleFilter?r(t,n,i):r}},pseudos:{not:Q(function(e,t,n){var i=ht(e.replace(j,"$1"),t,n);return function(e){return!i(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},contains:Q(function(e){return function(t){return(t.textContent||t.innerText||ut(t)).indexOf(e)>-1}}),has:Q(function(e){return function(t){return ot(e,t).length>0}}),header:function(e){return $.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:Y("radio"),checkbox:Y("checkbox"),file:Y("file"),password:Y("password"),image:Y("image"),submit:J("submit"),reset:J("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return z.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var i=e.pop();return n?e:[i]},even:function(e,t,n){for(var i=[],r=n?1:0,o=e.length;o>r;r+=2)i.push(e[r]);return i},odd:function(e,t,n){for(var i=[],r=n?0:1,o=e.length;o>r;r+=2)i.push(e[r]);return i},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var i=e.splice(+t,1);return n?e:i}}};st.setFilters.nth=st.setFilters.eq,st.filters=st.pseudos,it||(st.attrHandle={href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}}),tt&&(st.order.push("NAME"),st.find.NAME=function(e,t){return typeof t.getElementsByName!==y?t.getElementsByName(e):void 0}),rt&&(st.order.splice(1,0,"CLASS"),st.find.CLASS=function(e,t,n){return typeof t.getElementsByClassName===y||n?void 0:t.getElementsByClassName(e)});try{S.call(v.childNodes,0)[0].nodeType}catch(at){S=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}var lt=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},ct=ot.contains=v.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:v.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},ut=ot.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ut(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=ut(t);return n};ot.attr=function(e,t){var n,i=lt(e);return i||(t=t.toLowerCase()),st.attrHandle[t]?st.attrHandle[t](e):et||i?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},[0,0].sort(function(){return w=0}),v.compareDocumentPosition?p=function(e,t){return e===t?(b=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:(p=function(e,t){if(e===t)return b=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,a=t.parentNode,l=s;if(s===a)return f(e,t);if(!s)return-1;if(!a)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=a;l;)o.unshift(l),l=l.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return f(r[c],o[c]);return c===n?f(e,o[c],-1):f(r[c],t,1)},f=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),ot.uniqueSort=function(e){var t,n=1;if(p&&(b=w,e.sort(p),b))for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e};var ht=ot.compile=function(e,t,n){var i,r,o,a=X[e];if(a&&a.context===t)return a.dirruns++,a;for(r=s(e,t,n),o=0;i=r[o];o++)r[o]=c(i,t,n);return a=X[e]=u(r),a.context=t,a.runs=a.dirruns=0,G.push(e),G.length>st.cacheLength&&delete X[G.shift()],a};ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){return ot(t,null,null,[e]).length>0};var dt=function(e,t,n,i,r){e=e.replace(j,"$1");var s,a,l,c,u,p,f,m,g,v=e.match(R),y=e.match(F),b=t.nodeType;if(U.POS.test(e))return o(e,t,n,i,v);if(i)s=S.call(i,0);else if(v&&1===v.length){if(y.length>1&&9===b&&!r&&(v=U.ID.exec(y[0]))){if(t=st.find.ID(v[1],t,r)[0],!t)return n;e=e.slice(y.shift().length)}for(m=(v=B.exec(y[0]))&&!v.index&&t.parentNode||t,g=y.pop(),p=g.split(":not")[0],l=0,c=st.order.length;c>l;l++)if(f=st.order[l],v=U[f].exec(p)){if(s=st.find[f]((v[1]||"").replace(q,""),m,r),null==s)continue;p===g&&(e=e.slice(0,e.length-g.length)+p.replace(U[f],""),e||C.apply(n,S.call(s,0)));break}}if(e)for(a=ht(e,t,r),d=a.dirruns,null==s&&(s=st.find.TAG("*",B.test(e)&&t.parentNode||t)),l=0;u=s[l];l++)h=a.runs++,a(u,t)&&n.push(u);return n};g.querySelectorAll&&!function(){var e,t=dt,n=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,r=[],o=[":active"],s=v.matchesSelector||v.mozMatchesSelector||v.webkitMatchesSelector||v.oMatchesSelector||v.msMatchesSelector;Z(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||r.push("\\["+T+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||r.push(":checked")}),Z(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&r.push("[*^$]="+T+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||r.push(":enabled",":disabled")}),r=r.length&&new RegExp(r.join("|")),dt=function(e,i,o,s,a){if(!(s||a||r&&r.test(e)))if(9===i.nodeType)try{return C.apply(o,S.call(i.querySelectorAll(e),0)),o}catch(l){}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i.getAttribute("id"),u=c||x,h=B.test(e)&&i.parentNode||i;c?u=u.replace(n,"\\$&"):i.setAttribute("id",u);try{return C.apply(o,S.call(h.querySelectorAll(e.replace(R,"[id='"+u+"'] $&")),0)),o}catch(l){}finally{c||i.removeAttribute("id")}}return t(e,i,o,s,a)},s&&(Z(function(t){e=s.call(t,"div");try{s.call(t,"[test!='']:sizzle"),o.push(st.match.PSEUDO)}catch(n){}}),o=new RegExp(o.join("|")),ot.matchesSelector=function(t,n){if(n=n.replace(i,"='$1']"),!(lt(t)||o.test(n)||r&&r.test(n)))try{var a=s.call(t,n);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(l){}return ot(n,null,null,[t]).length>0})}(),"object"==typeof t&&t.exports?t.exports=ot:e.Sizzle=ot}(window)},{}],20:[function(e,t){var n=e("./ac-browser/BrowserData"),i=/applewebkit/i,r=e("./ac-browser/IE"),o=n.create();o.isWebKit=function(e){var t=e||window.navigator.userAgent;return t?!!i.test(t):!1},o.lowerCaseUserAgent=navigator.userAgent.toLowerCase(),"IE"===o.name&&(o.IE={documentMode:r.getDocumentMode()}),t.exports=o},{"./ac-browser/BrowserData":21,"./ac-browser/IE":22}],21:[function(e,t){function n(){}var i=e("./data");n.prototype={__getBrowserVersion:function(e,t){if(e&&t){var n=i.browser.filter(function(e){return e.identity===t})[0],r=n.versionSearch||t,o=e.indexOf(r);return o>-1?parseFloat(e.substring(o+r.length+1)):void 0}},__getName:function(e){return this.__getIdentityStringFromArray(e)},__getIdentity:function(e){return e.string?this.__matchSubString(e):e.prop?e.identity:void 0},__getIdentityStringFromArray:function(e){for(var t,n=0,i=e.length;i>n;n++)if(t=this.__getIdentity(e[n]))return t},__getOS:function(e){return this.__getIdentityStringFromArray(e)},__getOSVersion:function(e,t){if(e&&t){var n=i.os.filter(function(e){return e.identity===t})[0],r=n.versionSearch||t,o=new RegExp(r+" ([\\d_\\.]+)","i"),s=e.match(o);return null!==s?s[1].replace(/_/g,"."):void 0}},__matchSubString:function(e){var t=e.subString;if(t){var n=t.test?!!t.test(e.string):e.string.indexOf(t)>-1;if(n)return e.identity}}},n.create=function(){var e=new n,t={};return t.name=e.__getName(i.browser),t.version=e.__getBrowserVersion(i.versionString,t.name),t.os=e.__getOS(i.os),t.osVersion=e.__getOSVersion(i.versionString,t.os),t},t.exports=n},{"./data":23}],22:[function(e,t){t.exports={getDocumentMode:function(){var e;return document.documentMode?e=parseInt(document.documentMode,10):(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7)),e}}},{}],23:[function(e,t){t.exports=e(11)},{}],24:[function(e,t,n){!function(e,i){"object"==typeof n&&n?t.exports=i:"function"==typeof define&&define.amd?define(i):e.Deferred=i}(this,function(){var e,t,n,i,r,o,s,a,l={};e={0:"pending",1:"resolved",2:"rejected"},t=function(e,t){var n,i,r,o,s;if(0!==this._status)return console&&console.warn&&console.warn("Trying to fulfill more than once."),!1;for(this.data=t,i=this.pending,r=i.length,n=0;r>n;n++)o=i[n],o[e]&&(s=o[e](t)),"object"==typeof s&&s.hasOwnProperty("then")&&s.hasOwnProperty("status")?s.then(function(e){o.deferred.resolve(e)},function(e){o.deferred.reject(e)},function(e){o.deferred.progress(e)}):o.deferred[e](s||void 0);return"progress"!==e&&(i=[]),!0},o=function(e,t){this.then=e,this.status=t},s=o.prototype,a=function(e){return e},s.success=function(e,t){return this.then(e.bind(t),a,a)},s.fail=function(e,t){return this.then(a,e.bind(t),a)},s.progress=function(e,t){return this.then(a,a,e.bind(t))},i=function(e){return"function"!=typeof e?function(){}:e},n=function(e,t,n){this.resolve=i(e),this.reject=i(t),this.progress=i(n),this.deferred=new r},r=function(){this.pending=[],this._status=0,this._promise=new o(this.then.bind(this),this.status.bind(this))},r.prototype={status:function(){return e[this._status]},promise:function(){return this._promise},progress:function(e){return t.call(this,"progress",e),this._promise},resolve:function(e){return t.call(this,"resolve",e),0===this._status&&(this._status=1),this._promise},reject:function(e){return t.call(this,"reject",e),0===this._status&&(this._status=2),this._promise},then:function(e,t,i){var r,o;return o=new n(e,t,i),0===this._status?this.pending.push(o):1===this._status&&"function"==typeof e?(r=e(this.data),"object"==typeof r&&r.hasOwnProperty("then")&&r.hasOwnProperty("status")?r.then(function(e){o.deferred.resolve(e)},function(e){o.deferred.reject(e)},function(e){o.deferred.progress(e)}):o.deferred.resolve(r)):2===this._status&&"function"==typeof t&&(r=t(this.data),o.deferred.reject(r)),o.deferred.promise()}};var c=function(){var e,t,n,i,o;return e=[].slice.call(arguments),t=new r,n=0,i=function(i){n--;var r=e.indexOf(this);e[r]=i,0===n&&t.resolve(e)},o=function(e){t.reject(e)},e.forEach(function(e){e.then&&n++}),e.forEach(function(e){e.then&&e.then(i.bind(e),o)}),t.promise()};return r.when=c,l.Deferred=r,l}())},{}],25:[function(e,t){function n(){}n.prototype={resolve:function(){return this._defer.resolve.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},reject:function(){return this._defer.reject.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},progress:function(){var e="ac-defer.progress is deprecated since it is not part of the A+ spec. Recommend using ac-event-emitter for progress signaling";return console.warn(e),this._defer.progress.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},then:function(){return this._defer.then.apply(this._defer,Array.prototype.slice.call(arguments)),this.promise()},promise:function(){return this._defer.promise.apply(this._defer,Array.prototype.slice.call(arguments))}},t.exports=n},{}],26:[function(e,t){function n(){this._defer=new r}var i=new(e("./ac-deferred/Deferred")),r=e("smartsign-deferred").Deferred;n.prototype=i,t.exports.join=function(){return r.when.apply(null,[].slice.call(arguments))},t.exports.all=function(e){return r.when.apply(null,e)},t.exports.Deferred=n},{"./ac-deferred/Deferred":25,"smartsign-deferred":24}],27:[function(e,t){var n={};n.addEventListener=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,e},n.dispatchEvent=function(e,t){return document.createEvent?e.dispatchEvent(new CustomEvent(t)):e.fireEvent("on"+t,document.createEventObject()),e},n.removeEventListener=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n),e};var i=/^(webkit|moz|ms|o)/i;n.addVendorPrefixEventListener=function(e,t,r,o){return t=i.test(t)?t.replace(i,""):t.charAt(0).toUpperCase()+t.slice(1),/WebKit/i.test(window.navigator.userAgent)?n.addEventListener(e,"webkit"+t,r,o):/Opera/i.test(window.navigator.userAgent)?n.addEventListener(e,"O"+t,r,o):/Gecko/i.test(window.navigator.userAgent)?n.addEventListener(e,t.toLowerCase(),r,o):(t=t.charAt(0).toLowerCase()+t.slice(1),n.addEventListener(e,t,r,o))},n.removeVendorPrefixEventListener=function(e,t,r,o){return t=i.test(t)?t.replace(i,""):t.charAt(0).toUpperCase()+t.slice(1),n.removeEventListener(e,"webkit"+t,r,o),n.removeEventListener(e,"O"+t,r,o),n.removeEventListener(e,t.toLowerCase(),r,o),t=t.charAt(0).toLowerCase()+t.slice(1),n.removeEventListener(e,t,r,o)},n.stop=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault&&e.preventDefault(),e.stopped=!0,e.returnValue=!1},n.target=function(e){return"undefined"!=typeof e.target?e.target:e.srcElement},t.exports=n},{}],28:[function(e,t){t.exports.EventEmitter=e("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":29}],29:[function(e,t){var n="EventEmitter:propagation",i=function(e){e&&(this.context=e)},r=i.prototype,o=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},s=function(e,t){var n=e[0],i=e[1],r=e[2];if("string"!=typeof n&&"object"!=typeof n||null===n||Array.isArray(n))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof n&&!i)throw new Error("Expecting a callback function to be provided.");if(i&&"function"!=typeof i){if("object"!=typeof n||"object"!=typeof i)throw new TypeError("Expecting callback to be a function.");r=i}if("object"==typeof n)for(var o in n)t.call(this,o,n[o],r);"string"==typeof n&&(n=n.split(" "),n.forEach(function(e){t.call(this,e,i,r)},this))},a=function(e,t){var n,i,r;if(n=o.call(this)[e],n&&0!==n.length)for(n=n.slice(),i=0,r=n.length;r>i&&!t(n[i],i);i++);},l=function(e,t,n){var i=-1;a.call(this,t,function(e,t){return e.callback===n?(i=t,!0):void 0}),-1!==i&&e[t].splice(i,1)};r.on=function(){var e=o.call(this);return s.call(this,arguments,function(t,n,i){e[t]=e[t]||(e[t]=[]),e[t].push({callback:n,context:i})}),this},r.once=function(){return s.call(this,arguments,function(e,t,n){var i=function(r){t.call(n||this,r),this.off(e,i)};this.on(e,i,this)}),this},r.off=function(e,t){var n=o.call(this);if(0===arguments.length)this._events={};else if(!e||"string"!=typeof e&&"object"!=typeof e||Array.isArray(e))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof e)for(var i in e)l.call(this,n,i,e[i]);if("string"==typeof e){var r=e.split(" ");1===r.length?t?l.call(this,n,e,t):n[e]=[]:r.forEach(function(e){n[e]=[]})}return this},r.trigger=function(e,t,i){if(!e)throw new Error("trigger method requires an event name");if("string"!=typeof e)throw new TypeError("Expecting event names to be a string.");if(i&&"boolean"!=typeof i)throw new TypeError("Expecting doNotPropagate to be a boolean.");return e=e.split(" "),e.forEach(function(e){a.call(this,e,function(e){e.callback.call(e.context||this.context||this,t)}.bind(this)),i||a.call(this,n,function(n){var i=e;n.prefix&&(i=n.prefix+i),n.emitter.trigger(i,t)})},this),this},r.propagateTo=function(e,t){var i=o.call(this);i[n]||(this._events[n]=[]),i[n].push({emitter:e,prefix:t})},r.stopPropagatingTo=function(e){var t=o.call(this);if(!e)return void(t[n]=[]);var i,r=t[n],s=r.length;for(i=0;s>i;i++)if(r[i].emitter===e){r.splice(i,1);break}},r.has=function(e,t,n){var i=o.call(this),r=i[e];if(0===arguments.length)return Object.keys(i);if(!t)return r&&r.length>0?!0:!1;for(var s=0,a=r.length;a>s;s++){var l=r[s];if(n&&t&&l.context===n&&l.callback===t)return!0;if(t&&!n&&l.callback===t)return!0}return!1},t.exports=i},{}],30:[function(e,t){var n={cssPropertyAvailable:e("./ac-feature/cssPropertyAvailable"),localStorageAvailable:e("./ac-feature/localStorageAvailable")},i=Object.prototype.hasOwnProperty;n.threeDTransformsAvailable=function(){if("undefined"!=typeof this._threeDTransformsAvailable)return this._threeDTransformsAvailable;var e,t;try{return this._threeDTransformsAvailable=!1,i.call(window,"styleMedia")?this._threeDTransformsAvailable=window.styleMedia.matchMedium("(-webkit-transform-3d)"):i.call(window,"media")&&(this._threeDTransformsAvailable=window.media.matchMedium("(-webkit-transform-3d)")),this._threeDTransformsAvailable||((t=document.getElementById("supportsThreeDStyle"))||(t=document.createElement("style"),t.id="supportsThreeDStyle",t.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }",document.querySelector("head").appendChild(t)),(e=document.querySelector("#supportsThreeD"))||(e=document.createElement("div"),e.id="supportsThreeD",document.body.appendChild(e)),this._threeDTransformsAvailable=3===e.offsetHeight||void 0!==t.style.MozTransform||void 0!==t.style.WebkitTransform),this._threeDTransformsAvailable}catch(n){return!1}},n.canvasAvailable=function(){if("undefined"!=typeof this._canvasAvailable)return this._canvasAvailable;var e=document.createElement("canvas");return this._canvasAvailable=!("function"!=typeof e.getContext||!e.getContext("2d")),this._canvasAvailable},n.sessionStorageAvailable=function(){if("undefined"!=typeof this._sessionStorageAvailable)return this._sessionStorageAvailable;try{"undefined"!=typeof window.sessionStorage&&"function"==typeof window.sessionStorage.setItem?(window.sessionStorage.setItem("ac_browser_detect","test"),this._sessionStorageAvailable=!0,window.sessionStorage.removeItem("ac_browser_detect","test")):this._sessionStorageAvailable=!1}catch(e){this._sessionStorageAvailable=!1}return this._sessionStorageAvailable},n.cookiesAvailable=function(){return"undefined"!=typeof this._cookiesAvailable?this._cookiesAvailable:(this._cookiesAvailable=i.call(document,"cookie")&&navigator.cookieEnabled?!0:!1,this._cookiesAvailable)},n.__normalizedScreenWidth=function(){return"undefined"==typeof window.orientation?window.screen.width:window.screen.width<window.screen.height?window.screen.width:window.screen.height
},n.touchAvailable=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},n.isDesktop=function(){return this.touchAvailable()||window.orientation?!1:!0},n.isHandheld=function(){return!this.isDesktop()&&!this.isTablet()},n.isTablet=function(){return!this.isDesktop()&&this.__normalizedScreenWidth()>480},n.isRetina=function(){var e,t=["min-device-pixel-ratio:1.5","-webkit-min-device-pixel-ratio:1.5","min-resolution:1.5dppx","min-resolution:144dpi","min--moz-device-pixel-ratio:1.5"];if(void 0!==window.devicePixelRatio){if(window.devicePixelRatio>=1.5)return!0}else for(e=0;e<t.length;e+=1)if(window.matchMedia("("+t[e]+")").matches===!0)return!0;return!1},n.svgAvailable=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},t.exports=n},{"./ac-feature/cssPropertyAvailable":31,"./ac-feature/localStorageAvailable":32}],31:[function(e,t){var n=null,i=null,r=null,o=null;t.exports=function(e){switch(null===n&&(n=document.createElement("browserdetect").style),null===i&&(i=["-webkit-","-moz-","-o-","-ms-","-khtml-",""]),null===r&&(r=["Webkit","Moz","O","ms","Khtml",""]),null===o&&(o={}),e=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1\\-$2").replace(/([a-z\d])([A-Z])/g,"$1\\-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase()){case"gradient":if(void 0!==o.gradient)return o.gradient;e="background-image:";var t="gradient(linear,left top,right bottom,from(#9f9),to(white));",s="linear-gradient(left top,#9f9, white);";return n.cssText=(e+i.join(t+e)+i.join(s+e)).slice(0,-e.length),o.gradient=-1!==n.backgroundImage.indexOf("gradient"),o.gradient;case"inset-box-shadow":if(void 0!==o["inset-box-shadow"])return o["inset-box-shadow"];e="box-shadow:";var a="#fff 0 1px 1px inset;";return n.cssText=i.join(e+a),o["inset-box-shadow"]=-1!==n.cssText.indexOf("inset"),o["inset-box-shadow"];default:var l,c,u,h=e.split("-"),d=h.length;if(h.length>0)for(e=h[0],c=1;d>c;c+=1)e+=h[c].substr(0,1).toUpperCase()+h[c].substr(1);if(l=e.substr(0,1).toUpperCase()+e.substr(1),void 0!==o[e])return o[e];for(u=r.length-1;u>=0;u-=1)if(void 0!==n[r[u]+e]||void 0!==n[r[u]+l])return o[e]=!0,!0;return!1}}},{}],32:[function(e,t){var n=null;t.exports=function(){return null===n&&(n=!(!window.localStorage||null===window.localStorage.non_existent)),n}},{}],33:[function(e,t,n){function i(e,t){if(0==e[t].length)return e[t]={};var n={};for(var i in e[t])g.call(e[t],i)&&(n[i]=e[t][i]);return e[t]=n,n}function r(e,t,n,o){var s=e.shift();if(!g.call(Object.prototype,n))if(s){var a=t[n]=t[n]||[];"]"==s?y(a)?""!=o&&a.push(o):"object"==typeof a?a[b(a).length]=o:a=t[n]=[t[n],o]:~v(s,"]")?(s=s.substr(0,s.length-1),!S.test(s)&&y(a)&&(a=i(t,n)),r(e,a,s,o)):(!S.test(s)&&y(a)&&(a=i(t,n)),r(e,a,s,o))}else y(t[n])?t[n].push(o):t[n]="object"==typeof t[n]?o:"undefined"==typeof t[n]?o:[t[n],o]}function o(e,t,n){if(~v(t,"]")){{var i=t.split("[");i.length}r(i,e,"base",n)}else{if(!S.test(t)&&y(e.base)){var o={};for(var s in e.base)o[s]=e.base[s];e.base=o}d(e.base,t,n)}return e}function s(e){if("object"!=typeof e)return e;if(y(e)){var t=[];for(var n in e)g.call(e,n)&&t.push(e[n]);return t}for(var i in e)e[i]=s(e[i]);return e}function a(e){var t={base:{}};return w(b(e),function(n){o(t,n,e[n])}),s(t.base)}function l(e){var t=E(String(e).split("&"),function(e,t){var n=v(t,"="),i=p(t),r=t.substr(0,i||n),s=t.substr(i||n,t.length),s=s.substr(v(s,"=")+1,s.length);return""==r&&(r=t,s=""),""==r?e:o(e,f(r),f(s))},{base:{}}).base;return s(t)}function c(e,t){if(!t)throw new TypeError("stringify expects an object");return t+"="+encodeURIComponent(e)}function u(e,t){var n=[];if(!t)throw new TypeError("stringify expects an object");for(var i=0;i<e.length;i++)n.push(C(e[i],t+"["+i+"]"));return n.join("&")}function h(e,t){for(var n,i=[],r=b(e),o=0,s=r.length;s>o;++o)n=r[o],""!=n&&i.push(null==e[n]?encodeURIComponent(n)+"=":C(e[n],t?t+"["+encodeURIComponent(n)+"]":encodeURIComponent(n)));return i.join("&")}function d(e,t,n){var i=e[t];g.call(Object.prototype,t)||(void 0===i?e[t]=n:y(i)?i.push(n):e[t]=[i,n])}function p(e){for(var t,n,i=e.length,r=0;i>r;++r)if(n=e[r],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return r}function f(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}var m=Object.prototype.toString,g=Object.prototype.hasOwnProperty,v="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},y=Array.isArray||function(e){return"[object Array]"==m.call(e)},b=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},w="function"==typeof Array.prototype.forEach?function(e,t){return e.forEach(t)}:function(e,t){for(var n=0;n<e.length;n++)t(e[n])},E=function(e,t,n){if("function"==typeof e.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=t(i,e[r]);return i},S=/^[0-9]+$/;n.parse=function(e){return null==e||""==e?{}:"object"==typeof e?a(e):l(e)};var C=n.stringify=function(e,t){return y(e)?u(e,t):"[object Object]"==m.call(e)?h(e,t):"string"==typeof e?c(e,t):t+"="+encodeURIComponent(String(e))}},{}],34:[function(e,t){t.exports={clone:e("./ac-object/clone"),defaults:e("./ac-object/defaults"),extend:e("./ac-object/extend"),getPrototypeOf:e("./ac-object/getPrototypeOf"),isEmpty:e("./ac-object/isEmpty"),toQueryParameters:e("./ac-object/toQueryParameters")}},{"./ac-object/clone":35,"./ac-object/defaults":36,"./ac-object/extend":37,"./ac-object/getPrototypeOf":38,"./ac-object/isEmpty":39,"./ac-object/toQueryParameters":40}],35:[function(e,t){var n=e("./extend");t.exports=function(e){return n({},e)}},{"./extend":37}],36:[function(e,t){var n=e("./extend");t.exports=function(e,t){if("object"!=typeof e||"object"!=typeof t)throw new TypeError("defaults: must provide a defaults and options object");return n({},e,t)}},{"./extend":37}],37:[function(e,t){var n=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach(function(e){if(null!=e)for(var i in e)n.call(e,i)&&(t[i]=e[i])}),t}},{}],38:[function(e,t){var n=Object.prototype.hasOwnProperty;t.exports=function(e){if(Object.getPrototypeOf)return Object.getPrototypeOf(e);if("object"!=typeof e)throw new Error("Requested prototype of a value that is not an object.");if("object"==typeof this.__proto__)return e.__proto__;var t,i=e.constructor;if(n.call(e,"constructor")){if(t=i,!delete e.constructor)return null;i=e.constructor,e.constructor=t}return i?i.prototype:null}},{}],39:[function(e,t){var n=Object.prototype.hasOwnProperty;t.exports=function(e){var t;if("object"!=typeof e)throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(t in e)if(n.call(e,t))return!1;return!0}},{}],40:[function(e,t){var n=e("qs");t.exports=function(e){if("object"!=typeof e)throw new TypeError("toQueryParameters error: argument is not an object");return n.stringify(e)}},{qs:33}],41:[function(e,t){t.exports=function(){function t(){if(s.shouldScale()){var e=s.getScale()*c+"px";n.setStyle(a,{"font-size":e})}}var n=e("ac-element"),i=(e("ac-object"),e("ac-browser")),r=e("ac-dom-events"),o=e("./mobile-menu/MobileMenu"),s=e("./helpers/viewport");e("./polyfills/nav");var a=(e("gh-searchInit"),document.getElementById("globalheader")),l=n.select(".gh-menu",a),c=18,u=i.IE&&i.IE.documentMode<9;u&&n.addClassName(a,"gh-oldie"),l&&new o(l),t(),r.addEventListener(window,"orientationchange",t)}()},{"./helpers/viewport":46,"./mobile-menu/MobileMenu":47,"./polyfills/nav":48,"ac-browser":20,"ac-dom-events":27,"ac-element":"j0qjr8","ac-object":34,"gh-searchInit":"oDi/Uh"}],42:[function(e,t){function n(e){return e>0?unit?+e:e>>0:1}function i(e,t){return e>0?+e:0>e?-e:"px"==t?256:t?32:1}function r(e){return s?!!s(e).matches:!1}function o(e,t,o,s){var a,l,c,u;for(t="string"==typeof t?t:"",o=n(o),s=i(s,t),u=o;u>=0;u+=s){if(c=r("(min-"+e+":"+u+t+")"),l=r("(max-"+e+":"+u+t+")"),c&&l)return r("("+e+(u>>0)+t)?u>>0:u;null==a?s=(a=!l)?c&&s:-s:(l?a:!a)&&(a=!a,s=-s/2)}return 0}var s=window.matchMedia||window.msMatchMedia;t.exports=o},{}],43:[function(e,t){t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],44:[function(e,t){var n=(e("ac-element"),document.getElementById("globalheader")),i=function(){var e;return n&&(e=n.className.match(/gh-selected-tab-(\w*)/),e&&2===e.length)?e[1]:"global"}(),r={"de-CH":"ch_de","en-419":"lae","en-AP":"asia","en-CA":"ca_en","en-GB":"uk","en-HK":"hk_en","en-PH":"asia","en-VN":"asia","es-419":"la","fr-BE":"be_fr","fr-CA":"ca_fr","fr-CH":"ch_fr","nl-BE":"be_nl"},o=function(){var e,t,i,o;if(n){i=n.getAttribute("lang");var e=n.getElementsByTagName("form");return e&&e[0]&&(t=e[0].getAttribute("data-search-country"),t&&""!==t)?t:r[i]?r[i]:(o=i.split("-"),2===o.length?o[1].toLowerCase():i.replace("-","_").toLowerCase())}}(),s=function(){return window.searchHost||!1}();t.exports={searchSection:i,searchCountry:o,searchHost:s}},{"ac-element":"j0qjr8"}],45:[function(e,t){var n,i="http://www.w3.org/2000/svg",r=!!document.createElementNS,o=function(e,t,n,o){if(r){var s=document.createElementNS(i,"svg");s=document.createElementNS(i,"svg"),s.setAttributeNS(null,"x","0px"),s.setAttributeNS(null,"y","0px"),s.setAttributeNS(null,"width",t),s.setAttributeNS(null,"viewBox",n),s.setAttributeNS(null,"class",o),s.setAttributeNS(null,"enable-background","new "+n),this.svgElement=s,this.wrapper=e}};n=o.prototype,n.addRect=function(e,t,n,o,s){if(r&&this.svgElement&&this.wrapper){var a=document.createElementNS(i,"rect");a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",o),a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",t),a.setAttributeNS(null,"class",s),this.svgElement.appendChild(a),this.wrapper.appendChild(this.svgElement)}},t.exports=o},{}],46:[function(e,t){!function(){function n(){return"undefined"==typeof window.orientation?window.screen.width:window.screen.width<window.screen.height?a("device-width","px"):a("device-height","px")}function i(){return"undefined"==typeof window.orientation?window.screen.height:window.screen.height>window.screen.width?a("device-height","px"):a("device-width","px")}function r(){var e=0===window.orientation?!0:!1;return e?n():i()}function o(){var e=u===l,t=r()<c;return e&&t}function s(){return l/r()}var a=e("./device"),l=1024,c=768,u=document.documentElement.clientWidth;t.exports={normalizedScreenWidth:n,normalizedScreenHeight:i,screenWidth:r,shouldScale:o,getScale:s}}()},{"./device":42}],47:[function(e,t){var n,i=e("ac-element"),r=e("ac-feature"),o=e("ac-dom-events"),s=e("../helpers/svg"),a={menu:"gh-show-nav",closeImmediately:"gh-immediate",cart:"gh-show-cart",animateList:"gh-nav-reveal",menuIconTop:"gh-svg gh-svg-top",menuIconBottom:"gh-svg gh-svg-bottom",rectTop:"gh-svg-rect gh-svg-rect-top",rectBottom:"gh-svg-rect gh-svg-rect-bottom",enhance:"enhance"},l={navList:"gh-nav-list"},c=function(e){this.mobileMenuElement=e,this.globalheader=i.select("#globalheader"),this.documentBody=i.select("body"),this.navList=i.select(".gh-nav-list",this.globalheader),this.icons={},this.icons.menu=i.select("#gh-menu-icon-toggle"),this.icons.svgs=i.select("#gh-svg-icons"),this.icons.cart=i.select("#gh-menu-icon-cart"),r.threeDTransformsAvailable()&&(i.addClassName(this.icons.menu,a.enhance),new s(this.icons.svgs,"100%","0 0 96 96",a.menuIconTop).addRect(32,46,32,4,a.rectTop),new s(this.icons.svgs,"100%","0 0 96 96",a.menuIconBottom).addRect(32,46,32,4,a.rectBottom)),this.icons.menu&&this.decorateAria(),(this.icons.menu||this.icons.cart)&&this.attachEvents()};n=c.prototype,n.attachEvents=function(){this.icons.menu&&o.addEventListener(this.icons.menu,"click",function(){i.removeClassName(this.documentBody,a.closeImmediately),i.toggleClassName(this.documentBody,a.menu),this.toggleAriaExpanded(),i.hasClassName(this.globalheader,a.animateList)||i.addClassName(this.globalheader,a.animateList),o.stop()}.bind(this),!1),this.icons.cart&&o.addEventListener(this.icons.cart,"click",function(){i.toggleClassName(this.documentBody,a.cart),o.stop()}.bind(this),!1),o.addEventListener(document,"touchstart",function(e){if(this.isOpen()!==!1){var t=i.ancestor(e.srcElement,"#globalheader");e.srcElement!==this.globalheader&&t!==this.globalheader&&(i.removeClassName(this.documentBody,a.menu),i.addClassName(this.documentBody,a.closeImmediately))}}.bind(this),!1)},n.decorateAria=function(){var e="none"!==i.getStyle(this.mobileMenuElement,"display"),t="none"!==i.getStyle(this.icons.menu,"display");e&&t&&(this.icons.svgs.setAttribute("aria-controls","#"+l.navList),this.icons.svgs.setAttribute("aria-expanded","false"),this.navList.setAttribute("aria-hidden","true"),this.navList.id=l.navList)},n.toggleAriaExpanded=function(){var e=this.icons.svgs.getAttribute("aria-expanded");"false"===e?(this.icons.svgs.setAttribute("aria-expanded","true"),this.navList.setAttribute("aria-hidden","false")):(this.icons.svgs.setAttribute("aria-expanded","false"),this.navList.setAttribute("aria-hidden","true"))},n.isOpen=function(){return i.hasClassName(this.documentBody,a.menu)},t.exports=c},{"../helpers/svg":45,"ac-dom-events":27,"ac-element":"j0qjr8","ac-feature":30}],48:[function(e,t){t.exports=function(){var e,t,n,i,r=document.getElementById("globalheader");if(""===r.innerHTML){for(n=document.createElement("div"),e=0,t=r.attributes.length;t>e;e+=1)""!==r.attributes[e].value&&"null"!==r.attributes[e].value&&"false"!==r.attributes[e].value&&n.setAttribute(r.attributes[e].name,r.attributes[e].value);return n.className=r.className,i=r.nextSibling,i.parentNode.removeChild(i),n.appendChild(i),r.parentNode.replaceChild(n,r),n}return r}()},{}],49:[function(e,t){var n,i=e("ac-element"),r=e("ac-object"),o=e("ac-event-emitter").EventEmitter,s=e("ac-dom-events"),a=e("../helpers/searchGlobals"),l=e("./lang/geoMap"),c=e("../helpers/keys"),u=a.searchHost!==!1?window.location.protocol+"//"+window.location.hostname:window.location.protocol+"//www.apple.com";s.stopPropagation=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};var h={active:"active",enhance:"enhance"},d={active:"active",inactive:"inactive",valueUpdate:"valueUpdate",reset:"reset",submit:"submit"},p=function(e){this.container=e,this.searchFormWrapper=document.getElementById("gh-search"),this.searchInput=document.getElementById("gh-search-input"),this.reset=document.getElementById("gh-search-reset"),this.submit=document.getElementById("gh-search-submit"),this.form=document.getElementById("gh-search-form"),this.formAction=this.form.getAttribute("action"),this.searchInputName=this.searchInput.getAttribute("name"),this.active=!1,this.hasValue=!1,this._shouldEnhance()&&this._enhance(),this.setFormAction(),this.setFullSearchURL()};p.prototype=new o,n=p.prototype,n._addEventListeners=function(){var e=i.select("body");s.addEventListener(this.container,"click",this._boundOnContainerClick),s.addEventListener(this.container,"mouseenter",this._boundOnMouseEnter),s.addEventListener(this.container,"mouseleave",this._boundOnMouseLeave),s.addEventListener(this.container,"touchstart",this._boundOnMouseEnter),s.addEventListener(this.form,"submit",this._boundOnSubmit),s.addEventListener(this.searchInput,"focus",this._boundOnFocus),s.addEventListener(this.searchInput,"click",this._boundOnSearchInputClick),s.addEventListener(this.searchInput,"keyup",this._boundOnKeyUp),s.addEventListener(this.searchInput,"keydown",this._boundOnKeyDown),s.addEventListener(this.submit,"blur",this._boundOnBlur),s.addEventListener(this.submit,"focus",this._boundOnFocus),s.addEventListener(this.submit,"click",this._boundOnSubmitClick),s.addEventListener(this.reset,"blur",this._boundOnBlur),s.addEventListener(this.reset,"focus",this._boundOnFocus),s.addEventListener(this.reset,"click",this._boundOnResetClick),s.addEventListener(e,"click",this._boundOnBodyClick),s.addEventListener(e,"keyup",this._boundOnBodyKeyUp)},n._bindEventHandlers=function(){this._boundOnContainerClick=this._onContainerClick.bind(this),this._boundOnSearchInputClick=this._onSearchInputClick.bind(this),this._boundOnFocus=this._onFocus.bind(this),this._boundOnBlur=this._onBlur.bind(this),this._boundOnSubmit=this._onSubmit.bind(this),this._boundOnMouseEnter=this._onMouseEnter.bind(this),this._boundOnMouseLeave=this._onMouseLeave.bind(this),this._boundOnSubmitClick=this._onSubmitClick.bind(this),this._boundOnResetClick=this._onResetClick.bind(this),this._boundOnKeyUp=this._onKeyUp.bind(this),this._boundOnKeyDown=this._onKeyDown.bind(this),this._boundOnBodyClick=this._onBodyClick.bind(this),this._boundOnBodyKeyUp=this._onBodyKeyUp.bind(this)},n._addEventEmitterHandlers=function(){this.on(d.active,this._onActive),this.on(d.inactive,this._onInactive)},n._onFocus=function(){this.active||this._isEnhancedDisabled()||this.trigger(d.active)},n._onBlur=function(){window.setTimeout(function(){this._formHasFocus()||this.trigger(d.inactive)}.bind(this),1)},n._onKeyUp=function(e){s.stop(e);var t,n={};for(t in e)n[t]=e[t];this._onValueUpdate(n),this.trigger(d.valueUpdate,n)},n._onKeyDown=function(e){(e.keyCode===c.ARROW_UP||e.keyCode===c.ARROW_DOWN)&&e.preventDefault&&e.preventDefault()},n._onBodyKeyUp=function(e){this.active&&e.keyCode===c.TAB&&this._onBlur()},n._onBodyClick=function(){this.active&&this.trigger(d.inactive)},n._onContainerClick=function(e){s.stopPropagation(e),this.active||this._isEnhancedDisabled()||this.trigger(d.active)},n._onSearchInputClick=function(){},n._onSubmit=function(e){s.stop(e),this.active&&(this.trigger(d.submit,e),this._onValueSubmit())},n._onSubmitClick=function(e){this.active||this._isEnhancedDisabled()||e.preventDefault()},n._onResetClick=function(){this._resetField(),this.searchInput.focus()},n._onMouseEnter=function(){this.active||this._isEnhancedDisabled()||this._enableSubmit()},n._onMouseLeave=function(){this.active||this._isEnhancedDisabled()||this._disableSubmit()},n._inputHasValue=function(){return this.searchInput.value.length&&this.searchInput.value.length>0},n._onActive=function(){this.active||this._enable()},n._onInactive=function(){this.active&&this._disable()},n._onValueUpdate=function(e){this.setSearchTerm(this.searchInput.value);var t=e.keyCode;t===c.ESCAPE&&this._inputHasValue?this._resetField(e):t===c.TAB?this._onBlur():!this.hasValue&&this._inputHasValue()?(this.hasValue=!0,this._enableReset(),this._enableSubmit()):this._inputHasValue()||(this.hasValue=!1,this._disableReset(),this._disableSubmit())},n._onValueSubmit=function(){this.reassignURL(this.getFullSearchURL()+this.getSearchTermEncoded())},n.reassignURL=function(e){document.location.assign(e)},n._formHasFocus=function(){var e=this.form.contains(document.activeElement);return e},n._enableSubmit=function(){this.submit.removeAttribute("disabled")},n._disableSubmit=function(){this.submit.setAttribute("disabled","disabled")},n._enableReset=function(){this.reset.removeAttribute("disabled"),i.addClassName(this.reset,"show")},n._disableReset=function(){this.reset.setAttribute("disabled","disabled"),i.removeClassName(this.reset,"show")},n._resetField=function(){this.trigger(d.reset),this.searchInput.value="",this._disableReset(),this._disableSubmit(),this.hasValue=!1},n._enhance=function(){this._bindEventHandlers(),this._addEventEmitterHandlers(),this._addEventListeners(),i.addClassName(this.container,h.enhance),this.enhanced=!0},n._shouldEnhance=function(){var e=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),t="undefined"!=typeof document.createElement("div").onmouseenter;return!e&&!window.orientation&&t},n._disable=function(){i.hasClassName(this.container,h.active)&&i.removeClassName(this.container,h.active),this._resetField(),this.active=!1},n._enable=function(){i.hasClassName(this.container,h.active)||i.addClassName(this.container,h.active),this.active=!0,this.searchInput.focus(),this._resetField()},n._isEnhancedDisabled=function(){return"none"===i.getStyle(this.searchFormWrapper,"display")},n.setSearchTerm=function(e){this._searchTerm=this.trimWhitespace(e)},n.getSearchTerm=function(){return this._searchTerm},n.getSearchTermEncoded=function(){return encodeURIComponent(this.getSearchTerm())},n.inputHasValidText=function(){return this.searchInput.value.match(/^\s*$/)?!1:!0},n.trimWhitespace=function(e){return"string"==typeof e?e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," "):void 0},n.setFormAction=function(){var e;e=l[a.searchCountry.toUpperCase()].directory?l[a.searchCountry.toUpperCase()].directory:"us"!==a.searchCountry?"/"+a.searchCountry.replace(/_/,""):"",this.formAction=u+e+this.formAction,this.form.setAttribute("action",this.formAction)},n.setFullSearchURL=function(){var e=r.toQueryParameters({section:a.searchSection,geo:a.searchCountry});this._fullSearchURL=this.formAction+"?"+e+"&"+this.searchInputName+"="},n.getFullSearchURL=function(){return this._fullSearchURL},t.exports=p},{"../helpers/keys":43,"../helpers/searchGlobals":44,"./lang/geoMap":56,"ac-dom-events":27,"ac-element":"j0qjr8","ac-event-emitter":28,"ac-object":34}],50:[function(e,t){var n=e("ac-ajax"),i=e("ac-deferred"),r=(e("ac-element"),e("ac-object")),o=i.Deferred,s=e("ac-event-emitter").EventEmitter,a=e("../../helpers/keys"),l=function(e,t){if(!e)throw"Please provide a searchForm";if(this.searchForm=e,!t)throw"Please provide data sources";t.forEach(function(e){if(!e.hasOwnProperty("url")&&!e.hasOwnProperty("requestName"))throw'Please provide "url" and "requestName"'}),this._searchServices=t,this._decorateInput(),this._addEventHandlers()},c=l.prototype=new s;c._decorateInput=function(){this.searchForm.searchInput.setAttribute("autocomplete","off"),this.searchForm.searchInput.setAttribute("autocorrect","off"),this.searchForm.searchInput.setAttribute("autocapitalize","off"),this.searchForm.form.setAttribute("role","search")},c._addEventHandlers=function(){this.searchForm.propagateTo(this)},c._handleKeyEvents=function(e){switch(e.type){case"keyup":this._handleKeyUp(e);break;default:return}},c._handleReset=function(){},c._handleKeyUp=function(e){var t=e.keyCode;t!==a.ARROW_LEFT&&t!==a.ARROW_RIGHT&&t!==a.ARROW_UP&&t!==a.ARROW_DOWN&&t!==a.ESCAPE&&t!==a.CONTROL&&t!==a.ALT&&t!==a.CAPSLOCK&&t!==a.ENTER&&this.searchForm._inputHasValue()&&this.searchForm.inputHasValidText()&&this._getData()},c._getData=function(){this.trigger("willSendRequests",this),this._willSendRequest(this.searchForm.getSearchTerm())},c._willSendRequest=function(e){var t;this._ajaxRequests=[],this.responseData={},this._searchServices.forEach(function(n){var i=n.url,r=n.requestName,o=n.queryParams||"",s=n.queryName||"query",a=n.dataType||"json";o[s]=e,t=this._sendRequest(i,o,a,r),this._ajaxRequests.push(t)}.bind(this)),i.all(this._ajaxRequests).then(this._handleData.bind(this))},c._sendRequest=function(e,t,i,s){var a=new o,l=e+"?"+r.toQueryParameters(t);return n.get({url:l}).then(function(e){a.resolve({xhr:e,data:e.responseText,requestName:s,dataType:i})},function(e){a.resolve(e)}),a.promise().then(this.requestSuccess.bind(this),this.requestFailure.bind(this))},c.requestSuccess=function(e){var t,n,i=e.dataType,r=e.requestName;return"json"===i?t=e.data=this.parseJSON(e.data):"xml"===i&&(n=e.data=this.parseXML(e.data)),t?this.responseData[r]=t:n&&(this.responseData[r]=n),e},c.requestFailure=function(e){throw e.toString()},c.parseJSON=function(e){return JSON.parse(e)},c.parseXML=function(e){function t(e){var t,n;return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):(n=new DOMParser,t=n.parseFromString(e,"text/xml")),t}var n=t(e);return n},c._handleData=function(){this.trigger("requestsComplete",this.responseData)},t.exports=l},{"../../helpers/keys":43,"ac-ajax":1,"ac-deferred":26,"ac-element":"j0qjr8","ac-event-emitter":28,"ac-object":34}],51:[function(e,t){var n=e("ac-object"),i=function(e,t,n){this.searchInput=e,this.enhancedAjaxSearch=t,this.enhancedSearchResults=n,this.requestDelay=250,this._timeOutId=0;var i=this.searchInput._onValueSubmit;this.searchInput._originalOnValueSubmit=i,this.searchInput._onValueSubmit=this._onSubmit.bind(this),this.searchInput.on("valueUpdate",function(){this.searchInput.inputHasValidText()||this.enhancedSearchResults._handleReset()},this),this.searchInput.on("valueUpdate",this._passAlongRateLimitedEvents,this),this.searchInput.on("valueUpdate",this.enhancedSearchResults._handleKeyEvents,this.enhancedSearchResults),this.searchInput.on("reset",this.enhancedSearchResults._handleReset,this.enhancedSearchResults),this.enhancedAjaxSearch.on("requestsComplete",this.enhancedSearchResults._renderData,this.enhancedSearchResults),this.enhancedSearchResults.on("willRender",this.setSearchTerm,this),this.enhancedSearchResults.on("selectedItemChange",this._updateInput,this)},r=i.prototype;r.setSearchTerm=function(){this._searchTerm=this.searchInput.getSearchTerm()},r.getSearchTerm=function(){return this._searchTerm},r._onSubmit=function(){this.enhancedSearchResults.resultsAreShowing()!==!0?this.searchInput.inputHasValidText()&&this.searchInput._originalOnValueSubmit():this.enhancedSearchResults.getSelectedItem()!==!1?this.enhancedSearchResults.reassignURL(this.enhancedSearchResults.getSelectedItem().url):this.searchInput.inputHasValidText()&&this.searchInput._originalOnValueSubmit()},r._updateInput=function(e){e&&e.updateInput&&e.updateInput===!0?(this.searchInput.searchInput.value=e.copy,this.searchInput.setSearchTerm(e.copy)):(this.searchInput.searchInput.value=this.getSearchTerm(),this.searchInput.setSearchTerm(this.getSearchTerm()))},r._passAlongRateLimitedEvents=function(e){function t(){this.enhancedAjaxSearch._handleKeyEvents(i)}var i=n.clone(e);window.clearTimeout(this._timeOutId),this._timeOutId=window.setTimeout(t.bind(this),this.requestDelay)},t.exports=i},{"ac-object":34}],52:[function(e,t){var n=e("ac-element"),i=e("ac-dom-events"),r=e("ac-event-emitter").EventEmitter,o=e("../../../helpers/keys"),s=e("./ResultsRenderer"),a=function(e){this.options=e,this._results=null,this._resultsShowing=!1,this._selectedItem=!1,this._shouldHideResultsOnMouseOut=!1,this.resultsElem=document.createElement("div"),n.addClassName(this.resultsElem,"gh-search-results"),this._addBoundEventHandlers()},l=a.prototype=new r;l.hasResults=function(){return null!==this._results},l.resultsAreShowing=function(){return this._resultsShowing},l.setSelectedItem=function(e){this.trigger("selectedItemChange",e),this._selectedItem=e},l.getSelectedItem=function(){return this._selectedItem},l.select=function(e){n.addClassName(e,"focus")},l.deselect=function(e){n.removeClassName(e,"focus")},l.getAnchorTag=function(e){for(var t=i.target(e);"a"!==t.tagName.toLowerCase()&&t.parentNode;)t=t.parentNode;return t},l.reassignURL=function(e){document.location.assign(e)},l._addBoundEventHandlers=function(){this._boundHideResultsOnMouseOut=function(e){this._hideResultsOnMouseOut(e)}.bind(this),this._boundResultsContainerClick=function(){this._handleResultsContainerClick()}.bind(this),this._boundHandleResultItemMouseDown=function(e){this._handleResultItemMouseDown(e)}.bind(this),this._boundHandleResultItemClick=function(e){this._handleResultItemClick(e)}.bind(this)},l._renderData=function(e){this.trigger("willRender"),this._handleReset(),this._results=new s(e,this.options.additonalRenderData),this.resultsElem.appendChild(this._results.dom),this.options.resultsWrapper.appendChild(this.resultsElem),i.addEventListener(this.options.resultsWrapper,"mousedown",this._boundResultsContainerClick);var t=n.selectAll("a",this.resultsElem);t&&t.forEach(function(e){i.addEventListener(e,"mousedown",this._boundHandleResultItemMouseDown),i.addEventListener(e,"click",this._boundHandleResultItemClick)}.bind(this)),this.trigger("didRender"),this._showResults()},l._handleKeyEvents=function(e){switch(e.type){case"keyup":this._handleKeyUp(e);break;default:return}},l._handleKeyUp=function(e){var t=e.keyCode;t===o.ESCAPE&&this._handleReset(),this._results&&(this._manageResultSelection(t),this.selectedItem&&t===o.ENTER&&this.reassignURL(this.selectedItem.url))},l._handleReset=function(){this.resultsElem.innerHTML="",n.removeClassName(this.resultsElem,"show"),n.removeEventListener(document,"mousemove",this._boundHideResultsOnMouseOut),i.removeEventListener(this.options.resultsWrapper,"mousedown",this._boundResultsContainerClick),this._results=null,this._resultsShowing=!1,this._selectedItem=!1,this._shouldHideResultsOnMouseOut=!1},l._handleMouseMove=function(e){e=e||window.event,this.mouseEventTarget=e.target?e.target:e.srcElement,this._shouldHideResultsOnMouseOut===!0&&(this._mouseIsOverResultsContainer()||this._handleReset())},l._handleResultItemMouseDown=function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1;var t,n,i,r,o;for(o=this.getAnchorTag(e).href,t=0,n=this._results.indexedElements.length;n>t;t+=1)i=this._results.indexedElements[t],o===i.url&&(r=i);this.trigger("resultLinkBeforeClick",{interactionEvt:e,resultObject:r})},l._handleResultItemClick=function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1;var t=this.getAnchorTag(e);this.trigger("resultLinkClick",{interactionEvt:e,element:t}),this.reassignURL(t.href)},l._handleResultsContainerClick=function(){this._shouldHideResultsOnMouseOut=!0},l._mouseIsOverResultsContainer=function(){if(!this.mouseEventTarget)return!1;for(;this.mouseEventTarget!==this.resultsElem&&this.mouseEventTarget.parentNode;)this.mouseEventTarget=this.mouseEventTarget.parentNode;return this.mouseEventTarget===this.resultsElem},l._hideResultsOnMouseOut=function(e){this._handleMouseMove(e)},l._showResults=function(){this._resultsShowing=!0,n.addClassName(this.resultsElem,"show"),i.addEventListener(document,"mousemove",this._boundHideResultsOnMouseOut)},l._manageResultSelection=function(e){var t,n,i=this._results.indexedElements;e===o.ARROW_UP?i&&this.getSelectedItem()&&(t=this.getSelectedItem(),t&&t.index>0?(this.deselect(t.element),this.setSelectedItem(this._results.indexedElements[t.index-1]),n=this.getSelectedItem(),this.select(n.element)):(this.deselect(t.element),this.setSelectedItem(!1))):e===o.ARROW_DOWN&&i&&(t=this.getSelectedItem(),t&&this._results.indexedElements[t.index+1]?(this.deselect(t.element),this.setSelectedItem(this._results.indexedElements[t.index+1]),n=this.getSelectedItem(),this.select(n.element)):!t&&this._results.indexedElements[0]&&(this.setSelectedItem(this._results.indexedElements[0]),n=this.getSelectedItem(),this.select(n.element)))},t.exports=a},{"../../../helpers/keys":43,"./ResultsRenderer":53,"ac-dom-events":27,"ac-element":"j0qjr8","ac-event-emitter":28}],53:[function(e,t){{var n=e("ac-element"),i=e("ac-object"),r=(e("ac-event-emitter").EventEmitter,e("../../../helpers/searchGlobals")),o=e("../../lang/geoMap"),s=function(e,t){function s(e){function t(e){var t;try{t=e.getElementsByTagName("shortcuts").length?!0:!1}catch(n){t=!1}return t}var n,o,s,l,c,h,d,p=[];if(t(e)===!0){if(h=e.getElementsByTagName("error"),0!==h.length)return!1;for(n=e.getElementsByTagName("match"),o=n.length>6?6:n.length,d=0;o>d;d+=1)c=n[d],s={category:"recommendedresults",url:c.getAttribute("url"),copy:c.getAttribute("copy"),heading:c.getAttribute("title"),image:c.getAttribute("image")},s.url=decodeURIComponent(s.url).replace(/http(s)?:\/\/www.apple.com/g,u),p.push(s)}else for(l in e)e.hasOwnProperty(l)&&e.hasOwnProperty("0")&&(c=e[l],s={category:"commonsearches",copy:c,url:(a.searchForm.formAction+"?"+i.toQueryParameters({section:r.searchSection,geo:r.searchCountry})+"&"+a.searchForm.searchInputName+"="+encodeURIComponent(c)).replace(/http(s)?:\/\/www.apple.com/g,u)},p.push(s));return p}var a=t,l=document.createDocumentFragment(),c=[],u=r.searchHost!==!1?window.location.protocol+"//"+window.location.hostname:window.location.protocol+"//www.apple.com",h=s(e.recommendedResults),d=s(e.suggestedSearches),p=d.length>0?!0:!1,f=h.length>0?!0:!1;if(c=p&&f?d.concat(h):p&&!f?d:!p&&f?h:[{category:"noresults",copy:o[r.searchCountry.toUpperCase()].noResults?o[r.searchCountry.toUpperCase()].noResults:o.US.noResults,url:a.searchForm.formAction+"?"+i.toQueryParameters({section:r.searchSection,geo:r.searchCountry})+"&"+a.searchForm.searchInputName+"="+a.searchForm.getSearchTermEncoded()}],c.length>0){var m,g,v,y,b,w,E,S,C,x,T,_,A,N=document.createDocumentFragment(),O=o[r.searchCountry.toUpperCase()].commonSearches?o[r.searchCountry.toUpperCase()].commonSearches:o.US.commonSearches,k=document.createDocumentFragment(),L=o[r.searchCountry.toUpperCase()].recommendedResults?o[r.searchCountry.toUpperCase()].recommendedResults:o.US.recommendedResults,M=document.createDocumentFragment();
for(A=0,_=c.length;_>A;A+=1)w=c[A],w.index=A,E=document.createElement("li"),S=document.createElement("a"),w.url&&(S.href=w.url.replace(/^(.*):\/\//g,window.location.protocol+"//")),w.image&&(C=new Image,C.src=w.image.replace(/^(.*):\/\//g,window.location.protocol+"//"),C.alt=w.title||"",S.appendChild(C)),w.heading&&(w.truncatedHeading=unescape(w.heading),w.truncatedHeading.length>39&&(w.truncatedHeading=w.truncatedHeading.substring(0,w.truncatedHeading.lastIndexOf(" ",27))+"&hellip;"),x=document.createElement("h5"),x.innerHTML=w.truncatedHeading,S.appendChild(x)),w.copy&&(w.truncatedCopy=unescape(w.copy),w.truncatedCopy.length>105&&(w.truncatedCopy=w.truncatedCopy.substring(0,w.truncatedCopy.lastIndexOf(" ",94))+"&hellip;"),T=document.createElement("p"),T.innerHTML=w.truncatedCopy,S.appendChild(T)),w.element=E,E.appendChild(S),"commonsearches"===w.category?(N.appendChild(E),w.updateInput=!0):"recommendedresults"===w.category?(k.appendChild(E),w.updateInput=!1):"noresults"===w.category&&(M.appendChild(E),w.updateInput=!1);p&&f?(m=document.createElement("ul"),n.addClassName(m,"gn-search-results-suggested-searches"),m.appendChild(N),v=document.createElement("ul"),n.addClassName(v,"gn-search-results-recommended-results"),v.appendChild(k),g=document.createElement("h4"),g.innerHTML=O,y=document.createElement("h4"),y.innerHTML=L,l.appendChild(g),l.appendChild(m),l.appendChild(y),l.appendChild(v)):p&&!f?(m=document.createElement("ul"),n.addClassName(m,"gn-search-results-suggested-searches"),m.appendChild(N),g=document.createElement("h4"),g.innerHTML=O,l.appendChild(g),l.appendChild(m)):!p&&f?(v=document.createElement("ul"),n.addClassName(v,"gn-search-results-recommended-results"),v.appendChild(k),y=document.createElement("h4"),y.innerHTML=L,l.appendChild(y),l.appendChild(v)):(b=document.createElement("ul"),n.addClassName(b,"gn-search-results-no-results"),b.appendChild(M),l.appendChild(b))}var P={dom:l,indexedElements:c};return P};s.prototype}t.exports=s},{"../../../helpers/searchGlobals":44,"../../lang/geoMap":56,"ac-element":"j0qjr8","ac-event-emitter":28,"ac-object":34}],"oDi/Uh":[function(e,t){t.exports=function(){var t=e("ac-object"),n=e("./SearchInput"),i=e("./enhanced-search/EnhancedAjaxSearch"),r=e("./enhanced-search/EnhancedSearchController"),o=e("./enhanced-search/results/ResultsController"),s=e("./../helpers/searchGlobals"),a=document.getElementById("gh-tab-search");if(a){var l,c,u,h=new n(a),d=h.form.getAttribute("data-search-recommended-results"),p=h.form.getAttribute("data-search-suggested-searches"),f=[],m={section:s.searchSection,geo:s.searchCountry};if(d||p){var g=JSON.parse(p),v=JSON.parse(d);if(v&&(v.queryParams=v.queryParams?t.extend(t.clone(v.queryParams),m):m,f.push(v)),g&&f.push(g),0===f.length)throw"Please provide the required arguments.";l=new i(h,f),c=new o({resultsWrapper:l.searchForm.container,additonalRenderData:l}),u=new r(h,l,c),c.on("resultLinkBeforeClick",function(){})}}}()},{"./../helpers/searchGlobals":44,"./SearchInput":49,"./enhanced-search/EnhancedAjaxSearch":50,"./enhanced-search/EnhancedSearchController":51,"./enhanced-search/results/ResultsController":52,"ac-object":34}],"gh-searchInit":[function(e,t){t.exports=e("oDi/Uh")},{}],56:[function(e,t){var n={US:{code:"",noResults:"No suggestions found. Search all of apple.com.",viewAll:"View all search results",recommendedResults:"Recommended Results",commonSearches:"Common Searches",searchText:"Search"},AE:{code:"ae"},ASIA:{code:"asia"},AT:{code:"at",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",viewAll:"Alle Suchergebnisse",searchText:"Suchen"},AU:{code:"au"},BE_FR:{code:"bf",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",recommendedResults:"Raccourcis",searchText:"Rechercher"},BE_NL:{code:"bl",noResults:"Niets gevonden. Zoek opnieuw binnen www.apple.com.",viewAll:"Toon alle zoekresultaten",recommendedResults:"Snelkoppelingen",searchText:"Zoek"},BR:{code:"br",noResults:"N\xe3o encontrado. Tente a busca em apple.com",viewAll:"Ver todos os resultados da busca",recommendedResults:"Links rapidos",searchText:"Buscar"},CA_EN:{code:"ca",directory:"/ca"},CA_FR:{code:"ca",directory:"/ca/fr",viewAll:"Afficher tous les r\xe9sultats",recommendedResults:"Raccourcis",searchText:"Recherche"},CH_DE:{code:"ce",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",viewAll:"Alle Suchergebnisse",searchText:"Suchen"},CH_FR:{code:"cr",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",recommendedResults:"Raccourcis",searchText:"Rechercher"},CN:{code:"cn",directory:"/cn",noResults:"\u627e\u4e0d\u5230\u5feb\u901f\u641c\u7d22\u7ed3\u679c\uff0c\u8bf7\u5c1d\u8bd5 apple.com \u7684\u5b8c\u6574\u641c\u7d22",recommendedResults:"\u5feb\u901f\u94fe\u63a5",viewAll:"\u67e5\u770b\u6240\u6709\u641c\u7d22\u7ed3\u679c",searchText:"\u641c\u7d22"},DE:{code:"de",viewAll:"Alle Suchergebnisse",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",searchText:"Suchen"},DK:{code:"dk",noResults:"Ingen genvej fundet. Pr\xf8v at s\xf8ge p\xe5 hele apple.com.",viewAll:"Vis alle s\xf8geresultater",recommendedResults:"Hurtige henvisninger",searchText:"S\xf8g"},ES:{code:"es",noResults:"Ning\xfan atajo. B\xfasqueda completa en apple.com",viewAll:"Ver todos los resultados de b\xfasqueda",recommendedResults:"Enlaces r\xe1pidos",searchText:"Buscar"},FI:{code:"fi",noResults:"Ei oikotiet\xe4. Etsi koko apple.com.",viewAll:"Katso hakutulokset",recommendedResults:"Pikalinkit",searchText:"Etsi"},FR:{code:"fr",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",recommendedResults:"Raccourcis",searchText:"Rechercher"},HK:{code:"hk",noResults:"\u627e\u4e0d\u5230\u5feb\u901f\u641c\u5c0b\u7d50\u679c\uff0c\u8acb\u8a66\u8a66 apple.com \u7684\u5b8c\u6574\u641c\u5c0b",viewAll:"\u6aa2\u8996\u6240\u6709\u641c\u5c0b\u7d50\u679c",recommendedResults:"\u5feb\u901f\u9023\u7d50",searchText:"\u641c\u5c0b"},HK_EN:{code:"hk",directory:"/hk/en"},ID:{code:"id"},IE:{code:"ie"},IN:{code:"in"},IT:{code:"it",noResults:"Nessuna scorciatoia trovata. Provate su apple.com",viewAll:"Mostra tutti i risultati",recommendedResults:"Collegamenti rapidi",searchText:"Cerca"},JP:{code:"jp",noResults:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u691c\u7d22\u306f\u3053\u3061\u3089\u3002",viewAll:"\u3059\u3079\u3066\u306e\u691c\u7d22\u7d50\u679c\u3092\u898b\u308b",recommendedResults:"\u30af\u30a4\u30c3\u30af\u30ea\u30f3\u30af",searchText:"Search"},KR:{code:"kr",noResults:"\uc77c\uce58\ud558\ub294 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uac80\uc0c9\ud558\uae30.",recommendedResults:"\ube60\ub978 \uc5f0\uacb0",viewAll:"\uac80\uc0c9 \uacb0\uacfc \uc804\uccb4 \ubcf4\uae30."},LA:{code:"la",noResults:"No se encontraron resultados. Intenta en apple.com.",viewAll:"Ver todos los resultados de la b\xfasqueda",recommendedResults:"Enlaces r\xe1pidos",searchText:"Buscar"},LAE:{code:"lae",noResults:"No shortcut found. Search all of apple.com.",viewAll:"View all search results",searchText:"Search"},MX:{code:"mx",noResults:"No se encontraron resultados. Intenta en apple.com.",viewAll:"Ver todos los resultados de la b\xfasqueda",recommendedResults:"Enlaces r\xe1pidos",searchText:"Buscar"},MY:{code:"my"},NL:{code:"nl",noResults:"Niets gevonden. Zoek opnieuw binnen www.apple.com.",viewAll:"Toon alle zoekresultaten",recommendedResults:"Snelkoppelingen",searchText:"Zoek"},NO:{code:"no",noResults:"Fant ingen snarvei. S\xf8k p\xe5 hele apple.com.",viewAll:"Vis alle s\xf8keresultater",recommendedResults:"Hurtigkoblinger",searchText:"S\xf8k"},NZ:{code:"nz"},PH:{code:"ph"},PL:{code:"pl",noResults:"Fraza nie zosta\u0142a odnaleziona. U\u017cyj apple.com.",viewAll:"Przegl\u0105daj wszystkie wyniki",recommendedResults:"Podr\u0119czne \u0142\u0105cza",searchText:"Szukaj"},PT:{code:"pt",noResults:"Nenhum resultado. Tente pesquisar em apple.com.",viewAll:"Ver todos os resultados de pesquisa",recommendedResults:"Liga\xe7\xf5es r\xe1pidas",searchText:"Procurar"},RU:{code:"ru",noResults:"\u0421\u0441\u044b\u043b\u043e\u043a \u043d\u0435\u0442. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a.",viewAll:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430",recommendedResults:"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",searchText:"\u041f\u043e\u0438\u0441\u043a"},SA:{code:"sa"},SE:{code:"se",noResults:"Ingen genv\xe4g hittad. S\xf6k i hela apple.com.",viewAll:"Visa alla s\xf6kresultat",recommendedResults:"Snabbl\xe4nkar",searchText:"S\xf6k"},SG:{code:"sg"},TH:{code:"th"},TR:{code:"tr",noResults:"\xd6neri bulunamad\u0131. T\xfcm apple.com'da ara.",viewAll:"T\xfcm arama sonu\xe7lar\u0131n\u0131 g\xf6ster",recommendedResults:"\xd6nerilen Sonu\xe7lar",searchText:"Arama"},TW:{code:"tw",noResults:"\u5feb\u901f\u641c\u5c0b\u627e\u4e0d\u5230\uff0c\u8a66\u8a66 apple.com \u5b8c\u6574\u641c\u5c0b",viewAll:"\u700f\u89bd\u641c\u7d22\u7d50\u679c",recommendedResults:"\u5feb\u901f\u9023\u7d50",searchText:"\u641c\u5c0b"},UK:{code:"uk"},VN:{code:"vn"},ZA:{code:"za"},PO:null,UA:null,RO:null,CZ:null,HU:null,BG:null,HR:null,GR:null,IS:null};t.exports=n},{}]},{},[41]),"undefined"==typeof AC&&(AC={}),document.createElement("nav"),AC.addEvent=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},AC.removeEvent=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},AC.removeClassName=function(e,t){t=new RegExp(t,"g"),e&&(e.className=e.className.replace(t,"").replace(/ +/g," ").replace(/ +$/gm,"").replace(/^ +/gm,""))},AC.getPreviousSibling=function(e){for(;e=e.previousSibling;)if(1===e.nodeType)return e},"undefined"==typeof AC.Detector&&(AC.Detector={_iOSVersion:null,iOSVersion:function(){return null===this._iOSVersion&&(this._iOSVersion=navigator.userAgent.match(/applewebkit/i)&&(navigator.platform.match(/iphone/i)||navigator.platform.match(/ipod/i)||navigator.platform.match(/ipad/i))?parseFloat(navigator.userAgent.match(/os ([\d_]*)/i)[1].replace("_",".")):!1),this._iOSVersion},_svgAsBackground:null,svgAsBackground:function(e){if(null===this._svgAsBackground){var t=function(){AC.Detector._svgAsBackground=!0,"function"==typeof e&&e()},n=document.createElement("img");n.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D"),n.complete?(n.style.visibility="hidden",n.style.position="absolute",document.body.appendChild(n),window.setTimeout(function(){AC.Detector._svgAsBackground=!1,n.width>=100?(document.body.removeChild(n),t()):document.body.removeChild(n)},1)):(this._svgAsBackground=!1,n.onload=t)}else this._svgAsBackground&&"function"==typeof e&&e();return this._svgAsBackground},_style:null,_prefixes:null,_preFixes:null,_css:null,isCSSAvailable:function(e){switch(this._style||(this._style=document.createElement("browserdetect").style),this._prefixes||(this._prefixes="-webkit- -moz- -o- -ms- -khtml- ".split(" ")),this._preFixes||(this._preFixes="Webkit Moz O ms Khtml ".split(" ")),this._css||(this._css={}),e=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/^(\-*webkit|\-*moz|\-*o|\-*ms|\-*khtml)\-/,"").toLowerCase()){case"gradient":if(void 0!==this._css.gradient)return this._css.gradient;var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return this._style.cssText=(e+this._prefixes.join(t+e)+this._prefixes.join(n+e)).slice(0,-e.length),this._css.gradient=-1!==this._style.backgroundImage.indexOf("gradient"),this._css.gradient;case"inset-box-shadow":if(void 0!==this._css["inset-box-shadow"])return this._css["inset-box-shadow"];var e="box-shadow:",i="#fff 0 1px 1px inset;";return this._style.cssText=this._prefixes.join(e+i),this._css["inset-box-shadow"]=-1!==this._style.cssText.indexOf("inset"),this._css["inset-box-shadow"];default:var r,o,s,a=e.split("-"),l=a.length;if(a.length>0)for(e=a[0],o=1;l>o;o+=1)e+=a[o].substr(0,1).toUpperCase()+a[o].substr(1);if(r=e.substr(0,1).toUpperCase()+e.substr(1),void 0!==this._css[e])return this._css[e];for(s=this._preFixes.length-1;s>=0;s--)if(void 0!==this._style[this._preFixes[s]+e]||void 0!==this._style[this._preFixes[s]+r])return this._css[e]=!0,!0;return!1}return!1}}),AC.GlobalNav=function(){var e=this;this.globalHeader=document.getElementById("globalheader"),this.globalSearch=document.getElementById("sp-searchtext"),this.globalStylesheet=document.getElementById("globalheader-stylesheet"),this.globalHeader&&(this.globalHeader.className+=" globalheader-js",AC.Detector.svgAsBackground(function(){e.globalHeader.className+=" svg"}),navigator.userAgent.match(/applewebkit/i)&&(navigator.geolocation?(navigator.platform.match(/ipad/i)||navigator.platform.match(/iphone/i)||navigator.platform.match(/ipod/i))&&(this.globalHeader.className+=" ios"):this.globalHeader.className+=" decelerate",AC.Detector.iOSVersion()&&AC.Detector.iOSVersion()<=3.2&&(this.globalHeader.className+=" ios3"),(!AC.Detector.isCSSAvailable("inset-box-shadow")||navigator.userAgent.match(/chrome/i)&&navigator.userAgent.match(/windows/i))&&(this.globalHeader.className+=" noinset")),this.enhanceSearch(),this.decorateSearchInput(),this.vml(),this.decorateTabStates(),AC.GlobalNav.canEnhance()&&this.globalStylesheet&&(this.enhancedGlobalStylesheet=this.globalStylesheet.cloneNode(!0),this.enhancedGlobalStylesheet.id="globalheader-enhanced-stylesheet",this.enhancedGlobalStylesheet.href=this.globalStylesheet.href.replace("/navigation.css","/enhanced.css"),this.globalStylesheet.parentNode.appendChild(this.enhancedGlobalStylesheet)),this.loaded())},AC.GlobalNav._canEnhance=null,AC.GlobalNav.canEnhance=function(){if(null==AC.GlobalNav.canEnhance._canEnhance){var e=navigator.userAgent.replace(/^.*version\/([\d\.]*) .*$/i,"$1").split(".");AC.GlobalNav.canEnhance._canEnhance=AC.Detector.isCSSAvailable("transition-property")&&AC.Detector.isCSSAvailable("gradient")&&(AC.Detector.iOSVersion()===!1||AC.Detector.iOSVersion()>=3.2)&&!(navigator.userAgent.match(/applewebkit/i)&&3===e.length&&e[0]<=4&&e[1]<=0&&e[2]<=2)}return AC.GlobalNav.canEnhance._canEnhance},AC.GlobalNav.prototype.enhanceSearch=function(){if(this.globalSearchForm=document.getElementById("g-search"),this.globalSearchForm&&this.globalSearch){if("undefined"==typeof searchCountry&&(searchCountry="us"),SearchShortcut.geoMap[searchCountry.toUpperCase()].directory)var e=SearchShortcut.geoMap[searchCountry.toUpperCase()].directory;else if("us"!==searchCountry)var e="/"+searchCountry.replace(/_/,"");else e="";var t={global:"http://www.apple.com"+e+"/search/",ipad:"http://www.apple.com"+e+"/search/",iphone:"http://www.apple.com"+e+"/search/",ipoditunes:"http://www.apple.com"+e+"/search/",mac:"http://www.apple.com"+e+"/search/",store:"http://www.apple.com"+e+"/search/",support:"http://www.info.apple.com/searchredir.html"};if("undefined"!=typeof window.searchHost&&window.searchHost===!0){var n=window.location.protocol+"//"+window.location.hostname;if("support"!==searchSection)var i=t[searchSection].replace("http://www.apple.com",n)}else var i=t[searchSection]||"http://www.apple.com/search/";this.globalSearchForm.setAttribute("action",i),this.globalSearchForm.setAttribute("method","get"),this.searchWrapper=document.getElementById("globalsearch"),this.resultsPanel=document.getElementById("sp-results"),this.searchPosition="globalNav",this.enhancedSearch=enhancedSearch=new SearchShortcut("globalnav",this.globalSearchForm,this.globalSearch,"sp-results",this.searchPosition),SearchShortcut.globalNavCallback=function(e){enhancedSearch.loadJson(e)},SearchShortcut.loadXmlToDoc=function(e){enhancedSearch.loadXmlToDoc(e)}}},AC.GlobalNav.prototype.decorateSearchInput=function(){if(this.globalSearch){var e,t,n,i=document.getElementById("g-search"),r=document.createDocumentFragment(),o=this,s=!0;this.globalSearch.setAttribute("autocomplete","off"),this.globalSearch.setAttribute("autocorrect","off"),this.globalSearch.setAttribute("autocapitalize","off"),this.globalSearch.setAttribute("role","combobox"),this.globalSearch.setAttribute("aria-owns",this.resultsPanel.id),this.globalSearch.setAttribute("aria-haspopup","true"),this.globalSearch.setAttribute("aria-autocomplete","both"),e=document.createElement("input"),this.globalSearch.parentNode.replaceChild(e,this.globalSearch),t=document.createElement("div"),t.className="reset",resetEnd=function(e){e.target===t&&"0"===window.getComputedStyle(t,null).opacity&&(t.style.display="none")},window.addEventListener&&(t.addEventListener("transitionend",resetEnd,!0),t.addEventListener("transitionEnd",resetEnd,!0),t.addEventListener("oTransitionEnd",resetEnd,!1),t.addEventListener("mozTransitionEnd",resetEnd,!1),t.addEventListener("webkitTransitionEnd",resetEnd,!1)),0===this.globalSearch.value.length&&(i.className+=" empty"),r.appendChild(this.globalSearch),r.appendChild(t),n=function(){s=!1,o.globalSearch.value="",o.enhancedSearch&&o.enhancedSearch.hideResults(),window.setTimeout(function(){i.className+=" empty",s=!0,o.globalSearch.focus()},10)},AC.addEvent(t,"mousedown",n),AC.addEvent(this.globalSearch,"focus",function(){s&&(t.style.display="",window.setTimeout(function(){o.globalHeader.className+=" searchmode"},10))}),AC.addEvent(this.globalSearch,"blur",function(){s?(t.style.display="",window.setTimeout(function(){AC.removeClassName(o.globalHeader,"searchmode")},10)):s=!0}),AC.addEvent(this.globalSearch,"keydown",function(e){e.keyCode;s=!0,o.globalSearch.value.length>=0?(t.style.display="",window.setTimeout(function(){AC.removeClassName(i,"empty")},10)):i.className.match("empty")||(i.className+=" empty"),27===e.keyCode&&n(e)}),e&&e.parentNode.replaceChild(r,e)}},AC.GlobalNav.prototype.vml=function(){var e,t,n,i,r;!AC.Detector.isCSSAvailable("border-radius")&&document.namespaces&&this.globalHeader&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e=document.createDocumentFragment(),t=document.createElement("v:roundrect"),t.setAttribute("id","globalheader-roundrect"),t.setAttribute("stroked",!0),t.setAttribute("strokeColor","#737373"),t.setAttribute("arcSize",".1"),e.appendChild(t),n=this.globalHeader.currentStyle.backgroundImage,this.globalHeader.style.backgroundImage="none",n=n.replace(/url\(["']*([^"']*)["']*\)/,"$1"),i=document.createElement("v:fill"),i.setAttribute("id","globalheader-fill"),i.setAttribute("type","tile"),i.setAttribute("src",n),t.appendChild(i),r=document.createElement("v:roundrect"),r.setAttribute("id","globalheader-shadow"),r.setAttribute("stroked",!1),r.setAttribute("fillColor","#999"),r.setAttribute("arcSize",".1"),e.appendChild(r),this.globalHeader.appendChild(e))},AC.GlobalNav.prototype.getPreviousNavItem=function(e){for(;"li"!==e.tagName.toLowerCase();)e=e.parentNode;return(e=AC.getPreviousSibling(e))?"li"!==e.tagName.toLowerCase()?!1:(e=e.getElementsByTagName("a"),e[0]?e[0]:!1):!1},AC.GlobalNav.prototype.decorateTabStates=function(){this.globalNavItems=this.globalHeader.getElementsByTagName("a");var e,t=this,n=this.globalHeader.className.replace(/ .*/,"");for(e=this.globalNavItems.length-1;e>=0;e--)this.globalNavItems[e].href.match(n)&&(this.currentTab=this.globalNavItems[e]),AC.addEvent(this.globalNavItems[e],"mousedown",function(e){var n=e.target?e.target:e.srcElement;n=t.getPreviousNavItem(n),n&&n!==t.currentTab&&(n.className+=" before")}),AC.addEvent(this.globalNavItems[e],"mouseout",function(e){var n=e.target?e.target:e.srcElement;n=t.getPreviousNavItem(n),n&&n!==t.currentTab&&AC.removeClassName(n,"before")});this.currentTab&&(this.currentTab=this.getPreviousNavItem(this.currentTab),this.currentTab.className+=" before")},AC.GlobalNav.prototype.loaded=function(e){var t=this;this.loadedTimeout&&window.clearTimeout(this.loadedTimeout),this.cancelLoadedTimeout||(this.cancelLoadedTimeout=window.setTimeout(function(){t.loaded(!0)},500)),this.testEnhancedLoaded||(this.testEnhancedLoaded=document.createElement("div"),this.testEnhancedLoaded.id="globalheader-loaded-test",document.body.appendChild(this.testEnhancedLoaded)),e||0===this.testEnhancedLoaded.offsetWidth?this.globalHeader.className+=" globalheader-loaded":this.loadedTimeout=window.setTimeout(function(){t.loaded()},10)};var SearchShortcut=function(e,t,n,i,r){this.searchWrapper="string"==typeof e?document.getElementById(e):e,this.searchForm="string"==typeof t?document.getElementById(t):t,this.searchInput="string"==typeof n?document.getElementById(n):n,this.resultsPanel="string"==typeof i?document.getElementById(i):i,this.searchPosition=r,this.globalHeader=document.getElementById("globalheader"),this.aiSuggestionToggle=!0,this.aiTimeoutLimit=3e3,this.aiTimeoutFlag=!0,this.addSection();var o=/applewebkit/i.test(navigator.userAgent)&&!/ipad/i.test(navigator.userAgent)&&/mobile/i.test(navigator.userAgent)||/webos/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)||/blackberry/i.test(navigator.userAgent)||/windows ce/i.test(navigator.userAgent)||/opera mini/i.test(navigator.userAgent);o&&(aiRequestsEnabled=!1,deactivateSearchShortcuts=!0),this.shouldVML()&&(this.resultsPanel.className+=" sp-results-vml"),this.addSpinner(),this.minimumCharactersForSearch=0,this.entryDelay=0,this.currentRequest=!1,this.quickLinks=SearchShortcut.geoMap.US.shortcuts,this.suggestedSearchLinks=SearchShortcut.geoMap.US.suggestionsText,this.noResults=SearchShortcut.geoMap.US.noResults,"undefined"!=typeof searchCountry&&searchCountry&&(this.quickLinks=SearchShortcut.geoMap[searchCountry.toUpperCase()].shortcuts||this.quickLinks,this.noResults=SearchShortcut.geoMap[searchCountry.toUpperCase()].noResults||this.noResults);var s=this;AC.addEvent(this.searchForm,"submit",function(e){try{e.preventDefault(),e.stopPropagation()}catch(t){}return!1}),AC.addEvent(this.searchInput,"keydown",function(e){s.handleKeyEvent(e)}),AC.addEvent(this.searchInput,"keyup",function(e){s.handleKeyEvent(e)}),AC.addEvent(this.searchInput,"blur",function(e){s.onBlur(e)}),AC.addEvent(this.searchInput,"focus",function(){s.searchText=s.searchInput.value})};SearchShortcut.prototype.shouldVML=function(){return!AC.Detector.isCSSAvailable("border-radius")&&document.namespaces},SearchShortcut.prototype.addSpinner=function(){this.spinner=document.createElement("div"),this.spinner.className="spinner hide",this.searchInput.parentNode.appendChild(this.spinner)},SearchShortcut.prototype.hideSpinner=function(){this.spinner.className+=" hide"},SearchShortcut.prototype.showSpinner=function(){AC.removeClassName(this.spinner,"hide")},SearchShortcut.prototype.addSection=function(){var e=document.getElementById("search-section");e?e&&(e.value=window.searchSection):(e=document.createElement("input"),e.id="search-section",e.type="hidden",e.name="sec",e.value=window.searchSection,this.searchForm.appendChild(e))},SearchShortcut.prototype.handleKeyEvent=function(e){var t=this,n="undefined"!=typeof window.event?event.keyCode:e.keyCode,i=e.type||event.type,r={13:"enter",9:"tab",27:"escape",38:"arrowUp",40:"arrowDown",39:"arrowRight",37:"arrowLeft",17:"arrowRight",91:"arrowLeft",35:"end",36:"home"},o=function(){try{e.preventDefault(),e.stopPropagation()}catch(t){}},s={enter:{keydown:function(){var n="undefined"!=typeof FeedStatistics?new FeedStatistics:!1;e.altKey||(t.selected?(n&&n.updateStorageItem("search type","common searches"),t.go(t.selected.data.url)):"undefined"!=typeof FeedStatistics?(n&&n.updateStorageItem("search type","user"),t.hideResults(),t.fullSearch()):(t.hideResults(),t.fullSearch()))}},tab:{keydown:function(){t.hideResults()}},escape:{keydown:function(){t.results={}}},arrowUp:{keydown:function(){t.results&&o()},keyup:function(){t.results&&(o(),t.selected&&(t.selected&&t.selected.index>0?(t.selected.deselect(),t.selected=t.results[t.selected.index-1].select()):(t.searchInput.value=t.searchText,t.selected.deselect(),t.selected=!1),t.resultsShowing===!0&&t.updateSearchFieldWithSuggestions()))}},arrowDown:{keyup:function(){t.results&&(o(),t.selected&&t.results[t.selected.index+1]?(t.selected.deselect(),t.selected=t.results[t.selected.index+1].select()):!t.selected&&t.results[0]&&(t.selected=t.results[0].select()),t.resultsShowing===!0&&t.updateSearchFieldWithSuggestions())}},arrowLeft:{keyup:function(){t.results&&o()}},arrowRight:{keyup:function(){t.results&&o()}},everyKey:{keydown:function(){""===t.searchInput.value&&(t.results={})},keyup:function(){var e=t.searchInput.value;""===t.searchInput.value?t.searchText="":e.length>t.minimumCharactersForSearch&&!t.selected&&(t.searchText=e,t.startKeystrokeTimer())}},unmappedKey:{keyup:function(){t.selected=!1;var e=t.searchInput.value;e=e.replace(/^\s+/g,"").replace(/\s+$/g,""),e=e.replace(/\s\s+/g," "),e.length>t.minimumCharactersForSearch?(t.searchText=e,t.startKeystrokeTimer()):(t.hideSpinner(),t.hideResults())}}},a=s[r[n]]||s.unmappedKey,l="undefined"!=typeof a?a[i]:null,c=s.everyKey,u="undefined"!=typeof c?c[i]:null;l&&l(),u&&u()},SearchShortcut.prototype.updateSearchFieldWithSuggestions=function(){if("undefined"!=typeof this.selected.data)if("Suggestions"===this.selected.data.category)this.searchInput.value=this.selected.data.desc;else if("Quick Link"===this.selected.data.category)this.searchInput.value=this.searchText;else if("No Results"===this.selected.data.category)return},SearchShortcut.prototype.onMouseMove=function(e){e=e||window.event,this.mouseEventTarget=e.target?e.target:e.srcElement,this.shouldHideOnMouseOut&&(this.isOverResults()||this.hideResults(e))},SearchShortcut.prototype.isOverResults=function(){if(!this.mouseEventTarget)return!1;for(;"sp-results"!==this.mouseEventTarget.id&&this.mouseEventTarget.parentNode;)this.mouseEventTarget=this.mouseEventTarget.parentNode;return"sp-results"===this.mouseEventTarget.id},SearchShortcut.prototype.onBlur=function(e){this.isOverResults()?this.shouldHideOnMouseOut=!0:this.selected||this.isOverResults()?this.selected&&!this.isOverResults()&&(this.hideResults(e),this.searchInput.value=this.searchText):this.hideResults(e)},SearchShortcut.prototype.startKeystrokeTimer=function(){this.timeoutId&&window.clearTimeout(this.timeoutId);var e=this;this.timeoutId=window.setTimeout(function(){e.commitKeystroke()},this.entryDelay)},SearchShortcut.prototype.commitKeystroke=function(){"undefined"!=typeof deactivateSearchShortcuts&&deactivateSearchShortcuts||this.search(this.searchText)},SearchShortcut.prototype.fullSearchUrl=function(){var e=this.searchForm.getAttribute("action");return e},SearchShortcut.prototype.getQueryParameters=function(e){var t,n,i=this.searchForm.elements,r=this.searchForm.getAttribute("action");for(this._formValues=[],t=i.length-1;t>=0;t--){var n=i[t];"q"!==n.name&&-1===r.indexOf(n.name)&&(this._formValues.push(n.name+"="+n.value),this._formValues[n.name]=n.name)}var o="?q="+encodeURIComponent(e);return"globalNav"===this.searchPosition&&("undefined"!=typeof searchSection&&searchSection&&(o+="&section="+searchSection),"undefined"!=typeof searchCountry&&searchCountry&&(o+="&geo="+searchCountry.toLowerCase())),o},SearchShortcut.prototype.search=function(e){this.showSpinner();var t=this;if("globalNav"===this.searchPosition){var n=new SearchShortcut.quickLinks,i=this.getQueryParameters(e),r=n.generateScript(i);this.sendRequest(r)}if(searchCountry&&"us"===searchCountry)if("undefined"!=typeof aiRequestsEnabled&&aiRequestsEnabled!==!1){var o=new SearchShortcut.appleInstant(this.searchPosition),s=o.generateScript(e);this.sendRequest(s),this.aiTimeoutId&&window.clearTimeout(this.aiTimeoutId),this.aiTimeoutFlag=!0,this.aiTimeoutId=window.setTimeout(function(){t.hideSpinner(),t.aiTimeoutFlag=!1},this.aiTimeoutLimit)}else this.hideSpinner()},SearchShortcut.prototype.sendRequest=function(e){var t=document.getElementsByTagName("head")[0];t.appendChild(e)},SearchShortcut.prototype.loadData=function(){this.results=new Array;var e,t,n,i;if(!this.searchSuggestions&&this.searchShortcuts)for(i=this.searchShortcuts.length,e=0;i>e;e+=1)this.results.push(this.searchShortcuts[e]);else if(this.searchSuggestions&&!this.searchShortcuts)for(n=this.searchSuggestions.length,e=0;n>e;e+=1)this.results.push(this.searchSuggestions[e]);else if(this.searchSuggestions&&this.searchShortcuts){for(n=this.searchSuggestions.length,i=this.searchShortcuts.length,e=0;n>e;e+=1)this.results.push(this.searchSuggestions[e]);for(t=0;i>t;t+=1)this.results.push(this.searchShortcuts[t])}},SearchShortcut.prototype.loadJson=function(e){if(this.hideSpinner(),("undefined"==typeof this.aiTimeoutFlag||this.aiTimeoutFlag!==!1)&&"undefined"!=typeof aiDisplaySuggestions&&aiDisplaySuggestions!==!1&&(e.hasOwnProperty("0")?(this.parseJsonResults(e),"function"==typeof JSON.stringify&&(this.lastSuggestions=JSON.stringify(e)),this.loadData(),this.results&&this.renderResults()):(delete this.searchSuggestions,this.lastSuggestions={},this.loadData(),this.results&&this.renderResults()),"undefined"!=typeof FeedStatistics)){var t=new FeedStatistics;t.updateLastSuggestions(this.lastSuggestions)}},SearchShortcut.prototype.parseJsonResults=function(e){var t,n="";if(n.length>0)return void this.hideResults();if(e){this.searchSuggestions=new Array;for(t in e)if(e.hasOwnProperty(t)){var i=parseInt(t,10),r={url:this.fullSearchUrl()+this.getQueryParameters(e[i]),desc:e[i],category:"Suggestions"};this.searchSuggestions[i]=r}}},SearchShortcut.prototype.loadXmlToDoc=function(e){var t;if(window.ActiveXObject)t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);else{var n=new DOMParser;t=n.parseFromString(e,"text/xml")}this.hideSpinner();var i=t.getElementsByTagName("term");i.length>0&&i[0].childNodes.length>0&&(this.term=i[0].firstChild.nodeValue,this.xml=t.getElementsByTagName("search_results")[0],this.parseResults(this.xml),this.searchShortcuts&&this.loadData(),this.results&&this.renderResults())},SearchShortcut.prototype.parseResults=function(e){var t,n,i,r,o,s=e.getElementsByTagName("error");if(s.length>0)return void this.hideResults();for(t=e.getElementsByTagName("match"),n=0,this.searchShortcuts=new Array,n=t.length>6?6:t.length,o=0;n>o;o+=1)i=t[o],r={title:i.getAttribute("title"),url:i.getAttribute("url"),desc:i.getAttribute("copy"),priority:i.getAttribute("priority"),image:i.getAttribute("image"),category:"Quick Link"},r.url=decodeURIComponent(r.url),this.searchShortcuts.push(r)},SearchShortcut.prototype.renderResults=function(){var e=this;this.hideResultsOnMouseOut||(this.hideResultsOnMouseOut=function(t){e.resultsShowing&&e.onMouseMove(t)},AC.addEvent(document,"mousemove",this.hideResultsOnMouseOut)),this.resultsShowing=!0,this.resultsPanel.innerHTML="";var t=document.createDocumentFragment(),n=document.createElement("div"),i=document.createElement("div"),r=(document.createElement("h3"),document.createElement("ul")),o=this.results.length;r.setAttribute("role","listbox"),n.className="sp-shadow",t.appendChild(n),this.shouldVML()?(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),roundrect=document.createElement("v:roundrect"),roundrect.id="sp-roundrect",roundrect.strokeColor="#fff",roundrect.fillColor="#fff",roundrect.arcSize=".01",roundrect.appendChild(i),t.appendChild(roundrect)):t.appendChild(i),0===o&&(this.results[0]={title:this.noResults,url:this.fullSearchUrl()+this.getQueryParameters(this.searchText),category:"No Results"},r.className="noresults");var s,o=this.results.length,a=!0,l=!0;for(s=0;o>s;s+=1){if(a&&"Suggestions"===this.results[s].category){var c=document.createElement("h3");c.className="suggestions",c.innerHTML=this.suggestedSearchLinks,r.appendChild(c),a=!1}if(l&&"Quick Link"===this.results[s].category){var u=document.createElement("h3");u.className="quicklinks",u.innerHTML=this.quickLinks,r.appendChild(u),l=!1}this.results[s]=new SearchShortcut.result(s,this.results[s],e),this.results[s].element.setAttribute("role","option"),this.results[s].element.setAttribute("aria-setsize",o),this.results[s].element.setAttribute("aria-posinset",s+1),r.appendChild(this.results[s].element)}a===!1&&l===!1?r.className="suggestions-quicklinks":a!==!1&&l===!1?r.className="quicklinks":a===!1&&l!==!1?r.className="suggestions":0===this.results.length&&"No Results"===this.results[0].category&&(r.className="noresults suggestions-quicklinks"),i.appendChild(r),this.resultsPanel.appendChild(t),this.shouldVML()&&(n.style.height=i.offsetHeight+"px",n.style.display="block"),this.hideAllQuicktimeMovies()},SearchShortcut.prototype.hideResults=function(){this.hideResultsOnMouseOut&&(AC.removeEvent(document,"mousemove",this.hideResultsOnMouseOut),delete this.hideResultsOnMouseOut);
var e=this;window.setTimeout(function(){e.selected=!1,e.shouldHideOnMouseOut=!1,e.resultsPanel.innerHTML="",e.showAllQuicktimeMovies(),e.resultsShowing=!1},100)},SearchShortcut.prototype.track=function(e,t){if("undefined"!=typeof s_gi&&s_gi){var n="appleglobal",i="appleussearch",r=null;"undefined"!=typeof searchCountry&&searchCountry&&"US"!==searchCountry&&(r=SearchShortcut.geoMap[searchCountry.toUpperCase()].code),r&&(n="apple"+r+"global",i="apple"+r+"search"),s=s_gi(n+","+i),s.linkTrackVars="eVar2,eVar4,prop7,prop10",s.linkTrackEvents="event50",s.events=s.apl(s.events,"event50",",",1),s.eVar2="WWW-sc: "+e.toLowerCase(),s.prop7="WWW-sc: "+e.toLowerCase(),s.eVar4=t,s.prop10=t,s.tl(this,"o","Shortcut Search"),s.eVar2="",s.prop7="",s.eVar4="",s.prop10="",s.events=""}},SearchShortcut.prototype.fullSearch=function(){this.searchText=this.searchInput.value,this.searchText=this.searchText.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s\s+/g," ");var e=this.fullSearchUrl()+this.getQueryParameters(this.searchText);if("undefined"!=typeof FeedStatistics){var t=new FeedStatistics;t.inputFeed();var n=t.getStorageItem("query"),i=(t.getQueryFromUri(),this.searchText),r=t.getStorageItem("next"),o=0===document.location.href.indexOf(location.protocol+"//"+document.domain+"/search/");n&&""!==i&&i!==n&&!r&&o&&t.updateNotViewed(),t.updateLastQuery(i),t.updateStorageItem("next",!1)}document.location=e.replace("q=undefined&","")},SearchShortcut.prototype.go=function(e){document.location=e},SearchShortcut.prototype.shouldHideQuicktimeMovies=function(){var e=navigator.userAgent,t=/opera/i.test(e),n=/msie/i.test(e)&&!t,i=(/firefox/i.test(e),/chrome/i.test(e)),r=/applewebkit/i.test(e)&&!i;return win=/windows/i.test(e),mac=/mac/i.test(e),mac&&(r||i)?!1:win&&(n||r||i)?!1:!0},SearchShortcut.prototype.hideAllQuicktimeMovies=function(){function e(e){var t=curtop=0;if(e.offsetParent)for(t=e.offsetLeft,curtop=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,curtop+=e.offsetTop;return[t,curtop]}function t(e,t,n,i,r,o,s,a){var l=e+n,c=t+i,u=r+s,h=o+a,d=Math.max(e,r),p=Math.max(t,o),f=Math.min(l,u),m=Math.min(c,h);return f>d&&m>p}if(this.shouldHideQuicktimeMovies())if("undefined"!=typeof AC&&"undefined"!=typeof AC.Quicktime&&"undefined"!=typeof AC.Quicktime.controllers)for(var n=AC.Quicktime.controllers,i={width:328,height:448},r=e(this.resultsPanel),o=r[0]-328,s=r[1],a=(h+i.width,d+i.height,n.length-1);a>=0;a--){var l=n[a].movie,c=Element.getDimensions(l),u=e(l),h=u[0],d=u[1];t(h,d,c.width,c.height,o,s,i.width,i.height)&&(this.pausedControllers.push(n[a]),n[a].Stop(),n[a].movie.style.visibility="hidden")}else{this.qtm=document.getElementsByTagName("object");for(var a=0;a<this.qtm.length;a++){"undefined"!=typeof this.qtm[a].Stop&&this.qtm[a].Stop();try{"undefined"!=typeof this.qtm[a].getElementsByTagName("embed")[0].Stop&&this.qtm[a].getElementsByTagName("embed")[0].Stop()}catch(p){}this.qtm[a].style.visibility="hidden"}}},SearchShortcut.prototype.showAllQuicktimeMovies=function(){if("undefined"!=typeof AC&&"undefined"!=typeof AC.Quicktime&&"undefined"!=typeof AC.Quicktime.controllers){for(var e=this.pausedControllers.length-1;e>=0;e--)this.pausedControllers[e].movie.style.visibility="visible",navigator.userAgent.match(/Firefox/i)?(this.pausedControllers[e].movie.style.zIndex="100",setTimeout(this.pausedControllers[e].Play.bind(this.pausedControllers[e]),100)):this.pausedControllers[e].Play();this.pausedControllers=[]}else if(this.qtm)for(var e=0;e<this.qtm.length;e++){this.qtm[e].style.visibility="visible","undefined"!=typeof this.qtm[e].Play&&this.qtm[e].Play();try{"undefined"!=typeof this.qtm[e].getElementsByTagName("embed")[0].Play&&this.qtm[e].getElementsByTagName("embed")[0].Play()}catch(t){}}},SearchShortcut.descriptionCharacters=105,SearchShortcut.titleCharacters=39,SearchShortcut.result=function(e,t,n){this.index=e,this.data=t,this.qLinks=n,this.data.truncated={},this.data.desc&&(this.data.truncated.desc=unescape(this.data.desc),this.data.truncated.desc.length>SearchShortcut.descriptionCharacters&&(this.data.truncated.desc=this.data.truncated.desc.substring(0,this.data.truncated.desc.lastIndexOf(" ",this.descriptionCharacters-11))+"&hellip;")),this.data.title&&(this.data.truncated.title=unescape(this.data.title),this.data.truncated.title.length>SearchShortcut.titleCharacters&&(this.data.truncated.title=this.data.truncated.title.substring(0,this.data.truncated.title.lastIndexOf(" ",30))+"&hellip;")),this.render()},SearchShortcut.result.prototype.render=function(){var e,t,n,i,r=document.createDocumentFragment(),o=document.createElement("li"),s=this,a=this.qLinks,l=window.location.protocol+"//"+window.location.hostname;r.appendChild(o),this.data.url&&(e=document.createElement("a"),"undefined"!=typeof window.searchHost&&window.searchHost===!0?(this.data.url=decodeURIComponent(this.data.url).replace("http://www.apple.com",l),e.href=this.data.url):e.href=decodeURIComponent(this.data.url),"Suggestions"===this.data.category&&(e.className="suggestions"),AC.addEvent(e,"click",function(e){try{e.preventDefault(),e.stopPropagation()}catch(t){}return a&&a.go(s.data.url),!1}),AC.addEvent(e,"mousedown",function(e){try{e.preventDefault(),e.stopPropagation()}catch(t){}if(a&&("Quick Link"===s.data.category&&a.track(a.searchText,s.data.url),"undefined"!=typeof FeedStatistics)){var n=new FeedStatistics;n.updateStorageItem("search type","common searches")}return!1}),o.appendChild(e)),this.data.image&&(t=new Image,t.src=this.data.image,t.alt=this.data.title,e.appendChild(t),/MSIE (5\.5|6\.)/.test(navigator.userAgent)&&(t.src="/global/elements/blank.gif",t.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+this.data.image+'",sizingMethod="scale")')),this.data.truncated.title&&(n=document.createElement("h4"),n.innerHTML=this.data.truncated.title,e.appendChild(n)),this.data.truncated.desc&&(i=document.createElement("p"),i.innerHTML=this.data.truncated.desc,e.appendChild(i)),this.element=o},SearchShortcut.result.prototype.select=function(){return this.element.className+=" focus",this},SearchShortcut.result.prototype.deselect=function(){return AC.removeClassName(this.element,"focus"),this},SearchShortcut.quickLinks=function(){this.baseShortcutsUrl="http://www.apple.com/global/nav/scripts/shortcuts.php"},SearchShortcut.quickLinks.prototype.generateScript=function(e){var t=this.baseShortcutsUrl+e+"&transport=js",n=document.createElement("script");return n.id="xdShortcutContainer",n.type="text/javascript",n.src=t,n},SearchShortcut.appleInstant=function(e){if(this.aiLocale="en_US",this.aiModel="undefined"==typeof modelValue?"marcom_en_US":modelValue,"undefined"!=typeof window.searchHost&&window.searchHost===!0){var t=window.location.protocol+"//"+window.location.hostname;this.aiGetSuggestionsUrl=t+"/search/instant/getSuggestions"}else this.aiGetSuggestionsUrl="http://www.apple.com/search/instant/getSuggestions";"searchPage"===e?this.aiGetSuggestionsCallback="SearchShortcut.searchPageCallback":"globalNav"===e&&(this.aiGetSuggestionsCallback="SearchShortcut.globalNavCallback")},SearchShortcut.appleInstant.prototype.generateScript=function(e){var t=this.aiGetSuggestionsUrl+"?&query="+encodeURIComponent(e)+"&locale="+this.aiLocale+"&model="+this.aiModel+"&callback="+this.aiGetSuggestionsCallback,n=document.createElement("script");return n.id="xdSuggestionsContainer",n.type="text/javascript",n.src=t,n},SearchShortcut.geoMap={US:{code:"",noResults:"No suggestions found. Search all of apple.com.",viewAll:"View all search results",shortcuts:"Recommended Results",suggestionsText:"Common Searches",searchText:"Search"},AE:{code:"ae"},ASIA:{code:"asia"},AT:{code:"at",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",viewAll:"Alle Suchergebnisse",searchText:"Suchen"},AU:{code:"au"},BE_FR:{code:"bf",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",shortcuts:"Raccourcis",searchText:"Rechercher"},BE_NL:{code:"bl",noResults:"Niets gevonden. Zoek opnieuw binnen www.apple.com.",viewAll:"Toon alle zoekresultaten",shortcuts:"Snelkoppelingen",searchText:"Zoek"},BR:{code:"br",noResults:"N\xe3o encontrado. Tente a busca em apple.com",viewAll:"Ver todos os resultados da busca",shortcuts:"Links rapidos",searchText:"Buscar"},CA_EN:{code:"ca",directory:"/ca"},CA_FR:{code:"ca",directory:"/ca/fr",viewAll:"Afficher tous les r\xe9sultats",shortcuts:"Raccourcis",searchText:"Recherche"},CH_DE:{code:"ce",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",viewAll:"Alle Suchergebnisse",searchText:"Suchen"},CH_FR:{code:"cr",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",shortcuts:"Raccourcis",searchText:"Rechercher"},CN:{code:"cn",directory:"/cn",noResults:"\u627e\u4e0d\u5230\u5feb\u901f\u641c\u7d22\u7ed3\u679c\uff0c\u8bf7\u5c1d\u8bd5 apple.com \u7684\u5b8c\u6574\u641c\u7d22",shortcuts:"\u5feb\u901f\u94fe\u63a5",viewAll:"\u67e5\u770b\u6240\u6709\u641c\u7d22\u7ed3\u679c",searchText:"\u641c\u7d22"},DE:{code:"de",viewAll:"Alle Suchergebnisse",noResults:"Kein Treffer in Kurzsuche. Vollsuche auf apple.com",searchText:"Suchen"},DK:{code:"dk",noResults:"Ingen genvej fundet. Pr\xf8v at s\xf8ge p\xe5 hele apple.com.",viewAll:"Vis alle s\xf8geresultater",shortcuts:"Hurtige henvisninger",searchText:"S\xf8g"},ES:{code:"es",noResults:"Ning\xfan atajo. B\xfasqueda completa en apple.com",viewAll:"Ver todos los resultados de b\xfasqueda",shortcuts:"Enlaces r\xe1pidos",searchText:"Buscar"},FI:{code:"fi",noResults:"Ei oikotiet\xe4. Etsi koko apple.com.",viewAll:"Katso hakutulokset",shortcuts:"Pikalinkit",searchText:"Etsi"},FR:{code:"fr",noResults:"Pas de r\xe9sultat. Essayez une recherche apple.com",viewAll:"Afficher tous les r\xe9sultats",shortcuts:"Raccourcis",searchText:"Rechercher"},HK:{code:"hk",noResults:"\u627e\u4e0d\u5230\u5feb\u901f\u641c\u5c0b\u7d50\u679c\uff0c\u8acb\u8a66\u8a66 apple.com \u7684\u5b8c\u6574\u641c\u5c0b",viewAll:"\u6aa2\u8996\u6240\u6709\u641c\u5c0b\u7d50\u679c",shortcuts:"\u5feb\u901f\u9023\u7d50",searchText:"\u641c\u5c0b"},HK_EN:{code:"hk",directory:"/hk/en"},ID:{code:"id"},IE:{code:"ie"},IN:{code:"in"},IT:{code:"it",noResults:"Nessuna scorciatoia trovata. Provate su apple.com",viewAll:"Mostra tutti i risultati",shortcuts:"Collegamenti rapidi",searchText:"Cerca"},JP:{code:"jp",noResults:"\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u691c\u7d22\u306f\u3053\u3061\u3089\u3002",viewAll:"\u3059\u3079\u3066\u306e\u691c\u7d22\u7d50\u679c\u3092\u898b\u308b",shortcuts:"\u30af\u30a4\u30c3\u30af\u30ea\u30f3\u30af",searchText:"Search"},KR:{code:"kr",noResults:"\uc77c\uce58\ud558\ub294 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uac80\uc0c9\ud558\uae30.",shortcuts:"\ube60\ub978 \uc5f0\uacb0",viewAll:"\uac80\uc0c9 \uacb0\uacfc \uc804\uccb4 \ubcf4\uae30."},LA:{code:"la",noResults:"No se encontraron resultados. Intenta en apple.com.",viewAll:"Ver todos los resultados de la b\xfasqueda",shortcuts:"Enlaces r\xe1pidos",searchText:"Buscar"},LAE:{code:"lae",noResults:"No shortcut found. Search all of apple.com.",viewAll:"View all search results",searchText:"Search"},MX:{code:"mx",noResults:"No se encontraron resultados. Intenta en apple.com.",viewAll:"Ver todos los resultados de la b\xfasqueda",shortcuts:"Enlaces r\xe1pidos",searchText:"Buscar"},MY:{code:"my"},NL:{code:"nl",noResults:"Niets gevonden. Zoek opnieuw binnen www.apple.com.",viewAll:"Toon alle zoekresultaten",shortcuts:"Snelkoppelingen",searchText:"Zoek"},NO:{code:"no",noResults:"Fant ingen snarvei. S\xf8k p\xe5 hele apple.com.",viewAll:"Vis alle s\xf8keresultater",shortcuts:"Hurtigkoblinger",searchText:"S\xf8k"},NZ:{code:"nz"},PH:{code:"ph"},PL:{code:"pl",noResults:"Fraza nie zosta\u0142a odnaleziona. U\u017cyj apple.com.",viewAll:"Przegl\u0105daj wszystkie wyniki",shortcuts:"Podr\u0119czne \u0142\u0105cza",searchText:"Szukaj"},PT:{code:"pt",noResults:"Nenhum resultado. Tente pesquisar em apple.com.",viewAll:"Ver todos os resultados de pesquisa",shortcuts:"Liga\xe7\xf5es r\xe1pidas",searchText:"Procurar"},RU:{code:"ru",noResults:"\u0421\u0441\u044b\u043b\u043e\u043a \u043d\u0435\u0442. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a.",viewAll:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430",shortcuts:"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",searchText:"\u041f\u043e\u0438\u0441\u043a"},SA:{code:"sa"},SE:{code:"se",noResults:"Ingen genv\xe4g hittad. S\xf6k i hela apple.com.",viewAll:"Visa alla s\xf6kresultat",shortcuts:"Snabbl\xe4nkar",searchText:"S\xf6k"},SG:{code:"sg"},TH:{code:"th"},TR:{code:"tr",noResults:"\xd6neri bulunamad\u0131. T\xfcm apple.com'da ara.",viewAll:"T\xfcm arama sonu\xe7lar\u0131n\u0131 g\xf6ster",shortcuts:"\xd6nerilen Sonu\xe7lar",searchText:"Arama"},TW:{code:"tw",noResults:"\u5feb\u901f\u641c\u5c0b\u627e\u4e0d\u5230\uff0c\u8a66\u8a66 apple.com \u5b8c\u6574\u641c\u5c0b",viewAll:"\u700f\u89bd\u641c\u7d22\u7d50\u679c",shortcuts:"\u5feb\u901f\u9023\u7d50",searchText:"\u641c\u5c0b"},UK:{code:"uk"},VN:{code:"vn"},ZA:{code:"za"},PO:null,UA:null,RO:null,CZ:null,HU:null,BG:null,HR:null,GR:null,IS:null};var Prototype={Version:"1.6.0.2",Browser:{IE:!(!window.attachEvent||window.opera),Opera:!!window.opera,WebKit:navigator.userAgent.indexOf("AppleWebKit/")>-1,Gecko:navigator.userAgent.indexOf("Gecko")>-1&&-1==navigator.userAgent.indexOf("KHTML"),MobileSafari:!!navigator.userAgent.match(/Apple.*Mobile.*Safari/)},BrowserFeatures:{XPath:!!document.evaluate,ElementExtensions:!!window.HTMLElement,SpecificElementExtensions:document.createElement("div").__proto__&&document.createElement("div").__proto__!==document.createElement("form").__proto__},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(e){return e}};Prototype.Browser.MobileSafari&&(Prototype.BrowserFeatures.SpecificElementExtensions=!1);var Class={create:function(){function e(){this.initialize.apply(this,arguments)}var t=null,n=$A(arguments);if(Object.isFunction(n[0])&&(t=n.shift()),Object.extend(e,Class.Methods),e.superclass=t,e.subclasses=[],t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,t.subclasses.push(e)}for(var r=0;r<n.length;r++)e.addMethods(n[r]);return e.prototype.initialize||(e.prototype.initialize=Prototype.emptyFunction),e.prototype.constructor=e,e}};Class.Methods={addMethods:function(e){var t=this.superclass&&this.superclass.prototype,n=Object.keys(e);Object.keys({toString:!0}).length||n.push("toString","valueOf");for(var i=0,r=n.length;r>i;i++){var o=n[i],s=e[o];if(t&&Object.isFunction(s)&&"$super"==s.argumentNames().first())var a=s,s=Object.extend(function(e){return function(){return t[e].apply(this,arguments)}}(o).wrap(a),{valueOf:function(){return a},toString:function(){return a.toString()}});this.prototype[o]=s}return this}};var Abstract={};Object.extend=function(e,t){for(var n in t)e[n]=t[n];return e},Object.extend(Object,{inspect:function(e){try{return Object.isUndefined(e)?"undefined":null===e?"null":e.inspect?e.inspect():String(e)}catch(t){if(t instanceof RangeError)return"...";throw t}},toJSON:function(e){var t=typeof e;switch(t){case"undefined":case"function":case"unknown":return;case"boolean":return e.toString()}if(null===e)return"null";if(e.toJSON)return e.toJSON();if(!Object.isElement(e)){var n=[];for(var i in e){var r=Object.toJSON(e[i]);Object.isUndefined(r)||n.push(i.toJSON()+": "+r)}return"{"+n.join(", ")+"}"}},toQueryString:function(e){return $H(e).toQueryString()},toHTML:function(e){return e&&e.toHTML?e.toHTML():String.interpret(e)},keys:function(e){var t=[];for(var n in e)t.push(n);return t},values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},clone:function(e){return Object.extend({},e)},isElement:function(e){return e&&1==e.nodeType},isArray:function(e){return null!=e&&"object"==typeof e&&"splice"in e&&"join"in e},isHash:function(e){return e instanceof Hash},isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isUndefined:function(e){return"undefined"==typeof e}}),Object.extend(Function.prototype,{argumentNames:function(){var e=this.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(",").invoke("strip");return 1!=e.length||e[0]?e:[]},bind:function(){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var e=this,t=$A(arguments),n=t.shift();return function(){return e.apply(n,t.concat($A(arguments)))}},bindAsEventListener:function(){var e=this,t=$A(arguments),n=t.shift();return function(i){return e.apply(n,[i||window.event].concat(t))}},curry:function(){if(!arguments.length)return this;var e=this,t=$A(arguments);return function(){return e.apply(this,t.concat($A(arguments)))}},delay:function(){var e=this,t=$A(arguments),n=1e3*t.shift();return window.setTimeout(function(){return e.apply(e,t)},n)},wrap:function(e){var t=this;return function(){return e.apply(this,[t.bind(this)].concat($A(arguments)))}},methodize:function(){if(this._methodized)return this._methodized;var e=this;return this._methodized=function(){return e.apply(null,[this].concat($A(arguments)))}}}),Function.prototype.defer=Function.prototype.delay.curry(.01),Date.prototype.toJSON=function(){return'"'+this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+'Z"'};var Try={these:function(){for(var e,t=0,n=arguments.length;n>t;t++){var i=arguments[t];try{e=i();break}catch(r){}}return e}};RegExp.prototype.match=RegExp.prototype.test,RegExp.escape=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(e,t){this.callback=e,this.frequency=t,this.currentlyExecuting=!1,this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),1e3*this.frequency)},execute:function(){this.callback(this)},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onTimerEvent:function(){if(!this.currentlyExecuting)try{this.currentlyExecuting=!0,this.execute()}finally{this.currentlyExecuting=!1}}});with(Object.extend(String,{interpret:function(e){return null==e?"":String(e)},specialChar:{"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}}),Object.extend(String.prototype,{gsub:function(e,t){var n,i="",r=this;for(t=arguments.callee.prepareReplacement(t);r.length>0;)(n=r.match(e))?(i+=r.slice(0,n.index),i+=String.interpret(t(n)),r=r.slice(n.index+n[0].length)):(i+=r,r="");return i},sub:function(e,t,n){return t=this.gsub.prepareReplacement(t),n=Object.isUndefined(n)?1:n,this.gsub(e,function(e){return--n<0?e[0]:t(e)})},scan:function(e,t){return this.gsub(e,t),String(this)},truncate:function(e,t){return e=e||30,t=Object.isUndefined(t)?"...":t,this.length>e?this.slice(0,e-t.length)+t:String(this)},strip:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},stripTags:function(){return this.replace(/<\/?[^>]+>/gi,"")},stripScripts:function(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")},extractScripts:function(){var e=new RegExp(Prototype.ScriptFragment,"img"),t=new RegExp(Prototype.ScriptFragment,"im");return(this.match(e)||[]).map(function(e){return(e.match(t)||["",""])[1]})},evalScripts:function(){return this.extractScripts().map(function(script){return eval(script)})},escapeHTML:function(){var e=arguments.callee;return e.text.data=this,e.div.innerHTML},unescapeHTML:function(){var e=new Element("div");return e.innerHTML=this.stripTags(),e.childNodes[0]?e.childNodes.length>1?$A(e.childNodes).inject("",function(e,t){return e+t.nodeValue}):e.childNodes[0].nodeValue:""},toQueryParams:function(e){var t=this.strip().match(/([^?#]*)(#.*)?$/);return t?t[1].split(e||"&").inject({},function(e,t){if((t=t.split("="))[0]){var n=decodeURIComponent(t.shift()),i=t.length>1?t.join("="):t[0];void 0!=i&&(i=decodeURIComponent(i)),n in e?(Object.isArray(e[n])||(e[n]=[e[n]]),e[n].push(i)):e[n]=i}return e}):{}},toArray:function(){return this.split("")},succ:function(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)},times:function(e){return 1>e?"":new Array(e+1).join(this)},camelize:function(){var e=this.split("-"),t=e.length;if(1==t)return e[0];for(var n="-"==this.charAt(0)?e[0].charAt(0).toUpperCase()+e[0].substring(1):e[0],i=1;t>i;i++)n+=e[i].charAt(0).toUpperCase()+e[i].substring(1);return n},capitalize:function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},underscore:function(){return this.gsub(/::/,"/").gsub(/([A-Z]+)([A-Z][a-z])/,"#{1}_#{2}").gsub(/([a-z\d])([A-Z])/,"#{1}_#{2}").gsub(/-/,"_").toLowerCase()},dasherize:function(){return this.gsub(/_/,"-")},inspect:function(e){var t=this.gsub(/[\x00-\x1f\\]/,function(e){var t=String.specialChar[e[0]];return t?t:"\\u00"+e[0].charCodeAt().toPaddedString(2,16)});return e?'"'+t.replace(/"/g,'\\"')+'"':"'"+t.replace(/'/g,"\\'")+"'"},toJSON:function(){return this.inspect(!0)},unfilterJSON:function(e){return this.sub(e||Prototype.JSONFilter,"#{1}")},isJSON:function(){var e=this;return e.blank()?!1:(e=this.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e))},evalJSON:function(sanitize){var json=this.unfilterJSON();try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())},include:function(e){return this.indexOf(e)>-1},startsWith:function(e){return 0===this.indexOf(e)},endsWith:function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)===t},empty:function(){return""==this},blank:function(){return/^\s*$/.test(this)},interpolate:function(e,t){return new Template(this,t).evaluate(e)}}),(Prototype.Browser.WebKit||Prototype.Browser.IE)&&Object.extend(String.prototype,{escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(){return this.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}}),String.prototype.gsub.prepareReplacement=function(e){if(Object.isFunction(e))return e;var t=new Template(e);return function(e){return t.evaluate(e)}},String.prototype.parseQuery=String.prototype.toQueryParams,Object.extend(String.prototype.escapeHTML,{div:document.createElement("div"),text:document.createTextNode("")}),String.prototype.escapeHTML)div.appendChild(text);var Template=Class.create({initialize:function(e,t){this.template=e.toString(),this.pattern=t||Template.Pattern},evaluate:function(e){return Object.isFunction(e.toTemplateReplacements)&&(e=e.toTemplateReplacements()),this.template.gsub(this.pattern,function(t){if(null==e)return"";var n=t[1]||"";if("\\"==n)return t[2];var i=e,r=t[3],o=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;if(t=o.exec(r),null==t)return n;for(;null!=t;){var s=t[1].startsWith("[")?t[2].gsub("\\\\]","]"):t[1];if(i=i[s],null==i||""==t[3])break;r=r.substring("["==t[3]?t[1].length:t[0].length),t=o.exec(r)}return n+String.interpret(i)})}});Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={},Enumerable={each:function(e,t){var n=0;e=e.bind(t);try{this._each(function(t){e(t,n++)})}catch(i){if(i!=$break)throw i}return this},eachSlice:function(e,t,n){t=t?t.bind(n):Prototype.K;for(var i=-e,r=[],o=this.toArray();(i+=e)<o.length;)r.push(o.slice(i,i+e));return r.collect(t,n)},all:function(e,t){e=e?e.bind(t):Prototype.K;var n=!0;return this.each(function(t,i){if(n=n&&!!e(t,i),!n)throw $break}),n},any:function(e,t){e=e?e.bind(t):Prototype.K;var n=!1;return this.each(function(t,i){if(n=!!e(t,i))throw $break}),n},collect:function(e,t){e=e?e.bind(t):Prototype.K;var n=[];return this.each(function(t,i){n.push(e(t,i))}),n},detect:function(e,t){e=e.bind(t);var n;return this.each(function(t,i){if(e(t,i))throw n=t,$break}),n},findAll:function(e,t){e=e.bind(t);var n=[];return this.each(function(t,i){e(t,i)&&n.push(t)}),n},grep:function(e,t,n){t=t?t.bind(n):Prototype.K;var i=[];return Object.isString(e)&&(e=new RegExp(e)),this.each(function(n,r){e.match(n)&&i.push(t(n,r))}),i},include:function(e){if(Object.isFunction(this.indexOf)&&-1!=this.indexOf(e))return!0;var t=!1;return this.each(function(n){if(n==e)throw t=!0,$break}),t},inGroupsOf:function(e,t){return t=Object.isUndefined(t)?null:t,this.eachSlice(e,function(n){for(;n.length<e;)n.push(t);return n})},inject:function(e,t,n){return t=t.bind(n),this.each(function(n,i){e=t(e,n,i)}),e},invoke:function(e){var t=$A(arguments).slice(1);return this.map(function(n){return n[e].apply(n,t)})},max:function(e,t){e=e?e.bind(t):Prototype.K;var n;return this.each(function(t,i){t=e(t,i),(null==n||t>=n)&&(n=t)}),n},min:function(e,t){e=e?e.bind(t):Prototype.K;var n;return this.each(function(t,i){t=e(t,i),(null==n||n>t)&&(n=t)}),n},partition:function(e,t){e=e?e.bind(t):Prototype.K;var n=[],i=[];return this.each(function(t,r){(e(t,r)?n:i).push(t)}),[n,i]},pluck:function(e){var t=[];return this.each(function(n){t.push(n[e])}),t},reject:function(e,t){e=e.bind(t);var n=[];return this.each(function(t,i){e(t,i)||n.push(t)}),n},sortBy:function(e,t){return e=e.bind(t),this.map(function(t,n){return{value:t,criteria:e(t,n)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0}).pluck("value")},toArray:function(){return this.map()},zip:function(){var e=Prototype.K,t=$A(arguments);Object.isFunction(t.last())&&(e=t.pop());var n=[this].concat(t).map($A);return this.map(function(t,i){return e(n.pluck(i))})},size:function(){return this.toArray().length},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">"}};Object.extend(Enumerable,{map:Enumerable.collect,find:Enumerable.detect,select:Enumerable.findAll,filter:Enumerable.findAll,member:Enumerable.include,entries:Enumerable.toArray,every:Enumerable.all,some:Enumerable.any}),Prototype.Browser.WebKit&&($A=function(e){if(!e)return[];if((!Object.isFunction(e)||"[object NodeList]"!=e)&&e.toArray)return e.toArray();for(var t=e.length||0,n=new Array(t);t--;)n[t]=e[t];return n}),Array.from=$A,Object.extend(Array.prototype,Enumerable),Array.prototype._reverse||(Array.prototype._reverse=Array.prototype.reverse),Object.extend(Array.prototype,{_each:function(e){for(var t=0,n=this.length;n>t;t++)e(this[t])},clear:function(){return this.length=0,this},first:function(){return this[0]},last:function(){return this[this.length-1]},compact:function(){return this.select(function(e){return null!=e})},flatten:function(){return this.inject([],function(e,t){return e.concat(Object.isArray(t)?t.flatten():[t])})},without:function(){var e=$A(arguments);return this.select(function(t){return!e.include(t)})},reverse:function(e){return(e!==!1?this:this.toArray())._reverse()},reduce:function(){return this.length>1?this:this[0]},uniq:function(e){return this.inject([],function(t,n,i){return 0!=i&&(e?t.last()==n:t.include(n))||t.push(n),t})},intersect:function(e){return this.uniq().findAll(function(t){return e.detect(function(e){return t===e})})},clone:function(){return[].concat(this)},size:function(){return this.length},inspect:function(){return"["+this.map(Object.inspect).join(", ")+"]"},toJSON:function(){var e=[];return this.each(function(t){var n=Object.toJSON(t);Object.isUndefined(n)||e.push(n)}),"["+e.join(", ")+"]"}}),Object.isFunction(Array.prototype.forEach)&&(Array.prototype._each=Array.prototype.forEach),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){t||(t=0);var n=this.length;for(0>t&&(t=n+t);n>t;t++)if(this[t]===e)return t;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e,t){t=isNaN(t)?this.length:(0>t?this.length+t:t)+1;var n=this.slice(0,t).reverse().indexOf(e);return 0>n?n:t-n-1}),Array.prototype.toArray=Array.prototype.clone,Prototype.Browser.Opera&&(Array.prototype.concat=function(){for(var e=[],t=0,n=this.length;n>t;t++)e.push(this[t]);for(var t=0,n=arguments.length;n>t;t++)if(Object.isArray(arguments[t]))for(var i=0,r=arguments[t].length;r>i;i++)e.push(arguments[t][i]);else e.push(arguments[t]);return e}),Object.extend(Number.prototype,{toColorPart:function(){return this.toPaddedString(2,16)},succ:function(){return this+1},times:function(e){return $R(0,this,!0).each(e),this},toPaddedString:function(e,t){var n=this.toString(t||10);return"0".times(e-n.length)+n},toJSON:function(){return isFinite(this)?this.toString():"null"}}),$w("abs round ceil floor").each(function(e){Number.prototype[e]=Math[e].methodize()});var Hash=Class.create(Enumerable,function(){function e(e,t){return Object.isUndefined(t)?e:e+"="+encodeURIComponent(String.interpret(t))}return{initialize:function(e){this._object=Object.isHash(e)?e.toObject():Object.clone(e)},_each:function(e){for(var t in this._object){var n=this._object[t],i=[t,n];i.key=t,i.value=n,e(i)}},set:function(e,t){return this._object[e]=t},get:function(e){return this._object[e]},unset:function(e){var t=this._object[e];return delete this._object[e],t},toObject:function(){return Object.clone(this._object)},keys:function(){return this.pluck("key")},values:function(){return this.pluck("value")},index:function(e){var t=this.detect(function(t){return t.value===e});return t&&t.key},merge:function(e){return this.clone().update(e)},update:function(e){return new Hash(e).inject(this,function(e,t){return e.set(t.key,t.value),e})},toQueryString:function(){return this.map(function(t){var n=encodeURIComponent(t.key),i=t.value;return i&&"object"==typeof i&&Object.isArray(i)?i.map(e.curry(n)).join("&"):e(n,i)}).join("&")},inspect:function(){return"#<Hash:{"+this.map(function(e){return e.map(Object.inspect).join(": ")}).join(", ")+"}>"},toJSON:function(){return Object.toJSON(this.toObject())},clone:function(){return new Hash(this)}}}());Hash.prototype.toTemplateReplacements=Hash.prototype.toObject,Hash.from=$H;var ObjectRange=Class.create(Enumerable,{initialize:function(e,t,n){this.start=e,this.end=t,this.exclusive=n},_each:function(e){for(var t=this.start;this.include(t);)e(t),t=t.succ()},include:function(e){return e<this.start?!1:this.exclusive?e<this.end:e<=this.end}}),$R=function(e,t,n){return new ObjectRange(e,t,n)},Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},activeRequestCount:0};if(Ajax.Responders={responders:[],_each:function(e){this.responders._each(e)},register:function(e){this.include(e)||this.responders.push(e)},unregister:function(e){this.responders=this.responders.without(e)},dispatch:function(e,t,n,i){this.each(function(r){if(Object.isFunction(r[e]))try{r[e].apply(r,[t,n,i])}catch(o){}})}},Object.extend(Ajax.Responders,Enumerable),Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}}),Ajax.Base=Class.create({initialize:function(e){this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0},Object.extend(this.options,e||{}),this.options.method=this.options.method.toLowerCase(),Object.isString(this.options.parameters)?this.options.parameters=this.options.parameters.toQueryParams():Object.isHash(this.options.parameters)&&(this.options.parameters=this.options.parameters.toObject())}}),Ajax.Request=Class.create(Ajax.Base,{_complete:!1,initialize:function($super,e,t){$super(t),this.transport=Ajax.getTransport(),this.request(e)},request:function(e){this.url=e,this.method=this.options.method;var t=Object.clone(this.options.parameters);["get","post"].include(this.method)||(t._method=this.method,this.method="post"),this.parameters=t,(t=Object.toQueryString(t))&&("get"==this.method?this.url+=(this.url.include("?")?"&":"?")+t:/Konqueror|Safari|KHTML/.test(navigator.userAgent)&&(t+="&_="));try{var n=new Ajax.Response(this);this.options.onCreate&&this.options.onCreate(n),Ajax.Responders.dispatch("onCreate",this,n),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&this.respondToReadyState.bind(this).defer(1),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||t:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()
}catch(i){this.dispatchException(i)}},onStateChange:function(){var e=this.transport.readyState;e>1&&(4!=e||!this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close")),"object"==typeof this.options.requestHeaders){var t=this.options.requestHeaders;if(Object.isFunction(t.push))for(var n=0,i=t.length;i>n;n+=2)e[t[n]]=t[n+1];else $H(t).each(function(t){e[t.key]=t.value})}for(var r in e)this.transport.setRequestHeader(r,e[r])},success:function(){var e=this.getStatus();return!e||e>=200&&300>e},getStatus:function(){try{return this.transport.status||0}catch(e){return 0}},respondToReadyState:function(e){var t=Ajax.Request.Events[e],n=new Ajax.Response(this);if("Complete"==t){try{this._complete=!0,(this.options["on"+n.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(n,n.headerJSON)}catch(i){this.dispatchException(i)}var r=n.getHeader("Content-type");("force"==this.options.evalJS||this.options.evalJS&&this.isSameOrigin()&&r&&r.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))&&this.evalResponse()}try{(this.options["on"+t]||Prototype.emptyFunction)(n,n.headerJSON),Ajax.Responders.dispatch("on"+t,this,n,n.headerJSON)}catch(i){this.dispatchException(i)}"Complete"==t&&(this.transport.onreadystatechange=Prototype.emptyFunction)},isSameOrigin:function(){var e=this.url.match(/^\s*https?:\/\/[^\/]*/);return!e||e[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})},getHeader:function(e){try{return this.transport.getResponseHeader(e)||null}catch(t){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(e){(this.options.onException||Prototype.emptyFunction)(this,e),Ajax.Responders.dispatch("onException",this,e)}}),Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],Ajax.Response=Class.create({initialize:function(e){this.request=e;var t=this.transport=e.transport,n=this.readyState=t.readyState;if((n>2&&!Prototype.Browser.IE||4==n)&&(this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=String.interpret(t.responseText),this.headerJSON=this._getHeaderJSON()),4==n){var i=t.responseXML;this.responseXML=Object.isUndefined(i)?null:i,this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(e){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(e){return null}},getResponseHeader:function(e){return this.transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var e=this.getHeader("X-JSON");if(!e)return null;e=decodeURIComponent(escape(e));try{return e.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(t){this.request.dispatchException(t)}},_getResponseJSON:function(){var e=this.request.options;if(!e.evalJSON||"force"!=e.evalJSON&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(e.sanitizeJSON||!this.request.isSameOrigin())}catch(t){this.request.dispatchException(t)}}}),Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,e,t,n){this.container={success:e.success||e,failure:e.failure||(e.success?null:e)},n=Object.clone(n);var i=n.onComplete;n.onComplete=function(e,t){this.updateContent(e.responseText),Object.isFunction(i)&&i(e,t)}.bind(this),$super(t,n)},updateContent:function(e){var t=this.container[this.success()?"success":"failure"],n=this.options;if(n.evalScripts||(e=e.stripScripts()),t=$(t))if(n.insertion)if(Object.isString(n.insertion)){var i={};i[n.insertion]=e,t.insert(i)}else n.insertion(t,e);else t.update(e)}}),Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,e,t,n){$super(n),this.onComplete=this.options.onComplete,this.frequency=this.options.frequency||2,this.decay=this.options.decay||1,this.updater={},this.container=e,this.url=t,this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this),this.onTimerEvent()},stop:function(){this.updater.options.onComplete=void 0,clearTimeout(this.timer),(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(e){this.options.decay&&(this.decay=e.responseText==this.lastText?this.decay*this.options.decay:1,this.lastText=e.responseText),this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}}),Prototype.BrowserFeatures.XPath&&(document._getElementsByXPath=function(e,t){for(var n=[],i=document.evaluate(e,$(t)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r=0,o=i.snapshotLength;o>r;r++)n.push(Element.extend(i.snapshotItem(r)));return n}),!window.Node)var Node={};Node.ELEMENT_NODE||Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}),function(){var e=this.Element;this.Element=function(e,t){t=t||{},e=e.toLowerCase();var n=Element.cache;return Prototype.Browser.IE&&t.name?(e="<"+e+' name="'+t.name+'">',delete t.name,Element.writeAttribute(document.createElement(e),t)):(n[e]||(n[e]=Element.extend(document.createElement(e))),Element.writeAttribute(n[e].cloneNode(!1),t))},Object.extend(this.Element,e||{})}.call(window),Element.cache={},Element.Methods={visible:function(e){return"none"!=$(e).style.display},toggle:function(e){return e=$(e),Element[Element.visible(e)?"hide":"show"](e),e},hide:function(e){return $(e).style.display="none",e},show:function(e){return $(e).style.display="",e},remove:function(e){return e=$(e),e.parentNode.removeChild(e),e},update:function(e,t){return e=$(e),t&&t.toElement&&(t=t.toElement()),Object.isElement(t)?e.update().insert(t):(t=Object.toHTML(t),e.innerHTML=t.stripScripts(),t.evalScripts.bind(t).defer(),e)},replace:function(e,t){if(e=$(e),t&&t.toElement)t=t.toElement();else if(!Object.isElement(t)){t=Object.toHTML(t);var n=e.ownerDocument.createRange();n.selectNode(e),t.evalScripts.bind(t).defer(),t=n.createContextualFragment(t.stripScripts())}return e.parentNode.replaceChild(t,e),e},insert:function(e,t){e=$(e),(Object.isString(t)||Object.isNumber(t)||Object.isElement(t)||t&&(t.toElement||t.toHTML))&&(t={bottom:t});var n,i,r,o;for(var s in t)n=t[s],s=s.toLowerCase(),i=Element._insertionTranslations[s],n&&n.toElement&&(n=n.toElement()),Object.isElement(n)?i(e,n):(n=Object.toHTML(n),r=("before"==s||"after"==s?e.parentNode:e).tagName.toUpperCase(),o=Element._getContentFromAnonymousElement(r,n.stripScripts()),("top"==s||"after"==s)&&o.reverse(),o.each(i.curry(e)),n.evalScripts.bind(n).defer());return e},wrap:function(e,t,n){return e=$(e),Object.isElement(t)?$(t).writeAttribute(n||{}):t=Object.isString(t)?new Element(t,n):new Element("div",t),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},inspect:function(e){e=$(e);var t="<"+e.tagName.toLowerCase();return $H({id:"id",className:"class"}).each(function(n){var i=n.first(),r=n.last(),o=(e[i]||"").toString();o&&(t+=" "+r+"="+o.inspect(!0))}),t+">"},recursivelyCollect:function(e,t){e=$(e);for(var n=[];e=e[t];)1==e.nodeType&&n.push(Element.extend(e));return n},ancestors:function(e){return $(e).recursivelyCollect("parentNode")},descendants:function(e){return $(e).select("*")},firstDescendant:function(e){for(e=$(e).firstChild;e&&1!=e.nodeType;)e=e.nextSibling;return $(e)},immediateDescendants:function(e){if(!(e=$(e).firstChild))return[];for(;e&&1!=e.nodeType;)e=e.nextSibling;return e?[e].concat($(e).nextSiblings()):[]},previousSiblings:function(e){return $(e).recursivelyCollect("previousSibling")},nextSiblings:function(e){return $(e).recursivelyCollect("nextSibling")},siblings:function(e){return e=$(e),e.previousSiblings().reverse().concat(e.nextSiblings())},match:function(e,t){return Object.isString(t)&&(t=new Selector(t)),t.match($(e))},up:function(e,t,n){if(e=$(e),1==arguments.length)return $(e.parentNode);var i=e.ancestors();return Object.isNumber(t)?i[t]:Selector.findElement(i,t,n)},down:function(e,t,n){return e=$(e),1==arguments.length?e.firstDescendant():Object.isNumber(t)?e.descendants()[t]:e.select(t)[n||0]},previous:function(e,t,n){if(e=$(e),1==arguments.length)return $(Selector.handlers.previousElementSibling(e));var i=e.previousSiblings();return Object.isNumber(t)?i[t]:Selector.findElement(i,t,n)},next:function(e,t,n){if(e=$(e),1==arguments.length)return $(Selector.handlers.nextElementSibling(e));var i=e.nextSiblings();return Object.isNumber(t)?i[t]:Selector.findElement(i,t,n)},select:function(){var e=$A(arguments),t=$(e.shift());return Selector.findChildElements(t,e)},adjacent:function(){var e=$A(arguments),t=$(e.shift());return Selector.findChildElements(t.parentNode,e).without(t)},identify:function(e){e=$(e);var t=e.readAttribute("id"),n=arguments.callee;if(t)return t;do t="anonymous_element_"+n.counter++;while($(t));return e.writeAttribute("id",t),t},readAttribute:function(e,t){if(e=$(e),Prototype.Browser.IE){var n=Element._attributeTranslations.read;if(n.values[t])return n.values[t](e,t);if(n.names[t]&&(t=n.names[t]),t.include(":"))return e.attributes&&e.attributes[t]?e.attributes[t].value:null}return e.getAttribute(t)},writeAttribute:function(e,t,n){e=$(e);var i={},r=Element._attributeTranslations.write;"object"==typeof t?i=t:i[t]=Object.isUndefined(n)?!0:n;for(var o in i)t=r.names[o]||o,n=i[o],r.values[o]&&(t=r.values[o](e,n)),n===!1||null===n?e.removeAttribute(t):n===!0?e.setAttribute(t,t):e.setAttribute(t,n);return e},getHeight:function(e){return $(e).getDimensions().height},getWidth:function(e){return $(e).getDimensions().width},classNames:function(e){return new Element.ClassNames(e)},hasClassName:function(e,t){if(e=$(e)){var n=e.className;return n.length>0&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}},addClassName:function(e,t){return(e=$(e))?(e.hasClassName(t)||(e.className+=(e.className?" ":"")+t),e):void 0},removeClassName:function(e,t){return(e=$(e))?(e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").strip(),e):void 0},toggleClassName:function(e,t){return(e=$(e))?e[e.hasClassName(t)?"removeClassName":"addClassName"](t):void 0},cleanWhitespace:function(e){e=$(e);for(var t=e.firstChild;t;){var n=t.nextSibling;3!=t.nodeType||/\S/.test(t.nodeValue)||e.removeChild(t),t=n}return e},empty:function(e){return $(e).innerHTML.blank()},descendantOf:function(e,t){e=$(e),t=$(t);var n=t;if(e.compareDocumentPosition)return 8===(8&e.compareDocumentPosition(t));if(e.sourceIndex&&!Prototype.Browser.Opera){var i=e.sourceIndex,r=t.sourceIndex,o=t.nextSibling;if(!o)do t=t.parentNode;while(!(o=t.nextSibling)&&t.parentNode);if(o&&o.sourceIndex)return i>r&&i<o.sourceIndex}for(;e=e.parentNode;)if(e==n)return!0;return!1},scrollTo:function(e){e=$(e);var t=e.cumulativeOffset();return window.scrollTo(t[0],t[1]),e},getStyle:function(e,t){e=$(e),t="float"==t?"cssFloat":t.camelize();var n=e.style[t];if(!n){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"opacity"==t?n?parseFloat(n):1:"auto"==n?null:n},getOpacity:function(e){return $(e).getStyle("opacity")},setStyle:function(e,t){e=$(e);var n=e.style;if(Object.isString(t))return e.style.cssText+=";"+t,t.include("opacity")?e.setOpacity(t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var i in t)"opacity"==i?e.setOpacity(t[i]):n["float"==i||"cssFloat"==i?Object.isUndefined(n.styleFloat)?"cssFloat":"styleFloat":i]=t[i];return e},setOpacity:function(e,t){return e=$(e),e.style.opacity=1==t||""===t?"":1e-5>t?0:t,e},getDimensions:function(e){e=$(e);var t=$(e).getStyle("display");if("none"!=t&&null!=t)return{width:e.offsetWidth,height:e.offsetHeight};var n=e.style,i=n.visibility,r=n.position,o=n.display;n.visibility="hidden",n.position="absolute",n.display="block";var s=e.clientWidth,a=e.clientHeight;return n.display=o,n.position=r,n.visibility=i,{width:s,height:a}},makePositioned:function(e){e=$(e);var t=Element.getStyle(e,"position");return"static"!=t&&t||(e._madePositioned=!0,e.style.position="relative",window.opera&&(e.style.top=0,e.style.left=0)),e},undoPositioned:function(e){return e=$(e),e._madePositioned&&(e._madePositioned=void 0,e.style.position=e.style.top=e.style.left=e.style.bottom=e.style.right=""),e},makeClipping:function(e){return e=$(e),e._overflow?e:(e._overflow=Element.getStyle(e,"overflow")||"auto","hidden"!==e._overflow&&(e.style.overflow="hidden"),e)},undoClipping:function(e){return e=$(e),e._overflow?(e.style.overflow="auto"==e._overflow?"":e._overflow,e._overflow=null,e):e},cumulativeOffset:function(e){var t=0,n=0;do t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;while(e);return Element._returnOffset(n,t)},positionedOffset:function(e){var t=0,n=0;do if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent){if("BODY"==e.tagName)break;var i=Element.getStyle(e,"position");if("static"!==i)break}while(e);return Element._returnOffset(n,t)},absolutize:function(e){if(e=$(e),"absolute"!=e.getStyle("position")){var t=e.positionedOffset(),n=t[1],i=t[0],r=e.clientWidth,o=e.clientHeight;return e._originalLeft=i-parseFloat(e.style.left||0),e._originalTop=n-parseFloat(e.style.top||0),e._originalWidth=e.style.width,e._originalHeight=e.style.height,e.style.position="absolute",e.style.top=n+"px",e.style.left=i+"px",e.style.width=r+"px",e.style.height=o+"px",e}},relativize:function(e){if(e=$(e),"relative"!=e.getStyle("position")){e.style.position="relative";var t=parseFloat(e.style.top||0)-(e._originalTop||0),n=parseFloat(e.style.left||0)-(e._originalLeft||0);return e.style.top=t+"px",e.style.left=n+"px",e.style.height=e._originalHeight,e.style.width=e._originalWidth,e}},cumulativeScrollOffset:function(e){var t=0,n=0;do t+=e.scrollTop||0,n+=e.scrollLeft||0,e=e.parentNode;while(e);return Element._returnOffset(n,t)},getOffsetParent:function(e){if(e.offsetParent)return $(e.offsetParent);if(e==document.body)return $(e);for(;(e=e.parentNode)&&e!=document.body;)if("static"!=Element.getStyle(e,"position"))return $(e);return $(document.body)},viewportOffset:function(e){var t=0,n=0,i=e;do if(t+=i.offsetTop||0,n+=i.offsetLeft||0,i.offsetParent==document.body&&"absolute"==Element.getStyle(i,"position"))break;while(i=i.offsetParent);i=e;do Prototype.Browser.Opera&&"BODY"!=i.tagName||(t-=i.scrollTop||0,n-=i.scrollLeft||0);while(i=i.parentNode);return Element._returnOffset(n,t)},clonePosition:function(e,t){var n=Object.extend({setLeft:!0,setTop:!0,setWidth:!0,setHeight:!0,offsetTop:0,offsetLeft:0},arguments[2]||{});t=$(t);var i=t.viewportOffset();e=$(e);var r=[0,0],o=null;return"absolute"==Element.getStyle(e,"position")&&(o=e.getOffsetParent(),r=o.viewportOffset()),o==document.body&&(r[0]-=document.body.offsetLeft,r[1]-=document.body.offsetTop),n.setLeft&&(e.style.left=i[0]-r[0]+n.offsetLeft+"px"),n.setTop&&(e.style.top=i[1]-r[1]+n.offsetTop+"px"),n.setWidth&&(e.style.width=t.offsetWidth+"px"),n.setHeight&&(e.style.height=t.offsetHeight+"px"),e}},Element.Methods.identify.counter=1,Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants}),Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}},Prototype.Browser.Opera?(Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(e,t,n){switch(n){case"left":case"top":case"right":case"bottom":if("static"===e(t,"position"))return null;case"height":case"width":if(!Element.visible(t))return null;var i=parseInt(e(t,n),10);if(i!==t["offset"+n.capitalize()])return i+"px";var r;return r="height"===n?["border-top-width","padding-top","padding-bottom","border-bottom-width"]:["border-left-width","padding-left","padding-right","border-right-width"],r.inject(i,function(n,i){var r=e(t,i);return null===r?n:n-parseInt(r,10)})+"px";default:return e(t,n)}}),Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(e,t,n){return"title"===n?t.title:e(t,n)})):Prototype.Browser.IE?(Element.Methods.getOffsetParent=Element.Methods.getOffsetParent.wrap(function(e,t){t=$(t);var n=t.getStyle("position");if("static"!==n)return e(t);t.setStyle({position:"relative"});var i=e(t);return t.setStyle({position:n}),i}),$w("positionedOffset viewportOffset").each(function(e){Element.Methods[e]=Element.Methods[e].wrap(function(e,t){t=$(t);var n=t.getStyle("position");if("static"!==n)return e(t);var i=t.getOffsetParent();i&&"fixed"===i.getStyle("position")&&i.setStyle({zoom:1}),t.setStyle({position:"relative"});var r=e(t);return t.setStyle({position:n}),r})}),Element.Methods.getStyle=function(e,t){e=$(e),t="float"==t||"cssFloat"==t?"styleFloat":t.camelize();var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),"opacity"==t?(n=(e.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))&&n[1]?parseFloat(n[1])/100:1:"auto"==n?"width"!=t&&"height"!=t||"none"==e.getStyle("display")?null:e["offset"+t.capitalize()]+"px":n},Element.Methods.setOpacity=function(e,t){function n(e){return e.replace(/alpha\([^\)]*\)/gi,"")}e=$(e);var i=e.currentStyle;(i&&!i.hasLayout||!i&&"normal"==e.style.zoom)&&(e.style.zoom=1);var r=e.getStyle("filter"),o=e.style;return 1==t||""===t?((r=n(r))?o.filter=r:o.removeAttribute("filter"),e):(1e-5>t&&(t=0),o.filter=n(r)+"alpha(opacity="+100*t+")",e)},Element._attributeTranslations={read:{names:{"class":"className","for":"htmlFor"},values:{_getAttr:function(e,t){return e.getAttribute(t,2)},_getAttrNode:function(e,t){var n=e.getAttributeNode(t);return n?n.value:""},_getEv:function(e,t){return t=e.getAttribute(t),t?t.toString().slice(23,-2):null},_flag:function(e,t){return $(e).hasAttribute(t)?t:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){return e.title}}}},Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(e,t){e.checked=!!t},style:function(e,t){e.style.cssText=t?t:""}}},Element._attributeTranslations.has={},$w("colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc").each(function(e){Element._attributeTranslations.write.names[e.toLowerCase()]=e,Element._attributeTranslations.has[e.toLowerCase()]=e}),function(e){Object.extend(e,{href:e._getAttr,src:e._getAttr,type:e._getAttr,action:e._getAttrNode,disabled:e._flag,checked:e._flag,readonly:e._flag,multiple:e._flag,onload:e._getEv,onunload:e._getEv,onclick:e._getEv,ondblclick:e._getEv,onmousedown:e._getEv,onmouseup:e._getEv,onmouseover:e._getEv,onmousemove:e._getEv,onmouseout:e._getEv,onfocus:e._getEv,onblur:e._getEv,onkeypress:e._getEv,onkeydown:e._getEv,onkeyup:e._getEv,onsubmit:e._getEv,onreset:e._getEv,onselect:e._getEv,onchange:e._getEv})}(Element._attributeTranslations.read.values)):Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)?Element.Methods.setOpacity=function(e,t){return e=$(e),e.style.opacity=1==t?.999999:""===t?"":1e-5>t?0:t,e}:Prototype.Browser.WebKit&&(Element.Methods.setOpacity=function(e,t){if(e=$(e),e.style.opacity=1==t||""===t?"":1e-5>t?0:t,1==t)if("IMG"==e.tagName&&e.width)e.width++,e.width--;else try{var n=document.createTextNode(" ");e.appendChild(n),e.removeChild(n)}catch(i){}return e},Element.Methods.cumulativeOffset=function(e){var t=0,n=0;do{if(t+=e.offsetTop||0,n+=e.offsetLeft||0,e.offsetParent==document.body&&"absolute"==Element.getStyle(e,"position"))break;e=e.offsetParent}while(e);return Element._returnOffset(n,t)}),(Prototype.Browser.IE||Prototype.Browser.Opera)&&(Element.Methods.update=function(e,t){if(e=$(e),t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.update().insert(t);t=Object.toHTML(t);var n=e.tagName.toUpperCase();return n in Element._insertionTranslations.tags?($A(e.childNodes).each(function(t){e.removeChild(t)}),Element._getContentFromAnonymousElement(n,t.stripScripts()).each(function(t){e.appendChild(t)})):e.innerHTML=t.stripScripts(),t.evalScripts.bind(t).defer(),e}),"outerHTML"in document.createElement("div")&&(Element.Methods.replace=function(e,t){if(e=$(e),t&&t.toElement&&(t=t.toElement()),Object.isElement(t))return e.parentNode.replaceChild(t,e),e;t=Object.toHTML(t);var n=e.parentNode,i=n.tagName.toUpperCase();if(Element._insertionTranslations.tags[i]){var r=e.next(),o=Element._getContentFromAnonymousElement(i,t.stripScripts());n.removeChild(e),o.each(r?function(e){n.insertBefore(e,r)}:function(e){n.appendChild(e)})}else e.outerHTML=t.stripScripts();return t.evalScripts.bind(t).defer(),e}),Element._returnOffset=function(e,t){var n=[e,t];return n.left=e,n.top=t,n},Element._getContentFromAnonymousElement=function(e,t){var n=new Element("div"),i=Element._insertionTranslations.tags[e];return i?(n.innerHTML=i[0]+t+i[1],i[2].times(function(){n=n.firstChild})):n.innerHTML=t,$A(n.childNodes)},Element._insertionTranslations={before:function(e,t){e.parentNode.insertBefore(t,e)},top:function(e,t){e.insertBefore(t,e.firstChild)},bottom:function(e,t){e.appendChild(t)},after:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}},function(){Object.extend(this.tags,{THEAD:this.tags.TBODY,TFOOT:this.tags.TBODY,TH:this.tags.TD})}.call(Element._insertionTranslations),Element.Methods.Simulated={hasAttribute:function(e,t){t=Element._attributeTranslations.has[t]||t;var n=$(e).getAttributeNode(t);return n&&n.specified}},Element.Methods.ByTag={},Object.extend(Element,Element.Methods),!Prototype.BrowserFeatures.ElementExtensions&&document.createElement("div").__proto__&&(window.HTMLElement={},window.HTMLElement.prototype=document.createElement("div").__proto__,Prototype.BrowserFeatures.ElementExtensions=!0),Element.extend=function(){if(Prototype.BrowserFeatures.SpecificElementExtensions)return Prototype.K;var e={},t=Element.Methods.ByTag,n=Object.extend(function(n){if(!n||n._extendedByPrototype||1!=n.nodeType||n==window)return n;var i,r,o=Object.clone(e),s=n.tagName;t[s]&&Object.extend(o,t[s]);for(i in o)r=o[i],!Object.isFunction(r)||i in n||(n[i]=r.methodize());return n._extendedByPrototype=Prototype.emptyFunction,n},{refresh:function(){Prototype.BrowserFeatures.ElementExtensions||(Object.extend(e,Element.Methods),Object.extend(e,Element.Methods.Simulated))}});return n.refresh(),n}(),Element.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):Element.Methods.Simulated.hasAttribute(e,t)},Element.addMethods=function(e){function t(t){t=t.toUpperCase(),Element.Methods.ByTag[t]||(Element.Methods.ByTag[t]={}),Object.extend(Element.Methods.ByTag[t],e)}function n(e,t,n){n=n||!1;for(var i in e){var r=e[i];Object.isFunction(r)&&(n&&i in t||(t[i]=r.methodize()))}}function i(e){var t,n={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};return n[e]&&(t="HTML"+n[e]+"Element"),window[t]?window[t]:(t="HTML"+e+"Element",window[t]?window[t]:(t="HTML"+e.capitalize()+"Element",window[t]?window[t]:(window[t]={},window[t].prototype=document.createElement(e).__proto__,window[t])))}var r=Prototype.BrowserFeatures,o=Element.Methods.ByTag;if(e||(Object.extend(Form,Form.Methods),Object.extend(Form.Element,Form.Element.Methods),Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods)})),2==arguments.length){var s=e;e=arguments[1]}if(s?Object.isArray(s)?s.each(t):t(s):Object.extend(Element.Methods,e||{}),r.ElementExtensions&&(n(Element.Methods,HTMLElement.prototype),n(Element.Methods.Simulated,HTMLElement.prototype,!0)),r.SpecificElementExtensions)for(var a in Element.Methods.ByTag){var l=i(a);Object.isUndefined(l)||n(o[a],l.prototype)}Object.extend(Element,Element.Methods),delete Element.ByTag,Element.extend.refresh&&Element.extend.refresh(),Element.cache={}},document.viewport={getDimensions:function(){var e={},t=Prototype.Browser;return $w("width height").each(function(n){var i=n.capitalize();e[n]=t.WebKit&&!document.evaluate?self["inner"+i]:t.Opera?document.body["client"+i]:document.documentElement["client"+i]}),e},getWidth:function(){return this.getDimensions().width},getHeight:function(){return this.getDimensions().height},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}};var Selector=Class.create({initialize:function(e){this.expression=e.strip(),this.compileMatcher()},shouldUseXPath:function(){if(!Prototype.BrowserFeatures.XPath)return!1;var e=this.expression;return Prototype.Browser.WebKit&&(e.include("-of-type")||e.include(":empty"))?!1:/(\[[\w-]*?:|:checked)/.test(this.expression)?!1:!0},compileMatcher:function(){if(this.shouldUseXPath())return this.compileXPathMatcher();var e=this.expression,ps=Selector.patterns,h=Selector.handlers,c=Selector.criteria,le,p,m;if(Selector._cache[e])return void(this.matcher=Selector._cache[e]);for(this.matcher=["this.matcher = function(root) {","var r = root, h = Selector.handlers, c = false, n;"];e&&le!=e&&/\S/.test(e);){le=e;for(var i in ps)if(p=ps[i],m=e.match(p)){this.matcher.push(Object.isFunction(c[i])?c[i](m):new Template(c[i]).evaluate(m)),e=e.replace(m[0],"");break}}this.matcher.push("return h.unique(n);\n}"),eval(this.matcher.join("\n")),Selector._cache[this.expression]=this.matcher},compileXPathMatcher:function(){var e,t,n=this.expression,i=Selector.patterns,r=Selector.xpath;if(Selector._cache[n])return void(this.xpath=Selector._cache[n]);for(this.matcher=[".//*"];n&&e!=n&&/\S/.test(n);){e=n;for(var o in i)if(t=n.match(i[o])){this.matcher.push(Object.isFunction(r[o])?r[o](t):new Template(r[o]).evaluate(t)),n=n.replace(t[0],"");break}}this.xpath=this.matcher.join(""),Selector._cache[this.expression]=this.xpath},findElements:function(e){return e=e||document,this.xpath?document._getElementsByXPath(this.xpath,e):this.matcher(e)},match:function(e){this.tokens=[];for(var t,n,i,r=this.expression,o=Selector.patterns,s=Selector.assertions;r&&t!==r&&/\S/.test(r);){t=r;for(var a in o)if(n=o[a],i=r.match(n)){if(!s[a])return this.findElements(document).include(e);this.tokens.push([a,Object.clone(i)]),r=r.replace(i[0],"")}}for(var l,c,u,h=!0,a=0;u=this.tokens[a];a++)if(l=u[0],c=u[1],!Selector.assertions[l](e,c)){h=!1;break}return h},toString:function(){return this.expression},inspect:function(){return"#<Selector:"+this.expression.inspect()+">"}});Object.extend(Selector,{_cache:{},xpath:{descendant:"//*",child:"/*",adjacent:"/following-sibling::*[1]",laterSibling:"/following-sibling::*",tagName:function(e){return"*"==e[1]?"":"[local-name()='"+e[1].toLowerCase()+"' or local-name()='"+e[1].toUpperCase()+"']"},className:"[contains(concat(' ', @class, ' '), ' #{1} ')]",id:"[@id='#{1}']",attrPresence:function(e){return e[1]=e[1].toLowerCase(),new Template("[@#{1}]").evaluate(e)},attr:function(e){return e[1]=e[1].toLowerCase(),e[3]=e[5]||e[6],new Template(Selector.xpath.operators[e[2]]).evaluate(e)},pseudo:function(e){var t=Selector.xpath.pseudos[e[1]];return t?Object.isFunction(t)?t(e):new Template(Selector.xpath.pseudos[e[1]]).evaluate(e):""},operators:{"=":"[@#{1}='#{3}']","!=":"[@#{1}!='#{3}']","^=":"[starts-with(@#{1}, '#{3}')]","$=":"[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']","*=":"[contains(@#{1}, '#{3}')]","~=":"[contains(concat(' ', @#{1}, ' '), ' #{3} ')]","|=":"[contains(concat('-', @#{1}, '-'), '-#{3}-')]"},pseudos:{"first-child":"[not(preceding-sibling::*)]","last-child":"[not(following-sibling::*)]","only-child":"[not(preceding-sibling::* or following-sibling::*)]",empty:"[count(*) = 0 and (count(text()) = 0 or translate(text(), ' 	\r\n', '') = '')]",checked:"[@checked]",disabled:"[@disabled]",enabled:"[not(@disabled)]",not:function(e){for(var t,n,i=e[6],r=Selector.patterns,o=Selector.xpath,s=[];i&&t!=i&&/\S/.test(i);){t=i;for(var a in r)if(e=i.match(r[a])){n=Object.isFunction(o[a])?o[a](e):new Template(o[a]).evaluate(e),s.push("("+n.substring(1,n.length-1)+")"),i=i.replace(e[0],"");break}}return"[not("+s.join(" and ")+")]"},"nth-child":function(e){return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ",e)},"nth-last-child":function(e){return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ",e)},"nth-of-type":function(e){return Selector.xpath.pseudos.nth("position() ",e)},"nth-last-of-type":function(e){return Selector.xpath.pseudos.nth("(last() + 1 - position()) ",e)},"first-of-type":function(e){return e[6]="1",Selector.xpath.pseudos["nth-of-type"](e)},"last-of-type":function(e){return e[6]="1",Selector.xpath.pseudos["nth-last-of-type"](e)},"only-of-type":function(e){var t=Selector.xpath.pseudos;return t["first-of-type"](e)+t["last-of-type"](e)},nth:function(e,t){var n,i,r=t[6];if("even"==r&&(r="2n+0"),"odd"==r&&(r="2n+1"),n=r.match(/^(\d+)$/))return"["+e+"= "+n[1]+"]";if(n=r.match(/^(-?\d*)?n(([+-])(\d+))?/)){"-"==n[1]&&(n[1]=-1);var o=n[1]?Number(n[1]):1,s=n[2]?Number(n[2]):0;return i="[((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]",new Template(i).evaluate({fragment:e,a:o,b:s})}}}},criteria:{tagName:'n = h.tagName(n, r, "#{1}", c);      c = false;',className:'n = h.className(n, r, "#{1}", c);    c = false;',id:'n = h.id(n, r, "#{1}", c);           c = false;',attrPresence:'n = h.attrPresence(n, r, "#{1}", c); c = false;',attr:function(e){return e[3]=e[5]||e[6],new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}", c); c = false;').evaluate(e)},pseudo:function(e){return e[6]&&(e[6]=e[6].replace(/"/g,'\\"')),new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(e)},descendant:'c = "descendant";',child:'c = "child";',adjacent:'c = "adjacent";',laterSibling:'c = "laterSibling";'},patterns:{laterSibling:/^\s*~\s*/,child:/^\s*>\s*/,adjacent:/^\s*\+\s*/,descendant:/^\s/,tagName:/^\s*(\*|[\w\-]+)(\b|$)?/,id:/^#([\w\-\*]+)(\b|$)/,className:/^\.([\w\-\*]+)(\b|$)/,pseudo:/^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|(?=\s|[:+~>]))/,attrPresence:/^\[([\w]+)\]/,attr:/\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\4]*?)\4|([^'"][^\]]*?)))?\]/},assertions:{tagName:function(e,t){return t[1].toUpperCase()==e.tagName.toUpperCase()},className:function(e,t){return Element.hasClassName(e,t[1])},id:function(e,t){return e.id===t[1]},attrPresence:function(e,t){return Element.hasAttribute(e,t[1])},attr:function(e,t){var n=Element.readAttribute(e,t[1]);return n&&Selector.operators[t[2]](n,t[5]||t[6])}},handlers:{concat:function(e,t){for(var n,i=0;n=t[i];i++)e.push(n);return e},mark:function(e){for(var t,n=Prototype.emptyFunction,i=0;t=e[i];i++)t._countedByPrototype=n;return e},unmark:function(e){for(var t,n=0;t=e[n];n++)t._countedByPrototype=void 0;return e},index:function(e,t,n){if(e._countedByPrototype=Prototype.emptyFunction,t)for(var i=e.childNodes,r=i.length-1,o=1;r>=0;r--){var s=i[r];1!=s.nodeType||n&&!s._countedByPrototype||(s.nodeIndex=o++)}else for(var r=0,o=1,i=e.childNodes;s=i[r];r++)1!=s.nodeType||n&&!s._countedByPrototype||(s.nodeIndex=o++)},unique:function(e){if(0==e.length)return e;for(var t,n=[],i=0,r=e.length;r>i;i++)(t=e[i])._countedByPrototype||(t._countedByPrototype=Prototype.emptyFunction,n.push(Element.extend(t)));return Selector.handlers.unmark(n)},descendant:function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.concat(r,t.getElementsByTagName("*"));
return r},child:function(e){for(var t,n=(Selector.handlers,0),i=[];t=e[n];n++)for(var r,o=0;r=t.childNodes[o];o++)1==r.nodeType&&"!"!=r.tagName&&i.push(r);return i},adjacent:function(e){for(var t,n=0,i=[];t=e[n];n++){var r=this.nextElementSibling(t);r&&i.push(r)}return i},laterSibling:function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.concat(r,Element.nextSiblings(t));return r},nextElementSibling:function(e){for(;e=e.nextSibling;)if(1==e.nodeType)return e;return null},previousElementSibling:function(e){for(;e=e.previousSibling;)if(1==e.nodeType)return e;return null},tagName:function(e,t,n,i){var r=n.toUpperCase(),o=[],s=Selector.handlers;if(e){if(i){if("descendant"==i){for(var a,l=0;a=e[l];l++)s.concat(o,a.getElementsByTagName(n));return o}if(e=this[i](e),"*"==n)return e}for(var a,l=0;a=e[l];l++)a.tagName.toUpperCase()===r&&o.push(a);return o}return t.getElementsByTagName(n)},id:function(e,t,n,i){var r=$(n),o=Selector.handlers;if(!r)return[];if(!e&&t==document)return[r];if(e){if(i)if("child"==i){for(var s,a=0;s=e[a];a++)if(r.parentNode==s)return[r]}else if("descendant"==i){for(var s,a=0;s=e[a];a++)if(Element.descendantOf(r,s))return[r]}else if("adjacent"==i){for(var s,a=0;s=e[a];a++)if(Selector.handlers.previousElementSibling(r)==s)return[r]}else e=o[i](e);for(var s,a=0;s=e[a];a++)if(s==r)return[r];return[]}return r&&Element.descendantOf(r,t)?[r]:[]},className:function(e,t,n,i){return e&&i&&(e=this[i](e)),Selector.handlers.byClassName(e,t,n)},byClassName:function(e,t,n){e||(e=Selector.handlers.descendant([t]));for(var i,r,o=" "+n+" ",s=0,a=[];i=e[s];s++)r=i.className,0!=r.length&&(r==n||(" "+r+" ").include(o))&&a.push(i);return a},attrPresence:function(e,t,n,i){e||(e=t.getElementsByTagName("*")),e&&i&&(e=this[i](e));for(var r,o=[],s=0;r=e[s];s++)Element.hasAttribute(r,n)&&o.push(r);return o},attr:function(e,t,n,i,r,o){e||(e=t.getElementsByTagName("*")),e&&o&&(e=this[o](e));for(var s,a=Selector.operators[r],l=[],c=0;s=e[c];c++){var u=Element.readAttribute(s,n);null!==u&&a(u,i)&&l.push(s)}return l},pseudo:function(e,t,n,i,r){return e&&r&&(e=this[r](e)),e||(e=i.getElementsByTagName("*")),Selector.pseudos[t](e,n,i)}},pseudos:{"first-child":function(e){for(var t,n=0,i=[];t=e[n];n++)Selector.handlers.previousElementSibling(t)||i.push(t);return i},"last-child":function(e){for(var t,n=0,i=[];t=e[n];n++)Selector.handlers.nextElementSibling(t)||i.push(t);return i},"only-child":function(e){for(var t,n=Selector.handlers,i=0,r=[];t=e[i];i++)n.previousElementSibling(t)||n.nextElementSibling(t)||r.push(t);return r},"nth-child":function(e,t,n){return Selector.pseudos.nth(e,t,n)},"nth-last-child":function(e,t,n){return Selector.pseudos.nth(e,t,n,!0)},"nth-of-type":function(e,t,n){return Selector.pseudos.nth(e,t,n,!1,!0)},"nth-last-of-type":function(e,t,n){return Selector.pseudos.nth(e,t,n,!0,!0)},"first-of-type":function(e,t,n){return Selector.pseudos.nth(e,"1",n,!1,!0)},"last-of-type":function(e,t,n){return Selector.pseudos.nth(e,"1",n,!0,!0)},"only-of-type":function(e,t,n){var i=Selector.pseudos;return i["last-of-type"](i["first-of-type"](e,t,n),t,n)},getIndices:function(e,t,n){return 0==e?t>0?[t]:[]:$R(1,n).inject([],function(n,i){return 0==(i-t)%e&&(i-t)/e>=0&&n.push(i),n})},nth:function(e,t,n,i,r){if(0==e.length)return[];"even"==t&&(t="2n+0"),"odd"==t&&(t="2n+1");var o,s=Selector.handlers,a=[],l=[];s.mark(e);for(var c,u=0;c=e[u];u++)c.parentNode._countedByPrototype||(s.index(c.parentNode,i,r),l.push(c.parentNode));if(t.match(/^\d+$/)){t=Number(t);for(var c,u=0;c=e[u];u++)c.nodeIndex==t&&a.push(c)}else if(o=t.match(/^(-?\d*)?n(([+-])(\d+))?/)){"-"==o[1]&&(o[1]=-1);for(var c,h=o[1]?Number(o[1]):1,d=o[2]?Number(o[2]):0,p=Selector.pseudos.getIndices(h,d,e.length),u=0,f=p.length;c=e[u];u++)for(var m=0;f>m;m++)c.nodeIndex==p[m]&&a.push(c)}return s.unmark(e),s.unmark(l),a},empty:function(e){for(var t,n=0,i=[];t=e[n];n++)"!"==t.tagName||t.firstChild&&!t.innerHTML.match(/^\s*$/)||i.push(t);return i},not:function(e,t,n){var i=Selector.handlers,r=new Selector(t).findElements(n);i.mark(r);for(var o,s=0,a=[];o=e[s];s++)o._countedByPrototype||a.push(o);return i.unmark(r),a},enabled:function(e){for(var t,n=0,i=[];t=e[n];n++)t.disabled||i.push(t);return i},disabled:function(e){for(var t,n=0,i=[];t=e[n];n++)t.disabled&&i.push(t);return i},checked:function(e){for(var t,n=0,i=[];t=e[n];n++)t.checked&&i.push(t);return i}},operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e.startsWith(t)},"$=":function(e,t){return e.endsWith(t)},"*=":function(e,t){return e.include(t)},"~=":function(e,t){return(" "+e+" ").include(" "+t+" ")},"|=":function(e,t){return("-"+e.toUpperCase()+"-").include("-"+t.toUpperCase()+"-")}},split:function(e){var t=[];return e.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/,function(e){t.push(e[1].strip())}),t},matchElements:function(e,t){var n=$$(t),i=Selector.handlers;i.mark(n);for(var r,o=0,s=[];r=e[o];o++)r._countedByPrototype&&s.push(r);return i.unmark(n),s},findElement:function(e,t,n){return Object.isNumber(t)&&(n=t,t=!1),Selector.matchElements(e,t||"*")[n||0]},findChildElements:function(e,t){t=Selector.split(t.join(","));for(var n,i=[],r=Selector.handlers,o=0,s=t.length;s>o;o++)n=new Selector(t[o].strip()),r.concat(i,n.findElements(e));return s>1?r.unique(i):i}}),Prototype.Browser.IE&&Object.extend(Selector.handlers,{concat:function(e,t){for(var n,i=0;n=t[i];i++)"!"!==n.tagName&&e.push(n);return e},unmark:function(e){for(var t,n=0;t=e[n];n++)t.removeAttribute("_countedByPrototype");return e}});var Form={reset:function(e){return $(e).reset(),e},serializeElements:function(e,t){"object"!=typeof t?t={hash:!!t}:Object.isUndefined(t.hash)&&(t.hash=!0);var n,i,r=!1,o=t.submit,s=e.inject({},function(e,t){return!t.disabled&&t.name&&(n=t.name,i=$(t).getValue(),null==i||"submit"==t.type&&(r||o===!1||o&&n!=o||!(r=!0))||(n in e?(Object.isArray(e[n])||(e[n]=[e[n]]),e[n].push(i)):e[n]=i)),e});return t.hash?s:Object.toQueryString(s)}};Form.Methods={serialize:function(e,t){return Form.serializeElements(Form.getElements(e),t)},getElements:function(e){return $A($(e).getElementsByTagName("*")).inject([],function(e,t){return Form.Element.Serializers[t.tagName.toLowerCase()]&&e.push(Element.extend(t)),e})},getInputs:function(e,t,n){e=$(e);var i=e.getElementsByTagName("input");if(!t&&!n)return $A(i).map(Element.extend);for(var r=0,o=[],s=i.length;s>r;r++){var a=i[r];t&&a.type!=t||n&&a.name!=n||o.push(Element.extend(a))}return o},disable:function(e){return e=$(e),Form.getElements(e).invoke("disable"),e},enable:function(e){return e=$(e),Form.getElements(e).invoke("enable"),e},findFirstElement:function(e){var t=$(e).getElements().findAll(function(e){return"hidden"!=e.type&&!e.disabled}),n=t.findAll(function(e){return e.hasAttribute("tabIndex")&&e.tabIndex>=0}).sortBy(function(e){return e.tabIndex}).first();return n?n:t.find(function(e){return["input","select","textarea"].include(e.tagName.toLowerCase())})},focusFirstElement:function(e){return e=$(e),e.findFirstElement().activate(),e},request:function(e,t){e=$(e),t=Object.clone(t||{});var n=t.parameters,i=e.readAttribute("action")||"";return i.blank()&&(i=window.location.href),t.parameters=e.serialize(!0),n&&(Object.isString(n)&&(n=n.toQueryParams()),Object.extend(t.parameters,n)),e.hasAttribute("method")&&!t.method&&(t.method=e.method),new Ajax.Request(i,t)}},Form.Element={focus:function(e){return $(e).focus(),e},select:function(e){return $(e).select(),e}},Form.Element.Methods={serialize:function(e){if(e=$(e),!e.disabled&&e.name){var t=e.getValue();if(void 0!=t){var n={};return n[e.name]=t,Object.toQueryString(n)}}return""},getValue:function(e){e=$(e);var t=e.tagName.toLowerCase();return Form.Element.Serializers[t](e)},setValue:function(e,t){e=$(e);var n=e.tagName.toLowerCase();return Form.Element.Serializers[n](e,t),e},clear:function(e){return $(e).value="",e},present:function(e){return""!=$(e).value},activate:function(e){e=$(e);try{e.focus(),!e.select||"input"==e.tagName.toLowerCase()&&["button","reset","submit"].include(e.type)||e.select()}catch(t){}return e},disable:function(e){return e=$(e),e.blur(),e.disabled=!0,e},enable:function(e){return e=$(e),e.disabled=!1,e}};var Field=Form.Element,$F=Form.Element.Methods.getValue;if(Form.Element.Serializers={input:function(e,t){switch(e.type.toLowerCase()){case"checkbox":case"radio":return Form.Element.Serializers.inputSelector(e,t);default:return Form.Element.Serializers.textarea(e,t)}},inputSelector:function(e,t){return Object.isUndefined(t)?e.checked?e.value:null:void(e.checked=!!t)},textarea:function(e,t){return Object.isUndefined(t)?e.value:void(e.value=t)},select:function(e,t){if(Object.isUndefined(t))return this["select-one"==e.type?"selectOne":"selectMany"](e);for(var n,i,r=!Object.isArray(t),o=0,s=e.length;s>o;o++)if(n=e.options[o],i=this.optionValue(n),r){if(i==t)return void(n.selected=!0)}else n.selected=t.include(i)},selectOne:function(e){var t=e.selectedIndex;return t>=0?this.optionValue(e.options[t]):null},selectMany:function(e){var t,n=e.length;if(!n)return null;for(var i=0,t=[];n>i;i++){var r=e.options[i];r.selected&&t.push(this.optionValue(r))}return t},optionValue:function(e){return Element.extend(e).hasAttribute("value")?e.value:e.text}},Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,e,t,n){$super(n,t),this.element=$(e),this.lastValue=this.getValue()},execute:function(){var e=this.getValue();(Object.isString(this.lastValue)&&Object.isString(e)?this.lastValue!=e:String(this.lastValue)!=String(e))&&(this.callback(this.element,e),this.lastValue=e)}}),Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}}),Abstract.EventObserver=Class.create({initialize:function(e,t){this.element=$(e),this.callback=t,this.lastValue=this.getValue(),"form"==this.element.tagName.toLowerCase()?this.registerFormCallbacks():this.registerCallback(this.element)},onElementEvent:function(){var e=this.getValue();this.lastValue!=e&&(this.callback(this.element,e),this.lastValue=e)},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(e){if(e.type)switch(e.type.toLowerCase()){case"checkbox":case"radio":Event.observe(e,"click",this.onElementEvent.bind(this));break;default:Event.observe(e,"change",this.onElementEvent.bind(this))}}}),Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}}),Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}}),!window.Event)var Event={};Object.extend(Event,{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{},relatedTarget:function(e){var t;switch(e.type){case"mouseover":t=e.fromElement;break;case"mouseout":t=e.toElement;break;default:return null}return Element.extend(t)}}),Event.Methods=function(){var e;if(Prototype.Browser.IE){var t={0:1,1:4,2:2};e=function(e,n){return e.button==t[n]}}else e=Prototype.Browser.WebKit?function(e,t){switch(t){case 0:return 1==e.which&&!e.metaKey;case 1:return 1==e.which&&e.metaKey;default:return!1}}:function(e,t){return e.which?e.which===t+1:e.button===t};return{isLeftClick:function(t){return e(t,0)},isMiddleClick:function(t){return e(t,1)},isRightClick:function(t){return e(t,2)},element:function(e){var t=Event.extend(e).target;return Element.extend(t.nodeType==Node.TEXT_NODE?t.parentNode:t)},findElement:function(e,t){var n=Event.element(e);if(!t)return n;var i=[n].concat(n.ancestors());return Selector.findElement(i,t,0)},pointer:function(e){return{x:e.pageX||e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft),y:e.pageY||e.clientY+(document.documentElement.scrollTop||document.body.scrollTop)}},pointerX:function(e){return Event.pointer(e).x},pointerY:function(e){return Event.pointer(e).y},stop:function(e){Event.extend(e),e.preventDefault(),e.stopPropagation(),e.stopped=!0}}}(),Event.extend=function(){var e=Object.keys(Event.Methods).inject({},function(e,t){return e[t]=Event.Methods[t].methodize(),e});return Prototype.Browser.IE?(Object.extend(e,{stopPropagation:function(){this.cancelBubble=!0},preventDefault:function(){this.returnValue=!1},inspect:function(){return"[object Event]"}}),function(t){if(!t)return!1;if(t._extendedByPrototype)return t;t._extendedByPrototype=Prototype.emptyFunction;var n=Event.pointer(t);return Object.extend(t,{target:t.srcElement,relatedTarget:Event.relatedTarget(t),pageX:n.x,pageY:n.y}),Object.extend(t,e)}):(Event.prototype=Event.prototype||document.createEvent("HTMLEvents").__proto__,Object.extend(Event.prototype,e),Prototype.K)}(),Object.extend(Event,function(){function e(e){return e._prototypeEventID?e._prototypeEventID[0]:(arguments.callee.id=arguments.callee.id||1,e._prototypeEventID=[++arguments.callee.id])}function t(e){return e&&e.include(":")?"dataavailable":e}function n(e){return l[e]=l[e]||{}}function i(e,t){var i=n(e);return i[t]=i[t]||[]}function r(t,n,r){var o=e(t),s=i(o,n);if(s.pluck("handler").include(r))return!1;var a=function(e){return!Event||!Event.extend||e.eventName&&e.eventName!=n?!1:(Event.extend(e),void r.call(t,e))};return a.handler=r,s.push(a),a}function o(e,t,n){var r=i(e,t);return r.find(function(e){return e.handler==n})}function s(e,t,i){var r=n(e);return r[t]?void(r[t]=r[t].without(o(e,t,i))):!1}function a(){for(var e in l)for(var t in l[e])l[e][t]=null}var l=Event.cache;return window.attachEvent&&window.attachEvent("onunload",a),{observe:function(e,n,i){e=$(e);var o=t(n),s=r(e,n,i);return s?(e.addEventListener?e.addEventListener(o,s,!1):e.attachEvent("on"+o,s),e):e},stopObserving:function(r,a,l){r=$(r);var c=e(r),u=t(a);if(!l&&a)return i(c,a).each(function(e){r.stopObserving(a,e.handler)}),r;if(!a)return Object.keys(n(c)).each(function(e){r.stopObserving(e)}),r;var h=o(c,a,l);return h?(r.removeEventListener?r.removeEventListener(u,h,!1):r.detachEvent("on"+u,h),s(c,a,l),r):r},fire:function(e,t,n){e=$(e),e==document&&document.createEvent&&!e.dispatchEvent&&(e=document.documentElement);var i;return document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent("dataavailable",!0,!0)):(i=document.createEventObject(),i.eventType="ondataavailable"),i.eventName=t,i.memo=n||{},document.createEvent?e.dispatchEvent(i):e.fireEvent(i.eventType,i),Event.extend(i)}}}()),Object.extend(Event,Event.Methods),Element.addMethods({fire:Event.fire,observe:Event.observe,stopObserving:Event.stopObserving}),Object.extend(document,{fire:Element.Methods.fire.methodize(),observe:Element.Methods.observe.methodize(),stopObserving:Element.Methods.stopObserving.methodize(),loaded:!1}),function(){function e(){document.loaded||(t&&window.clearInterval(t),document.fire("dom:loaded"),document.loaded=!0)}var t;document.addEventListener?Prototype.Browser.WebKit?(t=window.setInterval(function(){/loaded|complete/.test(document.readyState)&&e()},0),Event.observe(window,"load",e)):document.addEventListener("DOMContentLoaded",e,!1):(document.write("<script id=__onDOMContentLoaded defer src=//:></script>"),$("__onDOMContentLoaded").onreadystatechange=function(){"complete"==this.readyState&&(this.onreadystatechange=null,e())})}(),Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(e,t){return Element.insert(e,{before:t})},Top:function(e,t){return Element.insert(e,{top:t})},Bottom:function(e,t){return Element.insert(e,{bottom:t})},After:function(e,t){return Element.insert(e,{after:t})}},$continue=new Error('"throw $continue" is deprecated, use "return" instead'),Position={includeScrollOffsets:!1,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(e,t,n){return this.includeScrollOffsets?this.withinIncludingScrolloffsets(e,t,n):(this.xcomp=t,this.ycomp=n,this.offset=Element.cumulativeOffset(e),n>=this.offset[1]&&n<this.offset[1]+e.offsetHeight&&t>=this.offset[0]&&t<this.offset[0]+e.offsetWidth)},withinIncludingScrolloffsets:function(e,t,n){var i=Element.cumulativeScrollOffset(e);return this.xcomp=t+i[0]-this.deltaX,this.ycomp=n+i[1]-this.deltaY,this.offset=Element.cumulativeOffset(e),this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+e.offsetWidth},overlap:function(e,t){return e?"vertical"==e?(this.offset[1]+t.offsetHeight-this.ycomp)/t.offsetHeight:"horizontal"==e?(this.offset[0]+t.offsetWidth-this.xcomp)/t.offsetWidth:void 0:0},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(e){return Position.prepare(),Element.absolutize(e)},relativize:function(e){return Position.prepare(),Element.relativize(e)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(e,t,n){return n=n||{},Element.clonePosition(t,e,n)}};document.getElementsByClassName||(document.getElementsByClassName=function(e){function t(e){return e.blank()?null:"[contains(concat(' ', @class, ' '), ' "+e+" ')]"}return e.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(e,n){n=n.toString().strip();var i=/\s/.test(n)?$w(n).map(t).join(""):t(n);return i?document._getElementsByXPath(".//*"+i,e):[]}:function(e,t){t=t.toString().strip();var n=[],i=/\s/.test(t)?$w(t):null;if(!i&&!t)return n;var r=$(e).getElementsByTagName("*");t=" "+t+" ";for(var o,s,a=0;o=r[a];a++)o.className&&(s=" "+o.className+" ")&&(s.include(t)||i&&i.all(function(e){return!e.toString().blank()&&s.include(" "+e+" ")}))&&n.push(Element.extend(o));return n},function(e,t){return $(t||document.body).getElementsByClassName(e)}}(Element.Methods)),Element.ClassNames=Class.create(),Element.ClassNames.prototype={initialize:function(e){this.element=$(e)},_each:function(e){this.element.className.split(/\s+/).select(function(e){return e.length>0})._each(e)},set:function(e){this.element.className=e},add:function(e){this.include(e)||this.set($A(this).concat(e).join(" "))},remove:function(e){this.include(e)&&this.set($A(this).without(e).join(" "))},toString:function(){return $A(this).join(" ")}},Object.extend(Element.ClassNames.prototype,Enumerable),Element.addMethods();var Scriptaculous={Version:"1.8.0",REQUIRED_PROTOTYPE:"1.6.0"},Builder={NODEMAP:{AREA:"map",CAPTION:"table",COL:"table",COLGROUP:"table",LEGEND:"fieldset",OPTGROUP:"select",OPTION:"select",PARAM:"object",TBODY:"table",TD:"table",TFOOT:"table",TH:"table",THEAD:"table",TR:"table"},node:function(e){e=e.toUpperCase();var t=this.NODEMAP[e]||"div",n=document.createElement(t);try{n.innerHTML="<"+e+"></"+e+">"}catch(i){}var r=n.firstChild||null;if(r&&r.tagName.toUpperCase()!=e&&(r=r.getElementsByTagName(e)[0]),r||(r=document.createElement(e)),r){if(arguments[1])if(this._isStringOrNumber(arguments[1])||arguments[1]instanceof Array||arguments[1].tagName)this._children(r,arguments[1]);else{var o=this._attributes(arguments[1]);if(o.length){try{n.innerHTML="<"+e+" "+o+"></"+e+">"}catch(i){}if(r=n.firstChild||null,!r){r=document.createElement(e);for(attr in arguments[1])r["class"==attr?"className":attr]=arguments[1][attr]}r.tagName.toUpperCase()!=e&&(r=n.getElementsByTagName(e)[0])}}return arguments[2]&&this._children(r,arguments[2]),r}},_text:function(e){return document.createTextNode(e)},ATTR_MAP:{className:"class",htmlFor:"for"},_attributes:function(e){var t=[];for(attribute in e)t.push((attribute in this.ATTR_MAP?this.ATTR_MAP[attribute]:attribute)+'="'+e[attribute].toString().escapeHTML().gsub(/"/,"&quot;")+'"');return t.join(" ")},_children:function(e,t){return t.tagName?void e.appendChild(t):void("object"==typeof t?t.flatten().each(function(t){"object"==typeof t?e.appendChild(t):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t))}):Builder._isStringOrNumber(t)&&e.appendChild(Builder._text(t)))},_isStringOrNumber:function(e){return"string"==typeof e||"number"==typeof e},build:function(e){var t=this.node("div");return $(t).update(e.strip()),t.down()},dump:function(e){"object"!=typeof e&&"function"!=typeof e&&(e=window);var t="A ABBR ACRONYM ADDRESS APPLET AREA B BASE BASEFONT BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CENTER CITE CODE COL COLGROUP DD DEL DFN DIR DIV DL DT EM FIELDSET FONT FORM FRAME FRAMESET H1 H2 H3 H4 H5 H6 HEAD HR HTML I IFRAME IMG INPUT INS ISINDEX KBD LABEL LEGEND LI LINK MAP MENU META NOFRAMES NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q S SAMP SCRIPT SELECT SMALL SPAN STRIKE STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT U UL VAR".split(/\s+/);t.each(function(t){e[t]=function(){return Builder.node.apply(Builder,[t].concat($A(arguments)))}})}};String.prototype.parseColor=function(){var e="#";if("rgb("==this.slice(0,4)){var t=this.slice(4,this.length-1).split(","),n=0;do e+=parseInt(t[n]).toColorPart();while(++n<3)}else if("#"==this.slice(0,1)){if(4==this.length)for(var n=1;4>n;n++)e+=(this.charAt(n)+this.charAt(n)).toLowerCase();7==this.length&&(e=this.toLowerCase())}return 7==e.length?e:arguments[0]||this},Element.collectTextNodes=function(e){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()?Element.collectTextNodes(e):""}).flatten().join("")},Element.collectTextNodesIgnoreClass=function(e,t){return $A($(e).childNodes).collect(function(e){return 3==e.nodeType?e.nodeValue:e.hasChildNodes()&&!Element.hasClassName(e,t)?Element.collectTextNodesIgnoreClass(e,t):""}).flatten().join("")},Element.setContentZoom=function(e,t){return e=$(e),e.setStyle({fontSize:t/100+"em"}),Prototype.Browser.WebKit&&window.scrollBy(0,0),e},Element.getInlineOpacity=function(e){return $(e).style.opacity||""},Element.forceRerendering=function(e){try{e=$(e);var t=document.createTextNode(" ");e.appendChild(t),e.removeChild(t)}catch(n){}};var Effect={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:Prototype.K,sinoidal:function(e){return-Math.cos(e*Math.PI)/2+.5},reverse:function(e){return 1-e},flicker:function(e){var e=-Math.cos(e*Math.PI)/4+.75+Math.random()/4;return e>1?1:e},wobble:function(e){return-Math.cos(e*Math.PI*9*e)/2+.5},pulse:function(e,t){return t=t||5,0==(e%(1/t)*t).round()?e*t*2-(e*t*2).floor():1-(e*t*2-(e*t*2).floor())},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)},none:function(){return 0},full:function(){return 1}},DefaultOptions:{duration:1,fps:100,sync:!1,from:0,to:1,delay:0,queue:"parallel"},tagifyText:function(e){var t="position:relative";Prototype.Browser.IE&&(t+=";zoom:1"),e=$(e),$A(e.childNodes).each(function(n){3==n.nodeType&&(n.nodeValue.toArray().each(function(i){e.insertBefore(new Element("span",{style:t}).update(" "==i?String.fromCharCode(160):i),n)}),Element.remove(n))})},multiple:function(e,t){var n;n=("object"==typeof e||Object.isFunction(e))&&e.length?e:$(e).childNodes;var i=Object.extend({speed:.1,delay:0},arguments[2]||{}),r=i.delay;$A(n).each(function(e,n){new t(e,Object.extend(i,{delay:n*i.speed+r}))})},PAIRS:{slide:["SlideDown","SlideUp"],blind:["BlindDown","BlindUp"],appear:["Appear","Fade"]},toggle:function(e,t){e=$(e),t=(t||"appear").toLowerCase();var n=Object.extend({queue:{position:"end",scope:e.id||"global",limit:1}},arguments[2]||{});Effect[e.visible()?Effect.PAIRS[t][1]:Effect.PAIRS[t][0]](e,n)}};if(Effect.DefaultOptions.transition=Effect.Transitions.sinoidal,Effect.ScopedQueue=Class.create(Enumerable,{initialize:function(){this.effects=[],this.interval=null},_each:function(e){this.effects._each(e)},add:function(e){var t=(new Date).getTime(),n=Object.isString(e.options.queue)?e.options.queue:e.options.queue.position;switch(n){case"front":this.effects.findAll(function(e){return"idle"==e.state}).each(function(t){t.startOn+=e.finishOn,t.finishOn+=e.finishOn});break;case"with-last":t=this.effects.pluck("startOn").max()||t;break;case"end":t=this.effects.pluck("finishOn").max()||t}e.startOn+=t,e.finishOn+=t,(!e.options.queue.limit||this.effects.length<e.options.queue.limit)&&this.effects.push(e),this.interval||(this.interval=setInterval(this.loop.bind(this),15))},remove:function(e){this.effects=this.effects.reject(function(t){return t==e}),0==this.effects.length&&(clearInterval(this.interval),this.interval=null)},loop:function(){for(var e=(new Date).getTime(),t=0,n=this.effects.length;n>t;t++)this.effects[t]&&this.effects[t].loop(e)}}),Effect.Queues={instances:$H(),get:function(e){return Object.isString(e)?this.instances.get(e)||this.instances.set(e,new Effect.ScopedQueue):e}},Effect.Queue=Effect.Queues.get("global"),Effect.Base=Class.create({position:null,start:function(options){function codeForEvent(e,t){return(e[t+"Internal"]?"this.options."+t+"Internal(this);":"")+(e[t]?"this.options."+t+"(this);":"")}options&&options.transition===!1&&(options.transition=Effect.Transitions.linear),this.options=Object.extend(Object.extend({},Effect.DefaultOptions),options||{}),this.currentFrame=0,this.state="idle",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration,this.fromToDelta=this.options.to-this.options.from,this.totalTime=this.finishOn-this.startOn,this.totalFrames=this.options.fps*this.options.duration,eval('this.render = function(pos){ if (this.state=="idle"){this.state="running";'+codeForEvent(this.options,"beforeSetup")+(this.setup?"this.setup();":"")+codeForEvent(this.options,"afterSetup")+'};if (this.state=="running"){pos=this.options.transition(pos)*'+this.fromToDelta+"+"+this.options.from+";this.position=pos;"+codeForEvent(this.options,"beforeUpdate")+(this.update?"this.update(pos);":"")+codeForEvent(this.options,"afterUpdate")+"}}"),this.event("beforeStart"),this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).add(this)},loop:function(e){if(e>=this.startOn){if(e>=this.finishOn)return this.render(1),this.cancel(),this.event("beforeFinish"),this.finish&&this.finish(),void this.event("afterFinish");var t=(e-this.startOn)/this.totalTime,n=(t*this.totalFrames).round();n>this.currentFrame&&(this.render(t),this.currentFrame=n)}},cancel:function(){this.options.sync||Effect.Queues.get(Object.isString(this.options.queue)?"global":this.options.queue.scope).remove(this),this.state="finished"},event:function(e){this.options[e+"Internal"]&&this.options[e+"Internal"](this),this.options[e]&&this.options[e](this)},inspect:function(){var e=$H();for(property in this)Object.isFunction(this[property])||e.set(property,this[property]);return"#<Effect:"+e.inspect()+",options:"+$H(this.options).inspect()+">"}}),Effect.Parallel=Class.create(Effect.Base,{initialize:function(e){this.effects=e||[],this.start(arguments[1])},update:function(e){this.effects.invoke("render",e)},finish:function(e){this.effects.each(function(t){t.render(1),t.cancel(),t.event("beforeFinish"),t.finish&&t.finish(e),t.event("afterFinish")})}}),Effect.Tween=Class.create(Effect.Base,{initialize:function(e,t,n){e=Object.isString(e)?$(e):e;var i=$A(arguments),r=i.last(),o=5==i.length?i[3]:null;this.method=Object.isFunction(r)?r.bind(e):Object.isFunction(e[r])?e[r].bind(e):function(t){e[r]=t},this.start(Object.extend({from:t,to:n},o||{}))},update:function(e){this.method(e)}}),Effect.Event=Class.create(Effect.Base,{initialize:function(){this.start(Object.extend({duration:0},arguments[0]||{}))},update:Prototype.emptyFunction}),Effect.Opacity=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});var t=Object.extend({from:this.element.getOpacity()||0,to:1},arguments[1]||{});this.start(t)},update:function(e){this.element.setOpacity(e)}}),Effect.Move=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(t)},setup:function(){this.element.makePositioned(),this.originalLeft=parseFloat(this.element.getStyle("left")||"0"),this.originalTop=parseFloat(this.element.getStyle("top")||"0"),"absolute"==this.options.mode&&(this.options.x=this.options.x-this.originalLeft,this.options.y=this.options.y-this.originalTop)},update:function(e){this.element.setStyle({left:(this.options.x*e+this.originalLeft).round()+"px",top:(this.options.y*e+this.originalTop).round()+"px"})}}),Effect.MoveBy=function(e,t,n){return new Effect.Move(e,Object.extend({x:n,y:t},arguments[3]||{}))},Effect.Scale=Class.create(Effect.Base,{initialize:function(e,t){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var n=Object.extend({scaleX:!0,scaleY:!0,scaleContent:!0,scaleFromCenter:!1,scaleMode:"box",scaleFrom:100,scaleTo:t},arguments[2]||{});this.start(n)},setup:function(){this.restoreAfterFinish=this.options.restoreAfterFinish||!1,this.elementPositioning=this.element.getStyle("position"),this.originalStyle={},["top","left","width","height","fontSize"].each(function(e){this.originalStyle[e]=this.element.style[e]}.bind(this)),this.originalTop=this.element.offsetTop,this.originalLeft=this.element.offsetLeft;var e=this.element.getStyle("font-size")||"100%";["em","px","%","pt"].each(function(t){e.indexOf(t)>0&&(this.fontSize=parseFloat(e),this.fontSizeType=t)}.bind(this)),this.factor=(this.options.scaleTo-this.options.scaleFrom)/100,this.dims=null,"box"==this.options.scaleMode&&(this.dims=[this.element.offsetHeight,this.element.offsetWidth]),/^content/.test(this.options.scaleMode)&&(this.dims=[this.element.scrollHeight,this.element.scrollWidth]),this.dims||(this.dims=[this.options.scaleMode.originalHeight,this.options.scaleMode.originalWidth])},update:function(e){var t=this.options.scaleFrom/100+this.factor*e;this.options.scaleContent&&this.fontSize&&this.element.setStyle({fontSize:this.fontSize*t+this.fontSizeType}),this.setDimensions(this.dims[0]*t,this.dims[1]*t)},finish:function(){this.restoreAfterFinish&&this.element.setStyle(this.originalStyle)},setDimensions:function(e,t){var n={};if(this.options.scaleX&&(n.width=t.round()+"px"),this.options.scaleY&&(n.height=e.round()+"px"),this.options.scaleFromCenter){var i=(e-this.dims[0])/2,r=(t-this.dims[1])/2;"absolute"==this.elementPositioning?(this.options.scaleY&&(n.top=this.originalTop-i+"px"),this.options.scaleX&&(n.left=this.originalLeft-r+"px")):(this.options.scaleY&&(n.top=-i+"px"),this.options.scaleX&&(n.left=-r+"px"))}this.element.setStyle(n)}}),Effect.Highlight=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({startcolor:"#ffff99"},arguments[1]||{});this.start(t)},setup:function(){return"none"==this.element.getStyle("display")?void this.cancel():(this.oldStyle={},this.options.keepBackgroundImage||(this.oldStyle.backgroundImage=this.element.getStyle("background-image"),this.element.setStyle({backgroundImage:"none"})),this.options.endcolor||(this.options.endcolor=this.element.getStyle("background-color").parseColor("#ffffff")),this.options.restorecolor||(this.options.restorecolor=this.element.getStyle("background-color")),this._base=$R(0,2).map(function(e){return parseInt(this.options.startcolor.slice(2*e+1,2*e+3),16)}.bind(this)),void(this._delta=$R(0,2).map(function(e){return parseInt(this.options.endcolor.slice(2*e+1,2*e+3),16)-this._base[e]}.bind(this))))},update:function(e){this.element.setStyle({backgroundColor:$R(0,2).inject("#",function(t,n,i){return t+(this._base[i]+this._delta[i]*e).round().toColorPart()}.bind(this))})},finish:function(){this.element.setStyle(Object.extend(this.oldStyle,{backgroundColor:this.options.restorecolor}))}}),Effect.ScrollTo=function(e){var t=arguments[1]||{},n=document.viewport.getScrollOffsets(),i=$(e).cumulativeOffset(),r=(window.height||document.body.scrollHeight)-document.viewport.getHeight();return t.offset&&(i[1]+=t.offset),new Effect.Tween(null,n.top,i[1]>r?r:i[1],t,function(e){scrollTo(n.left,e.round())})},Effect.Fade=function(e){e=$(e);var t=e.getInlineOpacity(),n=Object.extend({from:e.getOpacity()||1,to:0,afterFinishInternal:function(e){0==e.options.to&&e.element.hide().setStyle({opacity:t})}},arguments[1]||{});return new Effect.Opacity(e,n)
},Effect.Appear=function(e){e=$(e);var t=Object.extend({from:"none"==e.getStyle("display")?0:e.getOpacity()||0,to:1,afterFinishInternal:function(e){e.element.forceRerendering()},beforeSetup:function(e){e.element.setOpacity(e.options.from).show()}},arguments[1]||{});return new Effect.Opacity(e,t)},Effect.Puff=function(e){e=$(e);var t={opacity:e.getInlineOpacity(),position:e.getStyle("position"),top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return new Effect.Parallel([new Effect.Scale(e,200,{sync:!0,scaleFromCenter:!0,scaleContent:!0,restoreAfterFinish:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:1,beforeSetupInternal:function(e){Position.absolutize(e.effects[0].element)},afterFinishInternal:function(e){e.effects[0].element.hide().setStyle(t)}},arguments[1]||{}))},Effect.BlindUp=function(e){return e=$(e),e.makeClipping(),new Effect.Scale(e,0,Object.extend({scaleContent:!1,scaleX:!1,restoreAfterFinish:!0,afterFinishInternal:function(e){e.element.hide().undoClipping()}},arguments[1]||{}))},Effect.BlindDown=function(e){e=$(e);var t=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:0,scaleMode:{originalHeight:t.height,originalWidth:t.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makeClipping().setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.element.undoClipping()}},arguments[1]||{}))},Effect.SwitchOff=function(e){e=$(e);var t=e.getInlineOpacity();return new Effect.Appear(e,Object.extend({duration:.4,from:0,transition:Effect.Transitions.flicker,afterFinishInternal:function(e){new Effect.Scale(e.element,1,{duration:.3,scaleFromCenter:!0,scaleX:!1,scaleContent:!1,restoreAfterFinish:!0,beforeSetup:function(e){e.element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned().setStyle({opacity:t})}})}},arguments[1]||{}))},Effect.DropOut=function(e){e=$(e);var t={top:e.getStyle("top"),left:e.getStyle("left"),opacity:e.getInlineOpacity()};return new Effect.Parallel([new Effect.Move(e,{x:0,y:100,sync:!0}),new Effect.Opacity(e,{sync:!0,to:0})],Object.extend({duration:.5,beforeSetup:function(e){e.effects[0].element.makePositioned()},afterFinishInternal:function(e){e.effects[0].element.hide().undoPositioned().setStyle(t)}},arguments[1]||{}))},Effect.Shake=function(e){e=$(e);var t=Object.extend({distance:20,duration:.5},arguments[1]||{}),n=parseFloat(t.distance),i=parseFloat(t.duration)/10,r={top:e.getStyle("top"),left:e.getStyle("left")};return new Effect.Move(e,{x:n,y:0,duration:i,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-n,y:0,duration:2*i,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*n,y:0,duration:2*i,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*-n,y:0,duration:2*i,afterFinishInternal:function(e){new Effect.Move(e.element,{x:2*n,y:0,duration:2*i,afterFinishInternal:function(e){new Effect.Move(e.element,{x:-n,y:0,duration:i,afterFinishInternal:function(e){e.element.undoPositioned().setStyle(r)}})}})}})}})}})}})},Effect.SlideDown=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),n=e.getDimensions();return new Effect.Scale(e,100,Object.extend({scaleContent:!1,scaleX:!1,scaleFrom:window.opera?0:1,scaleMode:{originalHeight:n.height,originalWidth:n.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().setStyle({height:"0px"}).show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.SlideUp=function(e){e=$(e).cleanWhitespace();var t=e.down().getStyle("bottom"),n=e.getDimensions();return new Effect.Scale(e,window.opera?0:1,Object.extend({scaleContent:!1,scaleX:!1,scaleMode:"box",scaleFrom:100,scaleMode:{originalHeight:n.height,originalWidth:n.width},restoreAfterFinish:!0,afterSetup:function(e){e.element.makePositioned(),e.element.down().makePositioned(),window.opera&&e.element.setStyle({top:""}),e.element.makeClipping().show()},afterUpdateInternal:function(e){e.element.down().setStyle({bottom:e.dims[0]-e.element.clientHeight+"px"})},afterFinishInternal:function(e){e.element.hide().undoClipping().undoPositioned(),e.element.down().undoPositioned().setStyle({bottom:t})}},arguments[1]||{}))},Effect.Squish=function(e){return new Effect.Scale(e,window.opera?1:0,{restoreAfterFinish:!0,beforeSetup:function(e){e.element.makeClipping()},afterFinishInternal:function(e){e.element.hide().undoClipping()}})},Effect.Grow=function(e){e=$(e);var t,n,i,r,o=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.full},arguments[1]||{}),s={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},a=e.getDimensions();switch(o.direction){case"top-left":t=n=i=r=0;break;case"top-right":t=a.width,n=r=0,i=-a.width;break;case"bottom-left":t=i=0,n=a.height,r=-a.height;break;case"bottom-right":t=a.width,n=a.height,i=-a.width,r=-a.height;break;case"center":t=a.width/2,n=a.height/2,i=-a.width/2,r=-a.height/2}return new Effect.Move(e,{x:t,y:n,duration:.01,beforeSetup:function(e){e.element.hide().makeClipping().makePositioned()},afterFinishInternal:function(e){new Effect.Parallel([new Effect.Opacity(e.element,{sync:!0,to:1,from:0,transition:o.opacityTransition}),new Effect.Move(e.element,{x:i,y:r,sync:!0,transition:o.moveTransition}),new Effect.Scale(e.element,100,{scaleMode:{originalHeight:a.height,originalWidth:a.width},sync:!0,scaleFrom:window.opera?1:0,transition:o.scaleTransition,restoreAfterFinish:!0})],Object.extend({beforeSetup:function(e){e.effects[0].element.setStyle({height:"0px"}).show()},afterFinishInternal:function(e){e.effects[0].element.undoClipping().undoPositioned().setStyle(s)}},o))}})},Effect.Shrink=function(e){e=$(e);var t,n,i=Object.extend({direction:"center",moveTransition:Effect.Transitions.sinoidal,scaleTransition:Effect.Transitions.sinoidal,opacityTransition:Effect.Transitions.none},arguments[1]||{}),r={top:e.style.top,left:e.style.left,height:e.style.height,width:e.style.width,opacity:e.getInlineOpacity()},o=e.getDimensions();switch(i.direction){case"top-left":t=n=0;break;case"top-right":t=o.width,n=0;break;case"bottom-left":t=0,n=o.height;break;case"bottom-right":t=o.width,n=o.height;break;case"center":t=o.width/2,n=o.height/2}return new Effect.Parallel([new Effect.Opacity(e,{sync:!0,to:0,from:1,transition:i.opacityTransition}),new Effect.Scale(e,window.opera?1:0,{sync:!0,transition:i.scaleTransition,restoreAfterFinish:!0}),new Effect.Move(e,{x:t,y:n,sync:!0,transition:i.moveTransition})],Object.extend({beforeStartInternal:function(e){e.effects[0].element.makePositioned().makeClipping()},afterFinishInternal:function(e){e.effects[0].element.hide().undoClipping().undoPositioned().setStyle(r)}},i))},Effect.Pulsate=function(e){e=$(e);var t=arguments[1]||{},n=e.getInlineOpacity(),i=t.transition||Effect.Transitions.sinoidal,r=function(e){return i(1-Effect.Transitions.pulse(e,t.pulses))};return r.bind(i),new Effect.Opacity(e,Object.extend(Object.extend({duration:2,from:0,afterFinishInternal:function(e){e.element.setStyle({opacity:n})}},t),{transition:r}))},Effect.Fold=function(e){e=$(e);var t={top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height};return e.makeClipping(),new Effect.Scale(e,5,Object.extend({scaleContent:!1,scaleX:!1,afterFinishInternal:function(){new Effect.Scale(e,1,{scaleContent:!1,scaleY:!1,afterFinishInternal:function(e){e.element.hide().undoClipping().setStyle(t)}})}},arguments[1]||{}))},Effect.Morph=Class.create(Effect.Base,{initialize:function(e){if(this.element=$(e),!this.element)throw Effect._elementDoesNotExistError;var t=Object.extend({style:{}},arguments[1]||{});if(Object.isString(t.style))if(t.style.include(":"))this.style=t.style.parseStyle();else{this.element.addClassName(t.style),this.style=$H(this.element.getStyles()),this.element.removeClassName(t.style);var n=this.element.getStyles();this.style=this.style.reject(function(e){return e.value==n[e.key]}),t.afterFinishInternal=function(e){e.element.addClassName(e.options.style),e.transforms.each(function(t){e.element.style[t.style]=""})}}else this.style=$H(t.style);this.start(t)},setup:function(){function e(e){return(!e||["rgba(0, 0, 0, 0)","transparent"].include(e))&&(e="#ffffff"),e=e.parseColor(),$R(0,2).map(function(t){return parseInt(e.slice(2*t+1,2*t+3),16)})}this.transforms=this.style.map(function(t){var n=t[0],i=t[1],r=null;if("#zzzzzz"!=i.parseColor("#zzzzzz"))i=i.parseColor(),r="color";else if("opacity"==n)i=parseFloat(i),Prototype.Browser.IE&&!this.element.currentStyle.hasLayout&&this.element.setStyle({zoom:1});else if(Element.CSS_LENGTH.test(i)){var o=i.match(/^([\+\-]?[0-9\.]+)(.*)$/);i=parseFloat(o[1]),r=3==o.length?o[2]:null}var s=this.element.getStyle(n);return{style:n.camelize(),originalValue:"color"==r?e(s):parseFloat(s||0),targetValue:"color"==r?e(i):i,unit:r}}.bind(this)).reject(function(e){return e.originalValue==e.targetValue||"color"!=e.unit&&(isNaN(e.originalValue)||isNaN(e.targetValue))})},update:function(e){for(var t,n={},i=this.transforms.length;i--;)n[(t=this.transforms[i]).style]="color"==t.unit?"#"+Math.round(t.originalValue[0]+(t.targetValue[0]-t.originalValue[0])*e).toColorPart()+Math.round(t.originalValue[1]+(t.targetValue[1]-t.originalValue[1])*e).toColorPart()+Math.round(t.originalValue[2]+(t.targetValue[2]-t.originalValue[2])*e).toColorPart():(t.originalValue+(t.targetValue-t.originalValue)*e).toFixed(3)+(null===t.unit?"":t.unit);this.element.setStyle(n,!0)}}),Effect.Transform=Class.create({initialize:function(e){this.tracks=[],this.options=arguments[1]||{},this.addTracks(e)},addTracks:function(e){return e.each(function(e){e=$H(e);var t=e.values().first();this.tracks.push($H({ids:e.keys().first(),effect:Effect.Morph,options:{style:t}}))}.bind(this)),this},play:function(){return new Effect.Parallel(this.tracks.map(function(e){var t=e.get("ids"),n=e.get("effect"),i=e.get("options"),r=[$(t)||$$(t)].flatten();return r.map(function(e){return new n(e,Object.extend({sync:!0},i))})}).flatten(),this.options)}}),Element.CSS_PROPERTIES=$w("backgroundColor backgroundPosition borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderSpacing borderTopColor borderTopStyle borderTopWidth bottom clip color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop markerOffset maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex"),Element.CSS_LENGTH=/^(([\+\-]?[0-9\.]+)(em|ex|px|in|cm|mm|pt|pc|\%))|0$/,String.__parseStyleElement=document.createElement("div"),String.prototype.parseStyle=function(){var e,t=$H();return Prototype.Browser.WebKit?e=new Element("div",{style:this}).style:(String.__parseStyleElement.innerHTML='<div style="'+this+'"></div>',e=String.__parseStyleElement.childNodes[0].style),Element.CSS_PROPERTIES.each(function(n){e[n]&&t.set(n,e[n])}),Prototype.Browser.IE&&this.include("opacity")&&t.set("opacity",this.match(/opacity:\s*((?:0|1)?(?:\.\d*)?)/)[1]),t},Element.getStyles=document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=document.defaultView.getComputedStyle($(e),null);return Element.CSS_PROPERTIES.inject({},function(e,n){return e[n]=t[n],e})}:function(e){e=$(e);var t,n=e.currentStyle;return t=Element.CSS_PROPERTIES.inject({},function(e,t){return e.set(t,n[t]),e}),t.opacity||t.set("opacity",e.getOpacity()),t},Effect.Methods={morph:function(e,t){return e=$(e),new Effect.Morph(e,Object.extend({style:t},arguments[2]||{})),e},visualEffect:function(e,t,n){e=$(e);var i=t.dasherize().camelize(),r=i.charAt(0).toUpperCase()+i.substring(1);return new Effect[r](e,n),e},highlight:function(e,t){return e=$(e),new Effect.Highlight(e,t),e}},$w("fade appear grow shrink fold blindUp blindDown slideUp slideDown pulsate shake puff squish switchOff dropOut").each(function(e){Effect.Methods[e]=function(t,n){return t=$(t),Effect[e.charAt(0).toUpperCase()+e.substring(1)](t,n),t}}),$w("getInlineOpacity forceRerendering setContentZoom collectTextNodes collectTextNodesIgnoreClass getStyles").each(function(e){Effect.Methods[e]=Element[e]}),Element.addMethods(Effect.Methods),"undefined"==typeof Effect)throw"controls.js requires including script.aculo.us' effects.js library";var Autocompleter={};if(Autocompleter.Base=Class.create({baseInitialize:function(e,t,n){e=$(e),this.element=e,this.update=$(t),this.hasFocus=!1,this.changed=!1,this.active=!1,this.index=0,this.entryCount=0,this.oldElementValue=this.element.value,this.setOptions?this.setOptions(n):this.options=n||{},this.options.paramName=this.options.paramName||this.element.name,this.options.tokens=this.options.tokens||[],this.options.frequency=this.options.frequency||.4,this.options.minChars=this.options.minChars||1,this.options.onShow=this.options.onShow||function(e,t){t.style.position&&"absolute"!=t.style.position||(t.style.position="absolute",Position.clone(e,t,{setHeight:!1,offsetTop:e.offsetHeight})),Effect.Appear(t,{duration:.15})},this.options.onHide=this.options.onHide||function(e,t){new Effect.Fade(t,{duration:.15})},"string"==typeof this.options.tokens&&(this.options.tokens=new Array(this.options.tokens)),this.options.tokens.include("\n")||this.options.tokens.push("\n"),this.observer=null,this.element.setAttribute("autocomplete","off"),Element.hide(this.update),Event.observe(this.element,"blur",this.onBlur.bindAsEventListener(this)),Event.observe(this.element,"keypress",this.onKeyPress.bindAsEventListener(this))},show:function(){"none"==Element.getStyle(this.update,"display")&&this.options.onShow(this.element,this.update),!this.iefix&&Prototype.Browser.IE&&"absolute"==Element.getStyle(this.update,"position")&&(new Insertion.After(this.update,'<iframe id="'+this.update.id+'_iefix" style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" src="javascript:false;" frameborder="0" scrolling="no"></iframe>'),this.iefix=$(this.update.id+"_iefix")),this.iefix&&setTimeout(this.fixIEOverlapping.bind(this),50)},fixIEOverlapping:function(){Position.clone(this.update,this.iefix,{setTop:!this.update.style.height}),this.iefix.style.zIndex=1,this.update.style.zIndex=2,Element.show(this.iefix)},hide:function(){this.stopIndicator(),"none"!=Element.getStyle(this.update,"display")&&this.options.onHide(this.element,this.update),this.iefix&&Element.hide(this.iefix)},startIndicator:function(){this.options.indicator&&Element.show(this.options.indicator)},stopIndicator:function(){this.options.indicator&&Element.hide(this.options.indicator)},onKeyPress:function(e){if(this.active)switch(e.keyCode){case Event.KEY_TAB:case Event.KEY_RETURN:this.selectEntry(),Event.stop(e);case Event.KEY_ESC:return this.hide(),this.active=!1,void Event.stop(e);case Event.KEY_LEFT:case Event.KEY_RIGHT:return;case Event.KEY_UP:return this.markPrevious(),this.render(),void(Prototype.Browser.WebKit&&Event.stop(e));case Event.KEY_DOWN:return this.markNext(),this.render(),void(Prototype.Browser.WebKit&&Event.stop(e))}else if(e.keyCode==Event.KEY_TAB||e.keyCode==Event.KEY_RETURN||Prototype.Browser.WebKit>0&&0==e.keyCode)return;this.changed=!0,this.hasFocus=!0,this.observer&&clearTimeout(this.observer),this.observer=setTimeout(this.onObserverEvent.bind(this),1e3*this.options.frequency)},activate:function(){this.changed=!1,this.hasFocus=!0,this.getUpdatedChoices()},onHover:function(e){var t=Event.findElement(e,"LI");this.index!=t.autocompleteIndex&&(this.index=t.autocompleteIndex,this.render()),Event.stop(e)},onClick:function(e){var t=Event.findElement(e,"LI");this.index=t.autocompleteIndex,this.selectEntry(),this.hide()},onBlur:function(){setTimeout(this.hide.bind(this),250),this.hasFocus=!1,this.active=!1},render:function(){if(this.entryCount>0){for(var e=0;e<this.entryCount;e++)this.index==e?Element.addClassName(this.getEntry(e),"selected"):Element.removeClassName(this.getEntry(e),"selected");this.hasFocus&&(this.show(),this.active=!0)}else this.active=!1,this.hide()},markPrevious:function(){this.index>0?this.index--:this.index=this.entryCount-1,this.getEntry(this.index).scrollIntoView(!0)},markNext:function(){this.index<this.entryCount-1?this.index++:this.index=0,this.getEntry(this.index).scrollIntoView(!1)},getEntry:function(e){return this.update.firstChild.childNodes[e]},getCurrentEntry:function(){return this.getEntry(this.index)},selectEntry:function(){this.active=!1,this.updateElement(this.getCurrentEntry())},updateElement:function(e){if(this.options.updateElement)return void this.options.updateElement(e);var t="";if(this.options.select){var n=$(e).select("."+this.options.select)||[];n.length>0&&(t=Element.collectTextNodes(n[0],this.options.select))}else t=Element.collectTextNodesIgnoreClass(e,"informal");var i=this.getTokenBounds();if(-1!=i[0]){var r=this.element.value.substr(0,i[0]),o=this.element.value.substr(i[0]).match(/^\s+/);o&&(r+=o[0]),this.element.value=r+t+this.element.value.substr(i[1])}else this.element.value=t;this.oldElementValue=this.element.value,this.element.focus(),this.options.afterUpdateElement&&this.options.afterUpdateElement(this.element,e)},updateChoices:function(e){if(!this.changed&&this.hasFocus){if(this.update.innerHTML=e,Element.cleanWhitespace(this.update),Element.cleanWhitespace(this.update.down()),this.update.firstChild&&this.update.down().childNodes){this.entryCount=this.update.down().childNodes.length;for(var t=0;t<this.entryCount;t++){var n=this.getEntry(t);n.autocompleteIndex=t,this.addObservers(n)}}else this.entryCount=0;this.stopIndicator(),this.index=0,1==this.entryCount&&this.options.autoSelect?(this.selectEntry(),this.hide()):this.render()}},addObservers:function(e){Event.observe(e,"mouseover",this.onHover.bindAsEventListener(this)),Event.observe(e,"click",this.onClick.bindAsEventListener(this))},onObserverEvent:function(){this.changed=!1,this.tokenBounds=null,this.getToken().length>=this.options.minChars?this.getUpdatedChoices():(this.active=!1,this.hide()),this.oldElementValue=this.element.value},getToken:function(){var e=this.getTokenBounds();return this.element.value.substring(e[0],e[1]).strip()},getTokenBounds:function(){if(null!=this.tokenBounds)return this.tokenBounds;var e=this.element.value;if(e.strip().empty())return[-1,0];for(var t,n=arguments.callee.getFirstDifferencePos(e,this.oldElementValue),i=n==this.oldElementValue.length?1:0,r=-1,o=e.length,s=0,a=this.options.tokens.length;a>s;++s)t=e.lastIndexOf(this.options.tokens[s],n+i-1),t>r&&(r=t),t=e.indexOf(this.options.tokens[s],n+i),-1!=t&&o>t&&(o=t);return this.tokenBounds=[r+1,o]}}),Autocompleter.Base.prototype.getTokenBounds.getFirstDifferencePos=function(e,t){for(var n=Math.min(e.length,t.length),i=0;n>i;++i)if(e[i]!=t[i])return i;return n},Ajax.Autocompleter=Class.create(Autocompleter.Base,{initialize:function(e,t,n,i){this.baseInitialize(e,t,i),this.options.asynchronous=!0,this.options.onComplete=this.onComplete.bind(this),this.options.defaultParams=this.options.parameters||null,this.url=n},getUpdatedChoices:function(){this.startIndicator();var e=encodeURIComponent(this.options.paramName)+"="+encodeURIComponent(this.getToken());this.options.parameters=this.options.callback?this.options.callback(this.element,e):e,this.options.defaultParams&&(this.options.parameters+="&"+this.options.defaultParams),new Ajax.Request(this.url,this.options)},onComplete:function(e){this.updateChoices(e.responseText)}}),Autocompleter.Local=Class.create(Autocompleter.Base,{initialize:function(e,t,n,i){this.baseInitialize(e,t,i),this.options.array=n},getUpdatedChoices:function(){this.updateChoices(this.options.selector(this))},setOptions:function(e){this.options=Object.extend({choices:10,partialSearch:!0,partialChars:2,ignoreCase:!0,fullSearch:!1,selector:function(e){for(var t=[],n=[],i=e.getToken(),r=0;r<e.options.array.length&&t.length<e.options.choices;r++)for(var o=e.options.array[r],s=e.options.ignoreCase?o.toLowerCase().indexOf(i.toLowerCase()):o.indexOf(i);-1!=s;){if(0==s&&o.length!=i.length){t.push("<li><strong>"+o.substr(0,i.length)+"</strong>"+o.substr(i.length)+"</li>");break}if(i.length>=e.options.partialChars&&e.options.partialSearch&&-1!=s&&(e.options.fullSearch||/\s/.test(o.substr(s-1,1)))){n.push("<li>"+o.substr(0,s)+"<strong>"+o.substr(s,i.length)+"</strong>"+o.substr(s+i.length)+"</li>");break}s=e.options.ignoreCase?o.toLowerCase().indexOf(i.toLowerCase(),s+1):o.indexOf(i,s+1)}return n.length&&(t=t.concat(n.slice(0,e.options.choices-t.length))),"<ul>"+t.join("")+"</ul>"}},e||{})}}),Field.scrollFreeActivate=function(e){setTimeout(function(){Field.activate(e)},1)},Ajax.InPlaceEditor=Class.create({initialize:function(e,t,n){this.url=t,this.element=e=$(e),this.prepareOptions(),this._controls={},arguments.callee.dealWithDeprecatedOptions(n),Object.extend(this.options,n||{}),!this.options.formId&&this.element.id&&(this.options.formId=this.element.id+"-inplaceeditor",$(this.options.formId)&&(this.options.formId="")),this.options.externalControl&&(this.options.externalControl=$(this.options.externalControl)),this.options.externalControl||(this.options.externalControlOnly=!1),this._originalBackground=this.element.getStyle("background-color")||"transparent",this.element.title=this.options.clickToEditText,this._boundCancelHandler=this.handleFormCancellation.bind(this),this._boundComplete=(this.options.onComplete||Prototype.emptyFunction).bind(this),this._boundFailureHandler=this.handleAJAXFailure.bind(this),this._boundSubmitHandler=this.handleFormSubmission.bind(this),this._boundWrapperHandler=this.wrapUp.bind(this),this.registerListeners()},checkForEscapeOrReturn:function(e){!this._editing||e.ctrlKey||e.altKey||e.shiftKey||(Event.KEY_ESC==e.keyCode?this.handleFormCancellation(e):Event.KEY_RETURN==e.keyCode&&this.handleFormSubmission(e))},createControl:function(e,t,n){var i=this.options[e+"Control"],r=this.options[e+"Text"];if("button"==i){var o=document.createElement("input");o.type="submit",o.value=r,o.className="editor_"+e+"_button","cancel"==e&&(o.onclick=this._boundCancelHandler),this._form.appendChild(o),this._controls[e]=o}else if("link"==i){var s=document.createElement("a");s.href="#",s.appendChild(document.createTextNode(r)),s.onclick="cancel"==e?this._boundCancelHandler:this._boundSubmitHandler,s.className="editor_"+e+"_link",n&&(s.className+=" "+n),this._form.appendChild(s),this._controls[e]=s}},createEditField:function(){var e,t=this.options.loadTextURL?this.options.loadingText:this.getText();if(1>=this.options.rows&&!/\r|\n/.test(this.getText())){e=document.createElement("input"),e.type="text";var n=this.options.size||this.options.cols||0;n>0&&(e.size=n)}else e=document.createElement("textarea"),e.rows=1>=this.options.rows?this.options.autoRows:this.options.rows,e.cols=this.options.cols||40;e.name=this.options.paramName,e.value=t,e.className="editor_field",this.options.submitOnBlur&&(e.onblur=this._boundSubmitHandler),this._controls.editor=e,this.options.loadTextURL&&this.loadExternalText(),this._form.appendChild(this._controls.editor)},createForm:function(){function e(e,n){var i=t.options["text"+e+"Controls"];i&&n!==!1&&t._form.appendChild(document.createTextNode(i))}var t=this;this._form=$(document.createElement("form")),this._form.id=this.options.formId,this._form.addClassName(this.options.formClassName),this._form.onsubmit=this._boundSubmitHandler,this.createEditField(),"textarea"==this._controls.editor.tagName.toLowerCase()&&this._form.appendChild(document.createElement("br")),this.options.onFormCustomization&&this.options.onFormCustomization(this,this._form),e("Before",this.options.okControl||this.options.cancelControl),this.createControl("ok",this._boundSubmitHandler),e("Between",this.options.okControl&&this.options.cancelControl),this.createControl("cancel",this._boundCancelHandler,"editor_cancel"),e("After",this.options.okControl||this.options.cancelControl)},destroy:function(){this._oldInnerHTML&&(this.element.innerHTML=this._oldInnerHTML),this.leaveEditMode(),this.unregisterListeners()},enterEditMode:function(e){this._saving||this._editing||(this._editing=!0,this.triggerCallback("onEnterEditMode"),this.options.externalControl&&this.options.externalControl.hide(),this.element.hide(),this.createForm(),this.element.parentNode.insertBefore(this._form,this.element),this.options.loadTextURL||this.postProcessEditField(),e&&Event.stop(e))},enterHover:function(){this.options.hoverClassName&&this.element.addClassName(this.options.hoverClassName),this._saving||this.triggerCallback("onEnterHover")},getText:function(){return this.element.innerHTML},handleAJAXFailure:function(e){this.triggerCallback("onFailure",e),this._oldInnerHTML&&(this.element.innerHTML=this._oldInnerHTML,this._oldInnerHTML=null)},handleFormCancellation:function(e){this.wrapUp(),e&&Event.stop(e)},handleFormSubmission:function(e){var t=this._form,n=$F(this._controls.editor);this.prepareSubmission();var i=this.options.callback(t,n)||"";if(Object.isString(i)&&(i=i.toQueryParams()),i.editorId=this.element.id,this.options.htmlResponse){var r=Object.extend({evalScripts:!0},this.options.ajaxOptions);Object.extend(r,{parameters:i,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler}),new Ajax.Updater({success:this.element},this.url,r)}else{var r=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(r,{parameters:i,onComplete:this._boundWrapperHandler,onFailure:this._boundFailureHandler}),new Ajax.Request(this.url,r)}e&&Event.stop(e)},leaveEditMode:function(){this.element.removeClassName(this.options.savingClassName),this.removeForm(),this.leaveHover(),this.element.style.backgroundColor=this._originalBackground,this.element.show(),this.options.externalControl&&this.options.externalControl.show(),this._saving=!1,this._editing=!1,this._oldInnerHTML=null,this.triggerCallback("onLeaveEditMode")},leaveHover:function(){this.options.hoverClassName&&this.element.removeClassName(this.options.hoverClassName),this._saving||this.triggerCallback("onLeaveHover")},loadExternalText:function(){this._form.addClassName(this.options.loadingClassName),this._controls.editor.disabled=!0;var e=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(e,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(e){this._form.removeClassName(this.options.loadingClassName);var t=e.responseText;this.options.stripLoadedTextTags&&(t=t.stripTags()),this._controls.editor.value=t,this._controls.editor.disabled=!1,this.postProcessEditField()}.bind(this),onFailure:this._boundFailureHandler}),new Ajax.Request(this.options.loadTextURL,e)},postProcessEditField:function(){var e=this.options.fieldPostCreation;e&&$(this._controls.editor)["focus"==e?"focus":"activate"]()},prepareOptions:function(){this.options=Object.clone(Ajax.InPlaceEditor.DefaultOptions),Object.extend(this.options,Ajax.InPlaceEditor.DefaultCallbacks),[this._extraDefaultOptions].flatten().compact().each(function(e){Object.extend(this.options,e)}.bind(this))},prepareSubmission:function(){this._saving=!0,this.removeForm(),this.leaveHover(),this.showSaving()},registerListeners:function(){this._listeners={};var e;$H(Ajax.InPlaceEditor.Listeners).each(function(t){e=this[t.value].bind(this),this._listeners[t.key]=e,this.options.externalControlOnly||this.element.observe(t.key,e),this.options.externalControl&&this.options.externalControl.observe(t.key,e)}.bind(this))},removeForm:function(){this._form&&(this._form.remove(),this._form=null,this._controls={})},showSaving:function(){this._oldInnerHTML=this.element.innerHTML,this.element.innerHTML=this.options.savingText,this.element.addClassName(this.options.savingClassName),this.element.style.backgroundColor=this._originalBackground,this.element.show()},triggerCallback:function(e,t){"function"==typeof this.options[e]&&this.options[e](this,t)},unregisterListeners:function(){$H(this._listeners).each(function(e){this.options.externalControlOnly||this.element.stopObserving(e.key,e.value),this.options.externalControl&&this.options.externalControl.stopObserving(e.key,e.value)}.bind(this))},wrapUp:function(e){this.leaveEditMode(),this._boundComplete(e,this.element)}}),Object.extend(Ajax.InPlaceEditor.prototype,{dispose:Ajax.InPlaceEditor.prototype.destroy}),Ajax.InPlaceCollectionEditor=Class.create(Ajax.InPlaceEditor,{initialize:function($super,e,t,n){this._extraDefaultOptions=Ajax.InPlaceCollectionEditor.DefaultOptions,$super(e,t,n)},createEditField:function(){var e=document.createElement("select");e.name=this.options.paramName,e.size=1,this._controls.editor=e,this._collection=this.options.collection||[],this.options.loadCollectionURL?this.loadCollection():this.checkForExternalText(),this._form.appendChild(this._controls.editor)},loadCollection:function(){this._form.addClassName(this.options.loadingClassName),this.showLoadingText(this.options.loadingCollectionText);var options=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(options,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(transport){var js=transport.responseText.strip();if(!/^\[.*\]$/.test(js))throw"Server returned an invalid collection representation.";this._collection=eval(js),this.checkForExternalText()}.bind(this),onFailure:this.onFailure}),new Ajax.Request(this.options.loadCollectionURL,options)},showLoadingText:function(e){this._controls.editor.disabled=!0;var t=this._controls.editor.firstChild;t||(t=document.createElement("option"),t.value="",this._controls.editor.appendChild(t),t.selected=!0),t.update((e||"").stripScripts().stripTags())},checkForExternalText:function(){this._text=this.getText(),this.options.loadTextURL?this.loadExternalText():this.buildOptionList()},loadExternalText:function(){this.showLoadingText(this.options.loadingText);var e=Object.extend({method:"get"},this.options.ajaxOptions);Object.extend(e,{parameters:"editorId="+encodeURIComponent(this.element.id),onComplete:Prototype.emptyFunction,onSuccess:function(e){this._text=e.responseText.strip(),this.buildOptionList()}.bind(this),onFailure:this.onFailure}),new Ajax.Request(this.options.loadTextURL,e)},buildOptionList:function(){this._form.removeClassName(this.options.loadingClassName),this._collection=this._collection.map(function(e){return 2===e.length?e:[e,e].flatten()});var e="value"in this.options?this.options.value:this._text,t=this._collection.any(function(t){return t[0]==e}.bind(this));this._controls.editor.update("");var n;this._collection.each(function(i,r){n=document.createElement("option"),n.value=i[0],n.selected=t?i[0]==e:0==r,n.appendChild(document.createTextNode(i[1])),this._controls.editor.appendChild(n)}.bind(this)),this._controls.editor.disabled=!1,Field.scrollFreeActivate(this._controls.editor)}}),Ajax.InPlaceEditor.prototype.initialize.dealWithDeprecatedOptions=function(e){function t(t,n){t in e||void 0===n||(e[t]=n)}e&&(t("cancelControl",e.cancelLink?"link":e.cancelButton?"button":e.cancelLink==e.cancelButton==0?!1:void 0),t("okControl",e.okLink?"link":e.okButton?"button":e.okLink==e.okButton==0?!1:void 0),t("highlightColor",e.highlightcolor),t("highlightEndColor",e.highlightendcolor))},Object.extend(Ajax.InPlaceEditor,{DefaultOptions:{ajaxOptions:{},autoRows:3,cancelControl:"link",cancelText:"cancel",clickToEditText:"Click to edit",externalControl:null,externalControlOnly:!1,fieldPostCreation:"activate",formClassName:"inplaceeditor-form",formId:null,highlightColor:"#ffff99",highlightEndColor:"#ffffff",hoverClassName:"",htmlResponse:!0,loadingClassName:"inplaceeditor-loading",loadingText:"Loading...",okControl:"button",okText:"ok",paramName:"value",rows:1,savingClassName:"inplaceeditor-saving",savingText:"Saving...",size:0,stripLoadedTextTags:!1,submitOnBlur:!1,textAfterControls:"",textBeforeControls:"",textBetweenControls:""},DefaultCallbacks:{callback:function(e){return Form.serialize(e)},onComplete:function(e,t){new Effect.Highlight(t,{startcolor:this.options.highlightColor,keepBackgroundImage:!0})},onEnterEditMode:null,onEnterHover:function(e){e.element.style.backgroundColor=e.options.highlightColor,e._effect&&e._effect.cancel()},onFailure:function(e){alert("Error communication with the server: "+e.responseText.stripTags())
},onFormCustomization:null,onLeaveEditMode:null,onLeaveHover:function(e){e._effect=new Effect.Highlight(e.element,{startcolor:e.options.highlightColor,endcolor:e.options.highlightEndColor,restorecolor:e._originalBackground,keepBackgroundImage:!0})}},Listeners:{click:"enterEditMode",keydown:"checkForEscapeOrReturn",mouseover:"enterHover",mouseout:"leaveHover"}}),Ajax.InPlaceCollectionEditor.DefaultOptions={loadingCollectionText:"Loading options..."},Form.Element.DelayedObserver=Class.create({initialize:function(e,t,n){this.delay=t||.5,this.element=$(e),this.callback=n,this.timer=null,this.lastValue=$F(this.element),Event.observe(this.element,"keyup",this.delayedListener.bindAsEventListener(this))},delayedListener:function(){this.lastValue!=$F(this.element)&&(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.onTimerEvent.bind(this),1e3*this.delay),this.lastValue=$F(this.element))},onTimerEvent:function(){this.timer=null,this.callback(this.element,$F(this.element))}}),!Control)var Control={};if(Control.Slider=Class.create({initialize:function(e,t,n){var i=this;this.handles=Object.isArray(e)?e.collect(function(e){return $(e)}):[$(e)],this.track=$(t),this.options=n||{},this.axis=this.options.axis||"horizontal",this.increment=this.options.increment||1,this.step=parseInt(this.options.step||"1"),this.range=this.options.range||$R(0,1),this.value=0,this.values=this.handles.map(function(){return 0}),this.spans=this.options.spans?this.options.spans.map(function(e){return $(e)}):!1,this.options.startSpan=$(this.options.startSpan||null),this.options.endSpan=$(this.options.endSpan||null),this.restricted=this.options.restricted||!1,this.maximum=this.options.maximum||this.range.end,this.minimum=this.options.minimum||this.range.start,this.alignX=parseInt(this.options.alignX||"0"),this.alignY=parseInt(this.options.alignY||"0"),this.trackLength=this.maximumOffset()-this.minimumOffset(),this.handleLength=this.isVertical()?0!=this.handles[0].offsetHeight?this.handles[0].offsetHeight:this.handles[0].style.height.replace(/px$/,""):0!=this.handles[0].offsetWidth?this.handles[0].offsetWidth:this.handles[0].style.width.replace(/px$/,""),this.active=!1,this.dragging=!1,this.disabled=!1,this.options.disabled&&this.setDisabled(),this.allowedValues=this.options.values?this.options.values.sortBy(Prototype.K):!1,this.allowedValues&&(this.minimum=this.allowedValues.min(),this.maximum=this.allowedValues.max()),this.eventMouseDown=this.startDrag.bindAsEventListener(this),this.eventMouseUp=this.endDrag.bindAsEventListener(this),this.eventMouseMove=this.update.bindAsEventListener(this),this.handles.each(function(e,t){t=i.handles.length-1-t,i.setValue(parseFloat((Object.isArray(i.options.sliderValue)?i.options.sliderValue[t]:i.options.sliderValue)||i.range.start),t),e.makePositioned().observe("mousedown",i.eventMouseDown)}),this.track.observe("mousedown",this.eventMouseDown),document.observe("mouseup",this.eventMouseUp),document.observe("mousemove",this.eventMouseMove),this.initialized=!0},dispose:function(){var e=this;Event.stopObserving(this.track,"mousedown",this.eventMouseDown),Event.stopObserving(document,"mouseup",this.eventMouseUp),Event.stopObserving(document,"mousemove",this.eventMouseMove),this.handles.each(function(t){Event.stopObserving(t,"mousedown",e.eventMouseDown)})},setDisabled:function(){this.disabled=!0},setEnabled:function(){this.disabled=!1},getNearestValue:function(e){if(this.allowedValues){if(e>=this.allowedValues.max())return this.allowedValues.max();if(e<=this.allowedValues.min())return this.allowedValues.min();var t=Math.abs(this.allowedValues[0]-e),n=this.allowedValues[0];return this.allowedValues.each(function(i){var r=Math.abs(i-e);t>=r&&(n=i,t=r)}),n}return e>this.range.end?this.range.end:e<this.range.start?this.range.start:e},setValue:function(e,t){this.active||(this.activeHandleIdx=t||0,this.activeHandle=this.handles[this.activeHandleIdx],this.updateStyles()),t=t||this.activeHandleIdx||0,this.initialized&&this.restricted&&(t>0&&e<this.values[t-1]&&(e=this.values[t-1]),t<this.handles.length-1&&e>this.values[t+1]&&(e=this.values[t+1])),e=this.getNearestValue(e),this.values[t]=e,this.value=this.values[0],this.handles[t].style[this.isVertical()?"top":"left"]=this.translateToPx(e),this.drawSpans(),this.dragging&&this.event||this.updateFinished()},setValueBy:function(e,t){this.setValue(this.values[t||this.activeHandleIdx||0]+e,t||this.activeHandleIdx||0)},translateToPx:function(e){return Math.round((this.trackLength-this.handleLength)/(this.range.end-this.range.start)*(e-this.range.start))+"px"},translateToValue:function(e){return e/(this.trackLength-this.handleLength)*(this.range.end-this.range.start)+this.range.start},getRange:function(e){var t=this.values.sortBy(Prototype.K);return e=e||0,$R(t[e],t[e+1])},minimumOffset:function(){return this.isVertical()?this.alignY:this.alignX},maximumOffset:function(){return this.isVertical()?(0!=this.track.offsetHeight?this.track.offsetHeight:this.track.style.height.replace(/px$/,""))-this.alignY:(0!=this.track.offsetWidth?this.track.offsetWidth:this.track.style.width.replace(/px$/,""))-this.alignX},isVertical:function(){return"vertical"==this.axis},drawSpans:function(){var e=this;this.spans&&$R(0,this.spans.length-1).each(function(t){e.setSpan(e.spans[t],e.getRange(t))}),this.options.startSpan&&this.setSpan(this.options.startSpan,$R(0,this.values.length>1?this.getRange(0).min():this.value)),this.options.endSpan&&this.setSpan(this.options.endSpan,$R(this.values.length>1?this.getRange(this.spans.length-1).max():this.value,this.maximum))},setSpan:function(e,t){this.isVertical()?(e.style.top=this.translateToPx(t.start),e.style.height=this.translateToPx(t.end-t.start+this.range.start)):(e.style.left=this.translateToPx(t.start),e.style.width=this.translateToPx(t.end-t.start+this.range.start))},updateStyles:function(){this.handles.each(function(e){Element.removeClassName(e,"selected")}),Element.addClassName(this.activeHandle,"selected")},startDrag:function(e){if(Event.isLeftClick(e)){if(!this.disabled){this.active=!0;var t=Event.element(e),n=[Event.pointerX(e),Event.pointerY(e)],i=t;if(i==this.track){var r=Position.cumulativeOffset(this.track);this.event=e,this.setValue(this.translateToValue((this.isVertical()?n[1]-r[1]:n[0]-r[0])-this.handleLength/2));var r=Position.cumulativeOffset(this.activeHandle);this.offsetX=n[0]-r[0],this.offsetY=n[1]-r[1]}else{for(;-1==this.handles.indexOf(t)&&t.parentNode;)t=t.parentNode;if(-1!=this.handles.indexOf(t)){this.activeHandle=t,this.activeHandleIdx=this.handles.indexOf(this.activeHandle),this.updateStyles();var r=Position.cumulativeOffset(this.activeHandle);this.offsetX=n[0]-r[0],this.offsetY=n[1]-r[1]}}}Event.stop(e)}},update:function(e){this.active&&(this.dragging||(this.dragging=!0),this.draw(e),Prototype.Browser.WebKit&&window.scrollBy(0,0),Event.stop(e))},draw:function(e){var t=[Event.pointerX(e),Event.pointerY(e)],n=Position.cumulativeOffset(this.track);t[0]-=this.offsetX+n[0],t[1]-=this.offsetY+n[1],this.event=e,this.setValue(this.translateToValue(this.isVertical()?t[1]:t[0])),this.initialized&&this.options.onSlide&&this.options.onSlide(this.values.length>1?this.values:this.value,this)},endDrag:function(e){this.active&&this.dragging&&(this.finishDrag(e,!0),Event.stop(e)),this.active=!1,this.dragging=!1},finishDrag:function(){this.active=!1,this.dragging=!1,this.updateFinished()},updateFinished:function(){this.initialized&&this.options.onChange&&this.options.onChange(this.values.length>1?this.values:this.value,this),this.event=null}}),Object.isUndefined(Effect))throw"dragdrop.js requires including script.aculo.us' effects.js library";var Droppables={drops:[],remove:function(e){this.drops=this.drops.reject(function(t){return t.element==$(e)})},add:function(e){e=$(e);var t=Object.extend({greedy:!0,hoverclass:null,tree:!1},arguments[1]||{});if(t.containment){t._containers=[];var n=t.containment;Object.isArray(n)?n.each(function(e){t._containers.push($(e))}):t._containers.push($(n))}t.accept&&(t.accept=[t.accept].flatten()),Element.makePositioned(e),t.element=e,this.drops.push(t)},findDeepestChild:function(e){for(deepest=e[0],i=1;i<e.length;++i)Element.isParent(e[i].element,deepest.element)&&(deepest=e[i]);return deepest},isContained:function(e,t){var n;return n=t.tree?e.treeNode:e.parentNode,t._containers.detect(function(e){return n==e})},isAffected:function(e,t,n){return n.element!=t&&(!n._containers||this.isContained(t,n))&&(!n.accept||Element.classNames(t).detect(function(e){return n.accept.include(e)}))&&Position.within(n.element,e[0],e[1])},deactivate:function(e){e.hoverclass&&Element.removeClassName(e.element,e.hoverclass),this.last_active=null},activate:function(e){e.hoverclass&&Element.addClassName(e.element,e.hoverclass),this.last_active=e},show:function(e,t){if(this.drops.length){var n,i=[];this.drops.each(function(n){Droppables.isAffected(e,t,n)&&i.push(n)}),i.length>0&&(n=Droppables.findDeepestChild(i)),this.last_active&&this.last_active!=n&&this.deactivate(this.last_active),n&&(Position.within(n.element,e[0],e[1]),n.onHover&&n.onHover(t,n.element,Position.overlap(n.overlap,n.element)),n!=this.last_active&&Droppables.activate(n))}},fire:function(e,t){return this.last_active?(Position.prepare(),this.isAffected([Event.pointerX(e),Event.pointerY(e)],t,this.last_active)&&this.last_active.onDrop?(this.last_active.onDrop(t,this.last_active.element,e),!0):void 0):void 0},reset:function(){this.last_active&&this.deactivate(this.last_active)}},Draggables={drags:[],observers:[],register:function(e){0==this.drags.length&&(this.eventMouseUp=this.endDrag.bindAsEventListener(this),this.eventMouseMove=this.updateDrag.bindAsEventListener(this),this.eventKeypress=this.keyPress.bindAsEventListener(this),Event.observe(document,"mouseup",this.eventMouseUp),Event.observe(document,"mousemove",this.eventMouseMove),Event.observe(document,"keypress",this.eventKeypress)),this.drags.push(e)},unregister:function(e){this.drags=this.drags.reject(function(t){return t==e}),0==this.drags.length&&(Event.stopObserving(document,"mouseup",this.eventMouseUp),Event.stopObserving(document,"mousemove",this.eventMouseMove),Event.stopObserving(document,"keypress",this.eventKeypress))},activate:function(e){e.options.delay?this._timeout=setTimeout(function(){Draggables._timeout=null,window.focus(),Draggables.activeDraggable=e}.bind(this),e.options.delay):(window.focus(),this.activeDraggable=e)},deactivate:function(){this.activeDraggable=null},updateDrag:function(e){if(this.activeDraggable){var t=[Event.pointerX(e),Event.pointerY(e)];this._lastPointer&&this._lastPointer.inspect()==t.inspect()||(this._lastPointer=t,this.activeDraggable.updateDrag(e,t))}},endDrag:function(e){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.activeDraggable&&(this._lastPointer=null,this.activeDraggable.endDrag(e),this.activeDraggable=null)},keyPress:function(e){this.activeDraggable&&this.activeDraggable.keyPress(e)},addObserver:function(e){this.observers.push(e),this._cacheObserverCallbacks()},removeObserver:function(e){this.observers=this.observers.reject(function(t){return t.element==e}),this._cacheObserverCallbacks()},notify:function(e,t,n){this[e+"Count"]>0&&this.observers.each(function(i){i[e]&&i[e](e,t,n)}),t.options[e]&&t.options[e](t,n)},_cacheObserverCallbacks:function(){["onStart","onEnd","onDrag"].each(function(e){Draggables[e+"Count"]=Draggables.observers.select(function(t){return t[e]}).length})}},Draggable=Class.create({initialize:function(e){var t={handle:!1,reverteffect:function(e,t,n){var i=.02*Math.sqrt(Math.abs(2^t)+Math.abs(2^n));new Effect.Move(e,{x:-n,y:-t,duration:i,queue:{scope:"_draggable",position:"end"}})},endeffect:function(e){var t=Object.isNumber(e._opacity)?e._opacity:1;new Effect.Opacity(e,{duration:.2,from:.7,to:t,queue:{scope:"_draggable",position:"end"},afterFinish:function(){Draggable._dragging[e]=!1}})},zindex:1e3,revert:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,snap:!1,delay:0};(!arguments[1]||Object.isUndefined(arguments[1].endeffect))&&Object.extend(t,{starteffect:function(e){e._opacity=Element.getOpacity(e),Draggable._dragging[e]=!0,new Effect.Opacity(e,{duration:.2,from:e._opacity,to:.7})}});var n=Object.extend(t,arguments[1]||{});this.element=$(e),n.handle&&Object.isString(n.handle)&&(this.handle=this.element.down("."+n.handle,0)),this.handle||(this.handle=$(n.handle)),this.handle||(this.handle=this.element),!n.scroll||n.scroll.scrollTo||n.scroll.outerHTML||(n.scroll=$(n.scroll),this._isScrollChild=Element.childOf(this.element,n.scroll)),Element.makePositioned(this.element),this.options=n,this.dragging=!1,this.eventMouseDown=this.initDrag.bindAsEventListener(this),Event.observe(this.handle,"mousedown",this.eventMouseDown),Draggables.register(this)},destroy:function(){Event.stopObserving(this.handle,"mousedown",this.eventMouseDown),Draggables.unregister(this)},currentDelta:function(){return[parseInt(Element.getStyle(this.element,"left")||"0"),parseInt(Element.getStyle(this.element,"top")||"0")]},initDrag:function(e){if((Object.isUndefined(Draggable._dragging[this.element])||!Draggable._dragging[this.element])&&Event.isLeftClick(e)){var t=Event.element(e);if((tag_name=t.tagName.toUpperCase())&&("INPUT"==tag_name||"SELECT"==tag_name||"OPTION"==tag_name||"BUTTON"==tag_name||"TEXTAREA"==tag_name))return;var n=[Event.pointerX(e),Event.pointerY(e)],i=Position.cumulativeOffset(this.element);this.offset=[0,1].map(function(e){return n[e]-i[e]}),Draggables.activate(this),Event.stop(e)}},startDrag:function(e){if(this.dragging=!0,this.delta||(this.delta=this.currentDelta()),this.options.zindex&&(this.originalZ=parseInt(Element.getStyle(this.element,"z-index")||0),this.element.style.zIndex=this.options.zindex),this.options.ghosting&&(this._clone=this.element.cloneNode(!0),this.element._originallyAbsolute="absolute"==this.element.getStyle("position"),this.element._originallyAbsolute||Position.absolutize(this.element),this.element.parentNode.insertBefore(this._clone,this.element)),this.options.scroll)if(this.options.scroll==window){var t=this._getWindowScroll(this.options.scroll);this.originalScrollLeft=t.left,this.originalScrollTop=t.top}else this.originalScrollLeft=this.options.scroll.scrollLeft,this.originalScrollTop=this.options.scroll.scrollTop;Draggables.notify("onStart",this,e),this.options.starteffect&&this.options.starteffect(this.element)},updateDrag:function(event,pointer){if(this.dragging||this.startDrag(event),this.options.quiet||(Position.prepare(),Droppables.show(pointer,this.element)),Draggables.notify("onDrag",this,event),this.draw(pointer),this.options.change&&this.options.change(this),this.options.scroll){this.stopScrolling();var p;if(this.options.scroll==window)with(this._getWindowScroll(this.options.scroll))p=[left,top,left+width,top+height];else p=Position.page(this.options.scroll),p[0]+=this.options.scroll.scrollLeft+Position.deltaX,p[1]+=this.options.scroll.scrollTop+Position.deltaY,p.push(p[0]+this.options.scroll.offsetWidth),p.push(p[1]+this.options.scroll.offsetHeight);var speed=[0,0];pointer[0]<p[0]+this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[0]+this.options.scrollSensitivity)),pointer[1]<p[1]+this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[1]+this.options.scrollSensitivity)),pointer[0]>p[2]-this.options.scrollSensitivity&&(speed[0]=pointer[0]-(p[2]-this.options.scrollSensitivity)),pointer[1]>p[3]-this.options.scrollSensitivity&&(speed[1]=pointer[1]-(p[3]-this.options.scrollSensitivity)),this.startScrolling(speed)}Prototype.Browser.WebKit&&window.scrollBy(0,0),Event.stop(event)},finishDrag:function(e,t){if(this.dragging=!1,this.options.quiet){Position.prepare();var n=[Event.pointerX(e),Event.pointerY(e)];Droppables.show(n,this.element)}this.options.ghosting&&(this.element._originallyAbsolute||Position.relativize(this.element),delete this.element._originallyAbsolute,Element.remove(this._clone),this._clone=null);var i=!1;t&&(i=Droppables.fire(e,this.element),i||(i=!1)),i&&this.options.onDropped&&this.options.onDropped(this.element),Draggables.notify("onEnd",this,e);var r=this.options.revert;r&&Object.isFunction(r)&&(r=r(this.element));var o=this.currentDelta();r&&this.options.reverteffect?(0==i||"failure"!=r)&&this.options.reverteffect(this.element,o[1]-this.delta[1],o[0]-this.delta[0]):this.delta=o,this.options.zindex&&(this.element.style.zIndex=this.originalZ),this.options.endeffect&&this.options.endeffect(this.element),Draggables.deactivate(this),Droppables.reset()},keyPress:function(e){e.keyCode==Event.KEY_ESC&&(this.finishDrag(e,!1),Event.stop(e))},endDrag:function(e){this.dragging&&(this.stopScrolling(),this.finishDrag(e,!0),Event.stop(e))},draw:function(e){var t=Position.cumulativeOffset(this.element);if(this.options.ghosting){var n=Position.realOffset(this.element);t[0]+=n[0]-Position.deltaX,t[1]+=n[1]-Position.deltaY}var i=this.currentDelta();t[0]-=i[0],t[1]-=i[1],this.options.scroll&&this.options.scroll!=window&&this._isScrollChild&&(t[0]-=this.options.scroll.scrollLeft-this.originalScrollLeft,t[1]-=this.options.scroll.scrollTop-this.originalScrollTop);var r=[0,1].map(function(n){return e[n]-t[n]-this.offset[n]}.bind(this));this.options.snap&&(r=Object.isFunction(this.options.snap)?this.options.snap(r[0],r[1],this):r.map(Object.isArray(this.options.snap)?function(e,t){return(e/this.options.snap[t]).round()*this.options.snap[t]}.bind(this):function(e){return(e/this.options.snap).round()*this.options.snap}.bind(this)));var o=this.element.style;this.options.constraint&&"horizontal"!=this.options.constraint||(o.left=r[0]+"px"),this.options.constraint&&"vertical"!=this.options.constraint||(o.top=r[1]+"px"),"hidden"==o.visibility&&(o.visibility="")},stopScrolling:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null,Draggables._lastScrollPointer=null)},startScrolling:function(e){(e[0]||e[1])&&(this.scrollSpeed=[e[0]*this.options.scrollSpeed,e[1]*this.options.scrollSpeed],this.lastScrolled=new Date,this.scrollInterval=setInterval(this.scroll.bind(this),10))},scroll:function(){var current=new Date,delta=current-this.lastScrolled;if(this.lastScrolled=current,this.options.scroll==window){with(this._getWindowScroll(this.options.scroll))if(this.scrollSpeed[0]||this.scrollSpeed[1]){var d=delta/1e3;this.options.scroll.scrollTo(left+d*this.scrollSpeed[0],top+d*this.scrollSpeed[1])}}else this.options.scroll.scrollLeft+=this.scrollSpeed[0]*delta/1e3,this.options.scroll.scrollTop+=this.scrollSpeed[1]*delta/1e3;Position.prepare(),Droppables.show(Draggables._lastPointer,this.element),Draggables.notify("onDrag",this),this._isScrollChild&&(Draggables._lastScrollPointer=Draggables._lastScrollPointer||$A(Draggables._lastPointer),Draggables._lastScrollPointer[0]+=this.scrollSpeed[0]*delta/1e3,Draggables._lastScrollPointer[1]+=this.scrollSpeed[1]*delta/1e3,Draggables._lastScrollPointer[0]<0&&(Draggables._lastScrollPointer[0]=0),Draggables._lastScrollPointer[1]<0&&(Draggables._lastScrollPointer[1]=0),this.draw(Draggables._lastScrollPointer)),this.options.change&&this.options.change(this)},_getWindowScroll:function(w){var T,L,W,H;with(w.document)w.document.documentElement&&documentElement.scrollTop?(T=documentElement.scrollTop,L=documentElement.scrollLeft):w.document.body&&(T=body.scrollTop,L=body.scrollLeft),w.innerWidth?(W=w.innerWidth,H=w.innerHeight):w.document.documentElement&&documentElement.clientWidth?(W=documentElement.clientWidth,H=documentElement.clientHeight):(W=body.offsetWidth,H=body.offsetHeight);return{top:T,left:L,width:W,height:H}}});Draggable._dragging={};var SortableObserver=Class.create({initialize:function(e,t){this.element=$(e),this.observer=t,this.lastValue=Sortable.serialize(this.element)},onStart:function(){this.lastValue=Sortable.serialize(this.element)},onEnd:function(){Sortable.unmark(),this.lastValue!=Sortable.serialize(this.element)&&this.observer(this.element)}}),Sortable={SERIALIZE_RULE:/^[^_\-](?:[A-Za-z0-9\-\_]*)[_](.*)$/,sortables:{},_findRootElement:function(e){for(;"BODY"!=e.tagName.toUpperCase();){if(e.id&&Sortable.sortables[e.id])return e;e=e.parentNode}},options:function(e){return(e=Sortable._findRootElement($(e)))?Sortable.sortables[e.id]:void 0},destroy:function(e){var t=Sortable.options(e);t&&(Draggables.removeObserver(t.element),t.droppables.each(function(e){Droppables.remove(e)}),t.draggables.invoke("destroy"),delete Sortable.sortables[t.element.id])},create:function(e){e=$(e);var t=Object.extend({element:e,tag:"li",dropOnEmpty:!1,tree:!1,treeTag:"ul",overlap:"vertical",constraint:"vertical",containment:e,handle:!1,only:!1,delay:0,hoverclass:null,ghosting:!1,quiet:!1,scroll:!1,scrollSensitivity:20,scrollSpeed:15,format:this.SERIALIZE_RULE,elements:!1,handles:!1,onChange:Prototype.emptyFunction,onUpdate:Prototype.emptyFunction},arguments[1]||{});this.destroy(e);var n={revert:!0,quiet:t.quiet,scroll:t.scroll,scrollSpeed:t.scrollSpeed,scrollSensitivity:t.scrollSensitivity,delay:t.delay,ghosting:t.ghosting,constraint:t.constraint,handle:t.handle};t.starteffect&&(n.starteffect=t.starteffect),t.reverteffect?n.reverteffect=t.reverteffect:t.ghosting&&(n.reverteffect=function(e){e.style.top=0,e.style.left=0}),t.endeffect&&(n.endeffect=t.endeffect),t.zindex&&(n.zindex=t.zindex);var i={overlap:t.overlap,containment:t.containment,tree:t.tree,hoverclass:t.hoverclass,onHover:Sortable.onHover},r={onHover:Sortable.onEmptyHover,overlap:t.overlap,containment:t.containment,hoverclass:t.hoverclass};Element.cleanWhitespace(e),t.draggables=[],t.droppables=[],(t.dropOnEmpty||t.tree)&&(Droppables.add(e,r),t.droppables.push(e)),(t.elements||this.findElements(e,t)||[]).each(function(r,o){var s=t.handles?$(t.handles[o]):t.handle?$(r).select("."+t.handle)[0]:r;t.draggables.push(new Draggable(r,Object.extend(n,{handle:s}))),Droppables.add(r,i),t.tree&&(r.treeNode=e),t.droppables.push(r)}),t.tree&&(Sortable.findTreeElements(e,t)||[]).each(function(n){Droppables.add(n,r),n.treeNode=e,t.droppables.push(n)}),this.sortables[e.id]=t,Draggables.addObserver(new SortableObserver(e,t.onUpdate))},findElements:function(e,t){return Element.findChildren(e,t.only,t.tree?!0:!1,t.tag)},findTreeElements:function(e,t){return Element.findChildren(e,t.only,t.tree?!0:!1,t.treeTag)},onHover:function(e,t,n){if(!(Element.isParent(t,e)||n>.33&&.66>n&&Sortable.options(t).tree))if(n>.5){if(Sortable.mark(t,"before"),t.previousSibling!=e){var i=e.parentNode;e.style.visibility="hidden",t.parentNode.insertBefore(e,t),t.parentNode!=i&&Sortable.options(i).onChange(e),Sortable.options(t.parentNode).onChange(e)}}else{Sortable.mark(t,"after");var r=t.nextSibling||null;if(r!=e){var i=e.parentNode;e.style.visibility="hidden",t.parentNode.insertBefore(e,r),t.parentNode!=i&&Sortable.options(i).onChange(e),Sortable.options(t.parentNode).onChange(e)}}},onEmptyHover:function(e,t,n){var i=e.parentNode,r=Sortable.options(t);if(!Element.isParent(t,e)){var o,s=Sortable.findElements(t,{tag:r.tag,only:r.only}),a=null;if(s){var l=Element.offsetSize(t,r.overlap)*(1-n);for(o=0;o<s.length;o+=1){if(!(l-Element.offsetSize(s[o],r.overlap)>=0)){if(l-Element.offsetSize(s[o],r.overlap)/2>=0){a=o+1<s.length?s[o+1]:null;break}a=s[o];break}l-=Element.offsetSize(s[o],r.overlap)}}t.insertBefore(e,a),Sortable.options(i).onChange(e),r.onChange(e)}},unmark:function(){Sortable._marker&&Sortable._marker.hide()},mark:function(e,t){var n=Sortable.options(e.parentNode);if(!n||n.ghosting){Sortable._marker||(Sortable._marker=($("dropmarker")||Element.extend(document.createElement("DIV"))).hide().addClassName("dropmarker").setStyle({position:"absolute"}),document.getElementsByTagName("body").item(0).appendChild(Sortable._marker));var i=Position.cumulativeOffset(e);Sortable._marker.setStyle({left:i[0]+"px",top:i[1]+"px"}),"after"==t&&Sortable._marker.setStyle("horizontal"==n.overlap?{left:i[0]+e.clientWidth+"px"}:{top:i[1]+e.clientHeight+"px"}),Sortable._marker.show()}},_tree:function(e,t,n){for(var i=Sortable.findElements(e,t)||[],r=0;r<i.length;++r){var o=i[r].id.match(t.format);if(o){var s={id:encodeURIComponent(o?o[1]:null),element:e,parent:n,children:[],position:n.children.length,container:$(i[r]).down(t.treeTag)};s.container&&this._tree(s.container,t,s),n.children.push(s)}}return n},tree:function(e){e=$(e);var t=this.options(e),n=Object.extend({tag:t.tag,treeTag:t.treeTag,only:t.only,name:e.id,format:t.format},arguments[1]||{}),i={id:null,parent:null,children:[],container:e,position:0};return Sortable._tree(e,n,i)},_constructIndex:function(e){var t="";do e.id&&(t="["+e.position+"]"+t);while(null!=(e=e.parent));return t},sequence:function(e){e=$(e);var t=Object.extend(this.options(e),arguments[1]||{});return $(this.findElements(e,t)||[]).map(function(e){return e.id.match(t.format)?e.id.match(t.format)[1]:""})},setSequence:function(e,t){e=$(e);var n=Object.extend(this.options(e),arguments[2]||{}),i={};this.findElements(e,n).each(function(e){e.id.match(n.format)&&(i[e.id.match(n.format)[1]]=[e,e.parentNode]),e.parentNode.removeChild(e)}),t.each(function(e){var t=i[e];t&&(t[1].appendChild(t[0]),delete i[e])})},serialize:function(e){e=$(e);var t=Object.extend(Sortable.options(e),arguments[1]||{}),n=encodeURIComponent(arguments[1]&&arguments[1].name?arguments[1].name:e.id);return t.tree?Sortable.tree(e,arguments[1]).children.map(function(e){return[n+Sortable._constructIndex(e)+"[id]="+encodeURIComponent(e.id)].concat(e.children.map(arguments.callee))}).flatten().join("&"):Sortable.sequence(e,arguments[1]).map(function(e){return n+"[]="+encodeURIComponent(e)}).join("&")}};Element.isParent=function(e,t){return e.parentNode&&e!=t?e.parentNode==t?!0:Element.isParent(e.parentNode,t):!1},Element.findChildren=function(e,t,n,i){if(!e.hasChildNodes())return null;i=i.toUpperCase(),t&&(t=[t].flatten());var r=[];return $A(e.childNodes).each(function(e){if(!e.tagName||e.tagName.toUpperCase()!=i||t&&!Element.classNames(e).detect(function(e){return t.include(e)})||r.push(e),n){var o=Element.findChildren(e,t,n,i);o&&r.push(o)}}),r.length>0?r.flatten():[]},Element.offsetSize=function(e,t){return e["offset"+("vertical"==t||"height"==t?"Height":"Width")]},"undefined"==typeof AC&&(AC={}),"undefined"==typeof document.event&&(document.event={}),Event.Publisher&&Object.extend(document.event,Event.Publisher),AC.SwapView=Class.create({_view:null,currentContent:null,delegate:null,initialize:function(e){"string"==typeof e?this._viewId=e:(this._view=$(e),this._resetView())},view:function(){return this._view||(this._view=$(this._viewId),this._resetView()),this._view},_resetView:function(){if(this._view){for(var e,t=this._view.childNodes;e=t[0];)this._view.removeChild(e);this._view.addClassName("swapView")}},setDelegate:function(e){this.delegate=e},setContent:function(e){return e!==this.currentContent?(this.currentContent&&"function"==typeof this.delegate.willClose&&this.delegate.willClose(this,this.currentContent),e&&"function"==typeof this.delegate.isContentLoaded&&!this.delegate.isContentLoaded(this,e)&&"function"==typeof this.delegate.loadContent?void this.delegate.loadContent(this,e):void this.setLoadedContent(e)):void 0},setLoadedContent:function(e){"function"==typeof this.delegate.willShow&&(e=this.delegate.willShow(this,this.currentContent,e));var t,n=!0;"function"==typeof this.delegate.shouldAnimateContentChange&&(n=this.delegate.shouldAnimateContentChange(this,this.currentContent,e)),n&&"function"==typeof this.delegate.willAnimate?(this.didAnimate=!0,this.view()&&e&&this.currentContent!==e&&this.view().appendChild(e),"function"==typeof this.delegate.didAppendContent&&this.delegate.didAppendContent(this,e),t=this.delegate.willAnimate(this,this.currentContent,e,this.didShow.bind(this,e))):(this.didAnimate=!1,this.currentContent!==e&&(this.currentContent&&this.currentContent.parentNode&&this.currentContent.parentNode.removeChild(this.currentContent),e&&this.view().appendChild(e),"function"==typeof this.delegate.didAppendContent&&this.delegate.didAppendContent(this,e)),e&&$(e).setOpacity(1),this.didShow(e))},didShow:function(e){this.currentContent&&this.currentContent!==e&&this.currentContent.parentNode&&this.currentContent.parentNode.removeChild(this.currentContent),"function"==typeof this.delegate.didShow&&this.delegate.didShow(this,this.currentContent,e),this.currentContent=e}}),"undefined"==typeof AC.ViewMaster&&(AC.ViewMaster={}),AC.ViewMaster.Viewer=Class.create({view:null,triggerClassName:null,currentSection:null,requestedSection:null,sections:null,orderedSections:null,_locked:!1,_didShowInitial:!1,options:null,initialize:function(e,t,n,i){n&&(this.triggerClassName=n),this.sections=$H(),this.orderedSections=[],this.options=i||{},this.silentPreviousSelection(this.options.silentPreviousSelection),this.triggerEvent=this.options.triggerEvent||"click";var r,o,s=null;if(e)for(o=0;o<e.length;o++)r=this.addSection(e.item(o)),s||(s=r);this.view=new AC.SwapView(t),this.view.setDelegate(this);var a,l,c=document.location.hash;if(this.sectionRegExp=this.options.sectionRegExp||new RegExp(/#(.*)$/),l=c.match(this.sectionRegExp),l&&l[1]&&(c=l[1]),c!==this.view._viewId){var u,h=document.getElementsByClassName(this.triggerClassName);for(o=0,u;u=h[o];o++)if(u.getAttribute("href").match(new RegExp("#"+c+"(?![_w-])"))){a=this.sectionWithId(c),a&&(s=a);break}}if(!a&&"string"==typeof this.options.initialId&&this.options.initialId.length>0&&(s=this.sectionWithId(this.options.initialId)),this.show(s),"object"==typeof this.triggerEvent)for(var d,o=0;d=this.triggerEvent[o];o++)Event.observe(document,d,this._triggerClicked.bindAsEventListener(this));else Event.observe(document,this.triggerEvent,this._triggerClicked.bindAsEventListener(this));AC.Detector.isIEStrict()&&Event.observe(document,"mouseup",this._triggerClicked.bindAsEventListener(this)),"function"==typeof this.listenForEvent&&(this.selectSectionFromEventHandler=this.selectSectionFromEvent.bind(this),this.listenForEvent(AC.ViewMaster,"ViewMasterSelectSectionWithIdNotification",!0,this.selectSectionFromEventHandler),this.listenForEvent(AC.ViewMaster,"ViewMasterWillShowNotification",!0,this.stopMovieIfItsPlaying),this.listenForEvent(document.event,"replayMovie",!1,this.stopMovieIfItsPlaying.bind(this)),this.options.parentSectionId&&this.listenForEvent(AC.ViewMaster,"ViewMasterWillCloseNotification",!1,function(e){var t=e.event_data.data;this!==t.sender&&t.outgoingView&&t.outgoingView.id===this.options.parentSectionId&&this.willClose(this.view,this.currentSection)}))},initialSectionFromId:function(e){return this.sectionWithId(e)},sectionWithId:function(e){if(!e)return null;var t=null;if(e&&this.sections.get(e)&&(t=this.sections.get(e)),t)return t;var n,i=null;return n=document.getElementById(e),n===this.view._view&&(n=null),n||(n=document.body.down("a."+this.triggerClassName+"[href*=#"+e+"]")),n||(i=document.getElementsByName(e),i&&i.length>0&&(n=i[0]),n===this.view._view&&(n=null)),n&&("a"===n.tagName.toLowerCase()?Element.hasClassName(n,this.triggerClassName)&&(t=this.addSection(n)):t=this.addSection(n)),t},indexOfSection:function(e){return this.orderedSections.indexOf(e.id)},selectSectionFromEvent:function(e){e.event_data.data.sender!==this&&e.event_data.data.parentTriggerClassName===this.triggerClassName&&this.selectSectionWithIdEvent(e.event_data.data.parentSectionId,e.event_data.data.event)},selectSectionWithIdEvent:function(e,t){var n,i,r=this.sectionWithId(e),o=null,s=!1;if(r){if(o=r.triggers(),o&&o.length>0)for(n=0;i=o[n];n++)if(Element.Methods.hasClassName(i,this.triggerClassName)){s=!0;break}s||(i=document.createElement("a"),i.className=this.triggerClassName,i.href="#"+e,i.style.display="none",document.body.appendChild(i),r._triggers.push(i)),this.triggerClicked(t,$(i))}},setDelegate:function(e){this.delegate=e,this.delegate&&"function"==typeof this.delegate.didShow&&this.currentSection&&this.currentSection.isContentLoaded()&&this.delegate.didShow(this,this.previousSection,this.currentSection)},createSectionForContent:function(e){return new AC.ViewMaster.Section(e,this)},addSection:function(e){var t=this.createSectionForContent(e);return this.sections.set(t.id,t),this.orderedSections.push(t.id),t},silentPreviousSelection:function(e){return"boolean"==typeof e&&(this._silentPreviousSelection=e),this._silentPreviousSelection},currentTrigger:function(){return this._currentTrigger},triggerClicked:function(e,t){t.addClassName("active"),this._currentTrigger=t,e&&this.options.silentTriggers&&Event.stop(e);var n,i=null;if(t.href.match(/#previous/))i=this.getPreviousSection();else if(t.href.match(/#next/))i=this.getNextSection();else{var r=t.href.match(this.sectionRegExp);n=r?r[1]:t.name,i=this.sections.get(n)}return i||(i=this.addSection(t)),i.isContentRemote()&&(i.isContentLoaded()&&i.clearTrigger(t),e&&Event.stop(e)),i===this.currentSection?(e&&Event.stop(e),void("function"==typeof AC.ViewMaster.dispatchEvent&&AC.ViewMaster.dispatchEvent("ViewMasterDidShowNotification",{sender:this,outgoingView:this.previousSection,incomingView:this.currentSection,trigger:t}))):void(i&&(this._didShowInitial=!0,setTimeout(this.show.bind(this,i),1)))
},_triggerClicked:function(e){if(!this.options.passive){var t=e.element();if(AC.Detector.isIEStrict()&&"mouseup"===e.type)t&&"A"===t.nodeName.toUpperCase()&&(t=t.down("."+this.triggerClassName));else for(;t&&"A"!==t.nodeName.toUpperCase()&&"BODY"!==t.nodeName.toUpperCase();)t=t.parentNode;if(this._silentPreviousSelection!==!0&&!this._locked&&t&&t.href&&t.href.toString().match(/SwapViewPreviousSelection$/)&&(t=$(t),t.hasClassName(this.triggerClassName)||t.descendantOf(this.view.view())))return Event.stop(e),void this.showPreviousSelection();if(t&&t.href&&Element.Methods.hasClassName(t,this.triggerClassName)){if(this._locked)return void Event.stop(e);if(this.options.parentSectionId&&"function"==typeof this.stopListeningForEvent&&"function"==typeof this.listenForEvent&&"function"==typeof AC.ViewMaster.dispatchEvent){var n=this;Event.stop(e),this.stopListeningForEvent(AC.ViewMaster,"ViewMasterSelectSectionWithIdNotification",!0,this.selectSectionFromEventHandler),this.listenForEvent(AC.ViewMaster,"ViewMasterDidShowNotification",!1,function(e){this.stopListeningForEvent(AC.ViewMaster,"ViewMasterDidShowNotification",!1,arguments.callee),n.triggerClicked(e,t),this.listenForEvent(AC.ViewMaster,"ViewMasterSelectSectionWithIdNotification",!0,this.selectSectionFromEventHandler)}),AC.ViewMaster.dispatchEvent("ViewMasterSelectSectionWithIdNotification",{sender:this,parentSectionId:this.options.parentSectionId,parentTriggerClassName:this.options.parentTriggerClassName,event:e,trigger:t})}else this.triggerClicked(e,t)}}},isContentLoaded:function(e,t){return t.isContentLoaded()},loadContent:function(e,t){t&&t.loadContent()},_showContentDidLoad:!1,contentDidLoad:function(e,t){t&&t.firstChild&&(this._showContentDidLoad=!0),this.view.setLoadedContent(e),AC.loadRemoteContent.insertScriptFragment(t),this.scrollSectionToVisible(e),this._showContentDidLoad&&this.delegate&&"function"==typeof this.delegate.didShow&&this.delegate.didShow(this,this.previousSection,this.currentSection),this._showContentDidLoad=!1},show:function(e,t){if(!this._locked&&(e||t)&&(this.options.alwaysShowSection||e!==this.currentSection)){if(this._locked=!0,this.delegate&&"function"==typeof this.delegate.willShowSection){var n=this.delegate.willShowSection(this,this.previousSection,e);n instanceof AC.ViewMaster.Section&&(e=n)}this.previousSection=this.currentSection,this.currentSection=e,this.view.setContent(e),this.scrollSectionToVisible(e)}},scrollSectionToVisible:function(e){if("boolean"==typeof this.options.ensureInView&&this.options.ensureInView){if(this._didShowInitial){if(e._isContentLoaded){var t=e.content.viewportOffset()[1];(0>t||t>.75*document.viewport.getHeight())&&new Effect.ScrollTo(e.content,{duration:.3})}}else $(document.body).scrollTo();return!0}return!1},showFirst:function(){this.show(this.getFirstSection())},getFirstSection:function(){return this.sections.get(this.orderedSections[0])},showNext:function(){this.show(this.getNextSection())},getNextSection:function(){var e=this.orderedSections.indexOf(this.currentSection.id),t=this.orderedSections.length-1===e?0:e+1;return this.sections.get(this.orderedSections[t])},showPrevious:function(){this.show(this.getPreviousSection())},getPreviousSection:function(){var e=this.orderedSections.indexOf(this.currentSection.id),t=0===e?this.orderedSections.length-1:e-1;return this.sections.get(this.orderedSections[t])},showPreviousSelection:function(){this.show(this.getPreviousSelection())},getPreviousSelection:function(){if(this.previousSection)return this.previousSection;var e=this.orderedSections.length;for(i=0;e>i;i++)if(this.orderedSections[i]!=this.currentSection.id)return this.sections.get(this.orderedSections[i]);return!1},willShow:function(e,t,n){return this.delegate&&"function"==typeof this.delegate.willShow&&this.delegate.willShow(this,this.previousSection,this.currentSection),"function"==typeof AC.ViewMaster.dispatchEvent&&AC.ViewMaster.dispatchEvent("ViewMasterWillShowNotification",{sender:this,outgoingView:this.previousSection,incomingView:this.currentSection}),this._repaintTriggers(this.previousSection,this.currentSection),this._didShowInitial&&n&&n!=this.previousSection&&($(n.content).setOpacity(0),$(n.content).removeClassName("hidden")),n?n.willShow(this):null},willClose:function(e,t){this.delegate&&"function"==typeof this.delegate.willClose&&this.delegate.willClose(this,this.previousSection,this.currentSection),"function"==typeof AC.ViewMaster.dispatchEvent&&AC.ViewMaster.dispatchEvent("ViewMasterWillCloseNotification",{sender:this,outgoingView:t}),this.previousSection&&this.previousSection.willClose(this)},shouldAnimateContentChange:function(){var e=!0;return e=this.delegate&&"function"==typeof this.delegate.shouldAnimateContentChange?this.delegate.shouldAnimateContentChange(this,this.previousSection,this.currentSection):"boolean"==typeof this.options.shouldAnimateContentChange?this.options.shouldAnimateContentChange:!0,"boolean"==typeof e?e:!0},willAnimate:function(e,t,n,i){var r=this.options.animationDuration||.4,o=Math.random()+"Queue";return this._didShowInitial||"function"!=typeof i?this.delegate&&"function"==typeof this.delegate.willAnimate?this.delegate.willAnimate(this,t,n,i,o):t?new Effect.Parallel([new Effect.Opacity(t,{sync:!0,from:1,to:0}),new Effect.Opacity(n,{sync:!0,from:0,to:1})],{duration:r,afterFinish:i,queue:{scope:o}}):new Effect.Opacity(n,{from:0,to:1,duration:r,afterFinish:i,queue:{scope:o}}):void i()},didAppendContent:function(e,t){this.delegate&&"function"==typeof this.delegate.didAppendContent&&this.delegate.didAppendContent(this,t)},hidePreviousSelectionLinks:function(e){var t=this.getPreviousSelection();if(!t||this._silentPreviousSelection===!0){var n=e.select('a[href$="SwapViewPreviousSelection"]');if(n.length>0){this._previousSectionLinks||(this._previousSectionLinks=[]);for(var i=n.length-1;i>=0;i--)n[i].style.display="none",this._previousSectionLinks.push(n[i])}}if(t&&this._silentPreviousSelection!==!0&&this._previousSectionLinks&&this._previousSectionLinks.length>0)for(var i=this._previousSectionLinks.length-1;i>=0;i--)this._previousSectionLinks[i].style.display="",this._previousSectionLinks.splice(i,1)},stopMovieIfItsPlaying:function(e){if(AC.ViewMaster.Viewer.allowMultipleVideos()!==!0){if(e.event_data.data.incomingView)var t=e.event_data.data.sender,n=e.event_data.data.incomingView,i=!1;else var t=this,n=e.event_data.data,i=!0;(t!=this||i)&&n&&this.currentSection&&this.currentSection.isMoviePlaying()&&n.content&&n.content.getElementsByClassName("movieLink")[0]&&this.currentSection.stopMovie()}},didShow:function(e,t,n){n&&this.hidePreviousSelectionLinks(n),this.currentSection&&this.currentSection.didShow(this),this._didShowInitial=!0,this._locked=!1,!this._showContentDidLoad&&this.delegate&&"function"==typeof this.delegate.didShow&&this.delegate.didShow(this,this.previousSection,this.currentSection),"function"==typeof AC.ViewMaster.dispatchEvent&&AC.ViewMaster.dispatchEvent("ViewMasterDidShowNotification",{sender:this,outgoingView:this.previousSection,incomingView:this.currentSection,trigger:this._currentTrigger})},_repaintTriggers:function(e,t){if(e){for(var n,i=e.triggers(),r=0;n=i[r];r++)n.removeClassName("active");i=e.relatedElements();for(var n,r=0;n=i[r];r++)n.removeClassName("active")}if(t){for(var n,o=t.triggers(),r=0;n=o[r];r++)n.addClassName("active");o=t.relatedElements();for(var n,r=0;n=o[r];r++)n.addClassName("active")}}}),AC.ViewMaster.Viewer.allowMultipleVideos=function(e){return"boolean"==typeof e&&(this._allowMultipleVideos=e),this._allowMultipleVideos},Event.Publisher&&Object.extend(AC.ViewMaster,Event.Publisher),Event.Listener&&Object.extend(AC.ViewMaster.Viewer.prototype,Event.Listener),AC.ViewMaster.Section=Class.create({content:null,moviePanel:null,controllerPanel:null,movie:null,_movieController:null,movieLink:null,endState:null,hasShown:!1,_isContentRemote:!1,isContentRemote:function(){return this._isContentRemote},_isContentLoaded:!0,isContentLoaded:function(){return this._isContentLoaded},_onMoviePlayable:Prototype.EmptyFunction,_onMovieFinished:Prototype.EmptyFunction,id:null,triggers:function(){if(!this._triggers){this._triggers=[];var e=new RegExp("#"+this.id+"$");(this.viewMaster.sectionRegExp||this.viewMaster.options.sectionRegExp)&&(e=this.viewMaster.sectionRegExp||this.viewMaster.options.sectionRegExp,e=e.toString().replace(/^\//,"").replace(/\/$/,""),e=new RegExp(e.replace("(.*)",this.id)));for(var t,n=document.getElementsByClassName(this.viewMaster.triggerClassName),i=0;t=$(n[i]);i++)"a"===t.tagName.toLowerCase()&&t.href.match(e)&&this._triggers.push(t);for(var t,r=this.content.getElementsByClassName(this.viewMaster.triggerClassName),i=0;t=$(r[i]);i++)"a"===t.tagName.toLowerCase()&&t.href.match(e)&&this._triggers.push(t)}return this._triggers},relatedElements:function(){return this._relatedElements||(this._relatedElements=document.getElementsByClassName(this.id)),this._relatedElements},initialize:function(e,t){if(this.content=$(e),"a"===this.content.tagName.toLowerCase()){var n=this.content.getAttribute("href"),i=n.split("#");this._contentURL=i[0];var r=window.location.href.split("#"),o=(e.className,document.getElementsByTagName("base")[0]),s=o?o.href:null;if(2===i.length&&(this.id=i[1]),!(this._contentURL.length>0)||s&&this._contentURL==s||this._contentURL===r[0]||this._contentURL.startsWith("#")&&this._contentURL===n){var a=$(this.id)||$("MASKED-"+this.id);a&&(this.content=a)}else this._isContentRemote=!0,this._isContentLoaded=!1;this.id||(this.id=this.content.name)}else this.id=e.id;if((!this._isContentRemote||this._isContentLoaded)&&this.content.setAttribute("id","MASKED-"+this.id),t&&(this.viewMaster=t),!this._isContentRemote&&this._isContentLoaded&&!this.content.hasClassName("content")){var l=this.content.getElementsByClassName("content")[0];l&&(this.content=l)}this.isMobile=AC.Detector.isMobile()},clearTrigger:function(e){e.href!=="#"+this.id&&(e.href="#"+this.id,e.removeAttribute("id"),e.removeAttribute("name"))},remoteContentDidLoad:function(e,t){this.clearTrigger(this.content),this.content=$(e),this.content.setAttribute("id","MASKED-"+this.id),this._isContentLoaded=!0,this.viewMaster.contentDidLoad(this,t)},loadContent:function(){if(this._isContentLoaded){var e=this;e.viewMaster.contentDidLoad(e,null)}else if(-1!==this.content.className.indexOf("imageLink")){var t=document.createElement("div");t.appendChild(this.content.cloneNode(!0)),this.remoteContentDidLoad(t)}else if(-1!==this.content.className.indexOf("movieLink")||-1!==this.content.className.indexOf("audioLink")){var t=document.createElement("div");t.appendChild(this.content.cloneNode(!0)),this.remoteContentDidLoad(t)}else AC.loadRemoteContent(this._contentURL,!0,!0,this.remoteContentDidLoad.bind(this),null,this)},shouldImportScriptForContentURL:function(e){var t=!1;if(e.hasAttribute?t=e.hasAttribute("src"):(src=e.getAttribute("src"),t=null!=src&&""!==src),t)return!0;var n,i=navigator.userAgent.toLowerCase(),r=-1!=i.indexOf("applewebkit"),o=parseInt(parseFloat(i.substring(i.lastIndexOf("safari/")+7))),s=r&&o>=419;return n=s?e.innerHTML:e.text,-1!==n.search(/.*\.location\.replace\(.*\).*/)?!1:!0},mediaType:function(){return this.movieLink?"video/quicktime":"text/html"},willShow:function(){if(!this.hasShown){this.hasShown=!0;for(var e=this.content.getElementsByClassName("imageLink"),t=0;t<e.length;t++)this._loadImage(e[t]);this.moviePanel||(this.movieLink=this.content.getElementsByClassName("movieLink")[0],this.posterLink=this.content.getElementsByClassName("posterLink")[0],this.movieLink&&this._loadMovie())}return this.content},_loadImage:function(e){var t=document.createElement("img");"about:"===e.protocol&&(e.href="/"+e.pathname,e.href=e.href.replace(/^\/blank/,"")),t.setAttribute("src",e.href),t.setAttribute("alt",e.title),e.parentNode.replaceChild(t,e)},_loadMovie:function(){var e=this.isACMediaAvailable();if(this.moviePanel=$(document.createElement("div")),this.moviePanel.addClassName("moviePanel"),this.movieLink.parentNode.replaceChild(this.moviePanel,this.movieLink),this.controllerPanel=$(document.createElement("div")),this.controllerPanel.addClassName("controllerPanel"),e===!1||this.moviePanel.appendChild(this.controllerPanel),e===!1?this.moviePanel.parentNode.insertBefore(this.controllerPanel,this.moviePanel.nextSibling):this.moviePanel.appendChild(this.controllerPanel),this.endState=$(this.content.getElementsByClassName("endState")[0]),this.endState){this.endState.parentNode.removeChild(this.endState);var t=$(this.endState.getElementsByClassName("replay")[0]);t&&t.observe("click",function(e){Event.stop(e),this.replayMovie()}.bindAsEventListener(this))}},_forceACQuicktime:!1,isACMediaAvailable:function(){return"undefined"!=typeof Media&&this._forceACQuicktime===!1},setShouldForceACQuicktime:function(e){this._forceACQuicktime=e},newMovieController:function(){return new AC.QuicktimeController},didShow:function(){var e=this.hasMovie()&&!this.isMobile,t=this.isACMediaAvailable();t?e?(this._movieControls=this._movieControls||new Media.ControlsWidget(this.controllerPanel),this._playMovie(),this._movieController?(this._movieController.setControlPanel(this._movieControls),this.onMovieFinished=this.didFinishMovie.bind(this),this._movieController.setDelegate(this)):this.controllerPanel.innerHTML=""):this._playMovie():(e&&(this._movieController=this.newMovieController(),this.controllerPanel.innerHTML="",this.controllerPanel.appendChild(this._movieController.render())),this._playMovie(),e&&(this._onMoviePlayable=this._movieController.monitorMovie.bind(this._movieController),this._onMovieFinished=this.didFinishMovie.bind(this),this._movieController.attachToMovie(this.movie,{onMoviePlayable:this._onMoviePlayable,onMovieFinished:this._onMovieFinished})))},willClose:function(){this._closeController(),this._closeMovie()},_closeMovie:function(){this.movie&&this.moviePanel&&(this.isACMediaAvailable()?(AC.Detector.isIEStrict()?(this.moviePanel.removeChild(this.movie),this.controllerPanel.hide()):this.moviePanel.innerHTML="",this.movie=null):(this.moviePanel.removeChild(this.movie),this.movie=null,this.moviePanel.innerHTML=""))},_closeController:function(){this.isACMediaAvailable()?this._movieController&&this.hasMovie()&&!this.isMobile&&(this._movieController.stop(),this._movieController.setControlPanel(null),AC.Detector.isIEStrict()&&this.controllerPanel.hide(),this.controllerPanel.addClassName("inactive")):this._movieController&&this._movieController.movie&&this.hasMovie()&&!this.isMobile&&(this._movieController.Stop(),this._movieController.detachFromMovie(),this.controllerPanel.addClassName("inactive"),this._movieController.replay=this.replayMovie.bind(this),this.controllerPanel.observe("click",this._movieController.replay))},hasMovie:function(){return!!this.movieLink},isMoviePlaying:function(){return this._movieController?this._movieController.playing():void 0},stopMovie:function(){this.hasMovie()&&(this._closeController(),this._closeMovie(),this.endState&&this.moviePanel.appendChild(this.endState))},didFinishMovie:function(){this.hasMovie()&&(this.stopMovie(),"function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("didFinishMovie",this))},defaultMovieWidth:function(){return 640},defaultMovieHeight:function(){return 480},_playMovie:function(){if(this.movieLink&&this.moviePanel){var e=this.isACMediaAvailable();if(e?(this.movie&&this.movie.parentNode==this.moviePanel&&(this.moviePanel.removeChild(this.movie),this.controllerPanel.hide()),this.endState&&this.endState.parentNode==this.moviePanel&&this.moviePanel.removeChild(this.endState),this.controllerPanel&&Element.hasClassName(this.controllerPanel,"inactive")&&(this.controllerPanel.show(),Element.removeClassName(this.controllerPanel,"inactive"))):this.moviePanel.innerHTML="",this.posterLink&&this.posterLink.href)var t=this.posterLink.href;var n=this.movieLink.getAttribute("href",2).toQueryParams(),i={width:this.defaultMovieWidth(),height:this.defaultMovieHeight(),controller:!1,posterFrame:t,showlogo:!1,autostart:!0,cache:!0,bgcolor:"black",aggressiveCleanup:!1},r=Object.extend(i,n);e===!0?(this._movieController=Media.create(this.moviePanel,this.movieLink.getAttribute("href",2),r),this._movieController&&(this.movie=this._movieController.video().object())):(this.movie=AC.Quicktime.packageMovie(this.movieLink.id+"movieId",this.movieLink.getAttribute("href",2),r,this.moviePanel),AC.Quicktime.movieIsFlash||this.moviePanel.appendChild(this.movie)),e===!0&&!this.isMobile&&this.movie&&(this._movieControls.reset(),this.moviePanel.appendChild(this.controllerPanel)),"function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("didStart",this)}},replayMovie:function(){var e=this.isACMediaAvailable();"function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("replayMovie",this),e&&this.moviePanel&&this.endState&&this.moviePanel.removeChild(this.endState),this._playMovie(),e&&this.controllerPanel.show(),this.controllerPanel.removeClassName("inactive"),e?(this._movieController.setControlPanel(this._movieControls),this._movieController.setDelegate(this)):(this.controllerPanel.stopObserving("click",this._movieController.replay),this._movieController.replay=null,this._movieController.attachToMovie(this.movie,{onMoviePlayable:this._onMoviePlayable,onMovieFinished:this._onMovieFinished}))}}),AC.ViewMaster.SlideshowViewer=Class.create(),Object.extend(AC.ViewMaster.SlideshowViewer.prototype,AC.ViewMaster.Viewer.prototype),Object.extend(AC.ViewMaster.SlideshowViewer.prototype,{_superInitialize:AC.ViewMaster.Viewer.prototype.initialize,initialize:function(e,t,n,i,r){this._superInitialize(e,t,n,r),this.slideshow=new AC.ViewMaster.Slideshow(this,i,r)},setDelegate:function(e){this.delegate=e},start:function(){this.slideshow.start()},stop:function(){this.slideshow.stop()},reset:function(){this._isLocked?this._needsReset=!0:this.slideshow.reset()},superDidShow:AC.ViewMaster.Viewer.prototype.didShow,didShow:function(e,t,n){this.superDidShow(e,t,n),this._needsReset&&(this._needsReset=!1,this.slideshow.reset())},next:function(){this.slideshow.next()},previous:function(){this.slideshow.previous()}}),AC.ViewMaster.Slideshow=Class.create(),Event.Listener&&Object.extend(AC.ViewMaster.Slideshow.prototype,Event.Listener),Event.Publisher&&Object.extend(AC.ViewMaster.Slideshow.prototype,Event.Publisher),Object.extend(AC.ViewMaster.Slideshow.prototype,{contentController:null,animationTimeout:null,options:null,_playing:!1,_active:!1,_progress:0,setProgress:function(e){this._progress=e},progress:function(){return this._progress},initialize:function(e,t,n){this.contentController=e,this.triggerClassName=t,this.options=n||{},this.options.addNoListeners||(this.listenForEvent(AC.ViewMaster,"ViewMasterWillShowNotification",!0,this.willShow),this.listenForEvent(AC.ViewMaster,"ViewMasterDidShowNotification",!0,this.didShow)),this.options.autoplay&&this.start(),this.triggerClassName&&Event.observe(document,"click",this._triggerHandler.bindAsEventListener(this))},start:function(){this._active||(this._active=!0,("always"==this.options.wipeProgress||"on start"==this.options.wipeProgress)&&(this._progress=0),this.play(!0),this._repaintTriggers(),"function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("didStart",this))},stop:function(){this._active&&(this._active=!1,this.pause(),this._repaintTriggers(),"function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("didEnd",this))},play:function(e){this._active&&(("always"==this.options.wipeProgress||"on play"==this.options.wipeProgress&&!e)&&(this._progress=0),this.animationTimeout=setTimeout(this._update.bind(this),this._heartbeatDelay()),this._playing=!0)},_update:function(){"function"==typeof this.options.onProgress&&this.options.onProgress(this._progress,this.delay()),this._progress>=this.delay()?(this._progress=0,this.next()):(this._progress+=this._heartbeatDelay(),this.animationTimeout=setTimeout(this._update.bind(this),this._heartbeatDelay()))},delay:function(){return this.options.delay||5e3},_heartbeatDelay:function(){return this.options.heartbeatDelay||100},pause:function(){clearTimeout(this.animationTimeout),this._playing=!1},next:function(){return this.options.willEnd&&this.contentController.getNextSection()==this.contentController.getFirstSection()?void("function"==typeof document.event.dispatchEvent&&document.event.dispatchEvent("didEnd",this)):void this.contentController.showNext()},previous:function(){this.contentController.showPrevious()},reset:function(){this.contentController.showFirst(),this.setProgress(0)},willShow:function(e){e.event_data.data.sender==this.contentController&&this.pause()},didShow:function(e){e.event_data.data.sender==this.contentController&&this.play()},_triggerHandler:function(e){var t=e.element();t.hasClassName(this.triggerClassName)&&t.href.match(/#slideshow-toggle/)&&(Event.stop(e),this._active?this.stop():this.start())},_repaintTriggers:function(){if(this.triggerClassName)for(var e=document.getElementsByClassName(this.triggerClassName),t=e.length-1;t>=0;t--)this._repaintTrigger(e[t])},_repaintTrigger:function(e){var t=$(e);this._active?t.addClassName("playing"):t.removeClassName("playing")}}),AC.loadRemoteContent=function(e,t,n,i,r,o){if("string"==typeof e){"boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!0);var s=arguments.callee,a=s._loadArgumentsByUrl[e];a||(s._loadArgumentsByUrl[e]={contentURL:e,importScripts:t,importCSS:n,callback:i,context:r,delegate:o},new Ajax.Request(e,{method:"get",requestHeaders:{Accept:"text/xml"},onSuccess:arguments.callee.loadTemplateHTMLFromRequest,onFailure:arguments.callee.failedToadTemplateHTMLFromRequest,onException:function(e,t){throw t},onCreate:function(e){e.request.overrideMimeType("text/xml")}}))}},AC.loadRemoteContent._loadArgumentsByUrl={},AC.loadRemoteContent.loadTemplateHTMLFromRequest=function(e){var t=e.request.url,n=(arguments.callee,AC.loadRemoteContent._loadArgumentsByUrl[t]),i=window.document,r=e.responseXMLValue().documentElement;AC.Detector.isIEStrict()&&(r=r.ownerDocument);var i=window.document,o=document.createDocumentFragment();n.importScripts&&AC.loadRemoteContent.importScriptsFromXMLDocument(r,o,n),n.importCSS&&AC.loadRemoteContent.importCssFromXMLDocumentAtLocation(r,t,n);var s=null,a=null,l=r.getElementsByTagName("body")[0];if(l){l.normalize();var a=Element.Methods.childNodeWithNodeTypeAtIndex(l,Node.ELEMENT_NODE,0),c=AC.Detector.isSafari2();if(a)s=c?i._importNode(a,!0):i.importNode(a,!0),s.cleanSpaces&&s.cleanSpaces(!0);else{l.cleanSpaces?l.cleanSpaces(!0):"function"==typeof l.normalize&&l.normalize();var u=l.childNodes;s=i.createDocumentFragment();for(var h=0,d=0;d=u[h];h++){var p=c?i._importNode(d,!0):i.importNode(d,!0);s.appendChild(p)}}var f=n.callback;f(s,o,n.context)}},AC.loadRemoteContent.javascriptTypeValueRegExp=new RegExp("text/javascript","i"),AC.loadRemoteContent.javascriptLanguageValueRegExp=new RegExp("javascript","i"),AC.loadRemoteContent.documentScriptsBySrc=function(){if(!AC.loadRemoteContent._documentScriptsBySrc){AC.loadRemoteContent._documentScriptsBySrc={};var e=document.getElementsByTagName("script");if(!e||0===e.length)return AC.loadRemoteContent._documentScriptsBySrc;for(var t=0,n=null;n=e[t];t++){var i=n.getAttribute("type"),r=null,o=n.getAttribute("language");if(this.javascriptTypeValueRegExp.test(i)||this.javascriptLanguageValueRegExp.test(o)){if(n.hasAttribute)var s=n.hasAttribute("src");else var s=Element.Methods.hasAttribute(n,"src");if(s){var r=n.getAttribute("src");AC.loadRemoteContent._documentScriptsBySrc[r]=r}}}}return AC.loadRemoteContent._documentScriptsBySrc},AC.loadRemoteContent.importScriptsFromXMLDocument=function(e,t,n){var i,r,o,s,a=e.getElementsByTagName("script"),l=n.contentURL,c=n.delegate,u=n.context,h=c&&"function"==typeof c.shouldImportScriptForContentURL,d=!0;t||(t=document.createDocumentFragment());for(var p=AC.loadRemoteContent.documentScriptsBySrc(),f=0,m=null;m=a[f];f++)if(i=m.getAttribute("type"),r=null,d=!0,o=m.getAttribute("language"),(this.javascriptTypeValueRegExp.test(i)||this.javascriptLanguageValueRegExp.test(o))&&(m.hasAttribute?(s=m.hasAttribute("src"),r=m.getAttribute("src")):(r=m.getAttribute("src"),s=null!=r&&""!==r),"Redirect"!==m.getAttribute("id")&&(!h||c.shouldImportScriptForContentURL(m,l,u))))if(s){if(!p.hasOwnProperty(r)){var g=document.createElement("script");g.setAttribute("type","text/javascript"),AC.Detector.isIEStrict()?(g.tmp_src=r,g.onreadystatechange=function(){var e,t=window.event.srcElement;t.isLoaded||"complete"!=t.readyState&&"loaded"!=t.readyState||(e=t.tmp_src,e?(t.tmp_src=null,t.src=e,t.isLoaded=!1):(t.onreadystatechange=null,t.isLoaded=!0))}):g.src=r,AC.loadRemoteContent._documentScriptsBySrc[r]=r,t.appendChild(g)}}else{var g=document.createElement("script");if(g.setAttribute("type","text/javascript"),AC.Detector.isIEStrict()){var v=new Function(m.text);g.onreadystatechange=function(){var e=window.event.srcElement;e.isLoaded||"complete"!=e.readyState&&"loaded"!=e.readyState||(e.onreadystatechange=null,e.isLoaded=!0,v())}}else{var y=navigator.userAgent.toLowerCase(),b=-1!=y.indexOf("applewebkit"),w=parseInt(parseFloat(y.substring(y.lastIndexOf("safari/")+7))),E=b&&w>=419;E?g.innerHTML=m.innerHTML:g.text=m.text}AC.loadRemoteContent._documentScriptsBySrc[r]=r,t.appendChild(g)}return t},AC.loadRemoteContent.insertScriptFragment=function(e){if(e){AC.isDomReady=!1,Event._domReady.done=!1;var t,n,i=document.getElementsByTagName("head")[0],r=e.childNodes,o=function(){var e;(!window.event||(e=window.event.srcElement)&&(e.isLoaded||"undefined"==typeof e.isLoaded&&("complete"==e.readyState||"loaded"==e.readyState)))&&(arguments.callee.loadedCount++,e&&!e.isLoaded&&(e.onreadystatechange=null,e.isLoaded=!0),arguments.callee.loadedCount===arguments.callee.loadingCount&&Event._domReady())};for(o.loadedCount=0,o.loadingCount=e.childNodes.length,n=0;t=r[n];n++)if(t.addEventListener)t.addEventListener("load",o,!1);else if("function"==typeof t.onreadystatechange){var s=t.onreadystatechange;t.onreadystatechange=function(){var e=window.event.srcElement;s.call(e),o()}}else t.onreadystatechange=o;i.appendChild(e),i=null}},AC.loadRemoteContent.documentLinksByHref=function(){if(!AC.loadRemoteContent._documentLinksByHref){AC.loadRemoteContent._documentLinksByHref={};var e=document.getElementsByTagName("link");if(!e||0===e.length)return AC.loadRemoteContent._documentLinksByHref;for(var t=0,n=null;n=e[t];t++){{n.getAttribute("type")}if("text/css"===n.type.toLowerCase()){var i=null;if(n.hasAttribute)var r=n.hasAttribute("href");else var r=Element.hasAttribute(n,"href");if(r){var i=n.getAttribute("href");AC.loadRemoteContent._documentLinksByHref[i]=i}}}}return AC.loadRemoteContent._documentLinksByHref},AC.loadRemoteContent.__importCssElementInHeadFromLocation=function(e,t,n){var i="LINK"===e.tagName.toUpperCase();if(i){var r=e.getAttribute("type");if(!r||r&&"text/css"!==r.toLowerCase())return;var o=e.getAttribute("href");if(!o.startsWith("http")&&!o.startsWith("/")){var s=o;n.pathExtension().length>0&&(n=n.stringByDeletingLastPathComponent()),o=n.stringByAppendingPathComponent(s)}if(AC.Detector.isIEStrict()){window.document.createStyleSheet(o,1)}else{var a=window.document.importNode(e,!0);a.href=o}AC.loadRemoteContent.documentLinksByHref()[o]=o}(!AC.Detector.isIEStrict()||AC.Detector.isIEStrict()&&!i)&&t.insertBefore(a,t.firstChild)},AC.loadRemoteContent.importCssFromXMLDocumentAtLocation=function(e,t){var n=window.document.getElementsByTagName("head")[0],i=[];if(i.addObjectsFromArray(e.getElementsByTagName("style")),i.addObjectsFromArray(e.getElementsByTagName("link")),i)for(var r=AC.loadRemoteContent.documentLinksByHref(),o=0,s=null;s=i[o];o++){var a=s.getAttribute("href");r.hasOwnProperty(a)||this.__importCssElementInHeadFromLocation(s,n,t)}},Ajax.Request.prototype._overrideMimeType=null,Ajax.Request.prototype.overrideMimeType=function(e){this._overrideMimeType=e,this.transport.overrideMimeType&&this.transport.overrideMimeType(e)},Ajax.Request.prototype._doesOverrideXMLMimeType=function(){return"text/xml"===this._overrideMimeType},Ajax.Response.prototype.responseXMLValue=function(){if(AC.Detector.isIEStrict()){var e=this.transport.responseXML.documentElement;!e&&this.request._doesOverrideXMLMimeType()&&this.transport.responseXML.loadXML(this.transport.responseText)}return this.transport.responseXML},"undefined"==typeof Trailers&&(Trailers={}),Trailers.reportError=function(e,t,n){try{console.log("exception: ",e,t)}catch(i){}!n&&t&&(n={message:"",fileName:"",lineNumber:""},n.message=t.message,t.lineNumber&&(n.lineNumber=t.lineNumber),t.fileName&&(n.fileName=t.fileName));var r=$("trailers");r.removeClassName("loading"),r.removeClassName("init"),r.innerHTML="";var o=document.createDocumentFragment(),s=$(document.createElement("p"));s.addClassName("error"),s.appendChild(document.createTextNode(e));var a=document.createElement("h2");a.appendChild(document.createTextNode("We\u2019re sorry")),o.appendChild(a);var l=document.createElement("p");l.appendChild(document.createTextNode("It looks like you need to reset your browser cookie for iTunes Trailers. We suggest you delete your trailers.apple.com and apple.com browser cookie(s) and then restart your browser.")),o.appendChild(l),o.appendChild(s),r.appendChild(o);var c="";for(var u in n)c+=u[0]+":["+n[u]+"]";if(AC.Tracking.trackClick({prop2:c},this,"o",AC.Tracking.pageName()+" error"),t)throw t},Trailers.MovieRenderStrategy={Poster:{template:function(){var e=document.createElement("li"),t=document.createElement("a");t.appendChild(document.createElement("img")),e.appendChild(t);var n=document.createElement("h3");return n.appendChild(document.createElement("a")),e.appendChild(n),e}(),exclusiveFlag:function(){var e=$(document.createElement("span"));return e.addClassName("exclusive"),e.appendChild(document.createTextNode("Exclusive")),e}(),hdFlag:function(){var e=$(document.createElement("span"));return e.addClassName("hd"),e.appendChild(document.createTextNode("HD")),e}(),iTunesFlag:function(){var e=$(document.createElement("span"));return e.addClassName("itunes"),e.appendChild(document.createTextNode("See it in iTunes")),e}(),render:function(e){var t=$(this.template.cloneNode(!0)),n=t.getElementsByTagName("img")[0];n.src=e.poster,n.alt=e.title;for(var i,r=t.getElementsByTagName("a"),o=0;i=r[o];o++)i.href=e.location;var s=t.getElementsByTagName("h3")[0].getElementsByTagName("a")[0];return e.title=unescape(e.title),s.innerHTML=e.title.length>23?e.title.unescapeHTML().truncate(23).escapeHTML():e.title,e.hasExclusive()&&(t.appendChild(this.exclusiveFlag.cloneNode(!0)),t.className+=" exclusive"),e.hasHD()&&(t.appendChild(this.hdFlag.cloneNode(!0)),t.className+=" hd"),e.hasiTunes()&&(t.appendChild(this.iTunesFlag.cloneNode(!0)),t.className+=" itunes"),t},createTrailersList:function(e){for(var t=document.createElement("ul"),n=0;n<e.length;n++){var i=e[n],r='<li><a href="'+i.url+'">'+i.type+"</a></li>";t.innerHTML+=r}return t}},Text:{render:function(e){var t=[],n=0;t[n++]='<a href="',t[n++]=e.location,t[n++]='">',t[n++]=e.title,t[n++]="</a>",t=t.join("");var i=document.createElement("li");return i.innerHTML+=t,e.trailers.length>1&&(i.innerHTML+=this.createMultiFlag(e.trailers.length)),e.hasHD()&&(i.innerHTML+=this.createHDFlag(e.location)),e.hasiTunes()&&(i.innerHTML+=this.createiTunesFlag(e.location)),i},createMultiFlag:function(e){var t='<img alt="More Trailers" src="http://trailers.apple.com/trailers/home/images/icon_multi20070611.gif">',n='<span class="multi">('+e+")</span>";return t+" "+n},createHDFlag:function(e){var t='<img alt="HD" src="http://trailers.apple.com/trailers/home/images/icon_hd20070611.gif">',n='<a href="'+e+'">'+t+"</a>";return n},createiTunesFlag:function(e){var t='<a class="itunes" href="'+e+'">See it on iTunes</a>';return t}},FullText:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],render:function(e){var t=[],n=0;t[n++]='<a href="',t[n++]=e.location,t[n++]='">',t[n++]=e.title,t[n++]="</a>",t=t.join("");var i=document.createElement("li");i.innerHTML+=t,e.trailers.length>1&&(i.innerHTML+=this.createMultiFlag(e.trailers.length)),e.hasHD()&&(i.innerHTML+=this.createHDFlag(e.location)),e.hasiTunes()&&(i.innerHTML+=this.createiTunesFlag(e.location));var r=new Date(e.trailers[0].postdate);return i.innerHTML+="<small>Posted "+this.months[r.getMonth()]+" "+r.getDate()+", "+r.getFullYear()+"</small>",i},createMultiFlag:function(e){var t=[],n=0;return t[n++]='<img alt="More Trailers" src="http://trailers.apple.com/trailers/home/images/icon_multi20070611.gif"> ',t[n++]='<span class="multi">(',t[n++]=e,t[n++]=")</span>",t.join("")},createHDFlag:function(e){var t=[],n=0;
return t[n++]='<a href="',t[n++]=e,t[n++]='">',t[n++]='<img alt="HD" src="http://trailers.apple.com/trailers/home/images/icon_hd20070611.gif">',t[n++]="</a>",t.join("")},createiTunesFlag:function(e){var t='<a class="itunes" href="'+e+'">See it on iTunes</a>';return t}}},Trailers.ViewTypes={PosterView:{id:"PosterView",name:"Poster View",className:"view-poster",defaultStrategy:function(){return this.strategies.Poster},strategies:{Poster:{name:"Poster",render:function(e){var t=[];return e.eachSlice(this.selectPageSize()).each(function(e){for(var n,i=document.createElement("ul"),r=document.createDocumentFragment(),o=0;n=e[o];o++)r.appendChild(Trailers.MovieRenderStrategy.Poster.render(n));i.appendChild(r),t.push(i)}),t},selectPageSize:function(){return navigator.userAgent.match(/AppleWebKit/i)&&navigator.userAgent.match(/Mobile/i)?35:30}}}},TextView:{id:"TextView",name:"Text View",className:"view-textfourcolumn",defaultStrategy:function(){return this.strategies.TextFourColumn},strategies:{GroupTextFourColumn:{name:"GroupedText",columns:4,render:function(e){var t=[],n=this.getMovieCount(e),i=Math.ceil(n/this.columns),r=$(document.createElement("div"));r.addClassName("studiolist grid4col");for(var o=null,s=0,a=0,l=0;l<this.columns;l++){var c=$(document.createElement("div"));c.addClassName("column"),0==l&&Element.addClassName(c,"first"),l==this.columns-1&&Element.addClassName(c,"last"),o&&e[s]&&o.movies[a]&&this.addGroupContinued(e[s],c);for(var u=0,h=null;e[s]&&i>u;)o!=e[s]&&(this.addGroupHeader(e[s],c),o=e[s],h=null),o.movies[a]?(h||(h=document.createElement("ul"),c.appendChild(h)),this.addMovie(o.movies[a],h),a++,u++):(a=0,s++);r.appendChild(c)}return t.push(r),t},getMovieCount:function(e){var t=0;return e.each(function(e){t+=e.movies.length}),t},addGroupHeader:function(e,t){t.innerHTML+=e.url?'<h4><a href="'+e.url.replace(/\/iphone/,"")+'">'+e.name+"</a></h4>":"<h4>"+e.name+"</h4>"},addGroupContinued:function(e,t){t.innerHTML+="<h4>"+e.name+" continued\u2026</h4>"},addMovie:function(e,t){t.appendChild(Trailers.MovieRenderStrategy.Text.render(e))}},TextFourColumn:{name:"Text",columns:3,render:function(e){var t=[];return this.rows=Math.ceil(e.length/this.columns),e.eachSlice(this.columns*this.rows).each(function(e){var n=0,i=document.createElement("div");Element.addClassName(i,"textview"),Element.addClassName(i,"grid3col"),e.eachSlice(this.rows,function(e){var t=document.createElement("div");Element.addClassName(t,"column"),0==n&&Element.addClassName(t,"first"),n==this.columns-1&&Element.addClassName(t,"last");var r=document.createElement("ul");t.appendChild(r),e.each(function(e){r.appendChild(Trailers.MovieRenderStrategy.FullText.render(e))}),n++,i.appendChild(t)}.bind(this)),t.push(i)}.bind(this)),t}}}}},Trailers.ViewTypeControls=Class.create(),Object.extend(Trailers.ViewTypeControls.prototype,Event.Listener),Object.extend(Trailers.ViewTypeControls.prototype,{_delegate:null,_container:null,_controls:null,initialize:function(){this._container=$(document.createElement("div")),Event.observe(this._container,"click",function(e){e.preventDefault();var t,n=null,i=e.element();if(i.href){for(t in Trailers.ViewTypes)i.hasClassName(Trailers.ViewTypes[t].className)&&(n=Trailers.ViewTypes[t]);this.setViewType(n,!0)}}.bindAsEventListener(this)),this._render()},setDelegate:function(e){this._delegate!==e&&(this._delegate&&this.stopListeningForEvent(this._delegate,"willShowSection",!1,this._refresh),this._delegate=e,this._delegate&&this.listenForEvent(this._delegate,"willShowSection",!1,this._refresh))},_render:function(){var e,t,n;for(e in Trailers.ViewTypes)t=Trailers.ViewTypes[e],n=document.createElement("a"),n.setAttribute("title",t.name),n.setAttribute("href","#"+t.className),n.innerHTML=t.name,Element.addClassName(n,t.className),this._container.appendChild(n);this._refresh(),this._render=Prototype.emptyFunction},_refresh:function(){var e,t,n,i,r,o=!1;for(e in Trailers.ViewTypes)t=Trailers.ViewTypes[e],n=$(this._container.getElementsByClassName(t.className)[0]),i=!1,r=!1,this._delegate&&"function"==typeof this._delegate.shouldActivateTriggerForViewType&&(r=this._delegate.shouldActivateTriggerForViewType(this,t)),r?(n.addClassName("active"),o=!0):n.removeClassName("active"),this._delegate&&"function"==typeof this._delegate.shouldEnableTriggerForViewType&&(i=this._delegate.shouldEnableTriggerForViewType(this,t)),i?n.removeClassName("disabled"):n.addClassName("disabled"),n=null},setViewType:function(e,t){e&&this._delegate&&"function"==typeof this._delegate.willSetViewType&&this._delegate.willSetViewType(this,e,t)&&this._refresh()}}),Trailers.Navigator=Class.create(),Object.extend(Trailers.Navigator.prototype,Event.Listener),Object.extend(Trailers.Navigator.prototype,{container:null,delegate:null,previousControl:null,nextControl:null,currentPageControl:null,pageControls:[],initialize:function(){this._layout(),this.container.observe("click",function(e){if(this.delegate){for(var t=e.element();"A"!=t.tagName&&"BODY"!=t.tagName;)t=t.parentNode;if(t.href){if(t.hasClassName("disabled"))return void e.preventDefault();if(t.hasClassName("next")&&"function"==typeof this.delegate.showNextPage)this.delegate.showNextPage();else if(t.hasClassName("previous")&&"function"==typeof this.delegate.showPreviousPage)this.delegate.showPreviousPage();else{var n=t.href.match(/page=(\d+)/);if(n&&n[1]){if(n[1]-1===this.delegate.currentPageIndex())return void e.preventDefault();this.delegate.showPageAtIndex(n[1]-1)}}}}}.bind(this))},setDelegate:function(e){this.delegate!==e&&(this.delegate=e)},_layout:function(){this.container=$(document.createElement("div")),this.container.addClassName("pagenav"),this.previousControl=this._createControl("previous"),this.container.appendChild(this.previousControl),this.pageControlContainer=$(document.createElement("div")),this.pageControlContainer.addClassName("pages"),this.container.appendChild(this.pageControlContainer),this.nextControl=this._createControl("next"),this.container.appendChild(this.nextControl),this._layout=Prototype.emptyFunction},refresh:function(){this.delegate&&this.delegate.pageCount()>0?this._createPageControls():this.pageControlContainer.innerHTML="";var e=0/0;if(this.delegate&&(e=this.delegate.currentPageIndex()),this.delegate&&this.delegate.hasPreviousPage()){this.previousControl.removeClassName("disabled");var t=e}else this.previousControl.addClassName("disabled");if(this.delegate&&this.delegate.hasNextPage()){this.nextControl.removeClassName("disabled");var n=e+2}else this.nextControl.addClassName("disabled");this.currentPageControl&&Element.removeClassName(this.currentPageControl,"active"),this.pageControls[e]&&(this.currentPageControl=this.pageControls[e],Element.addClassName(this.currentPageControl,"active")),setTimeout(function(){this.previousControl.setAttribute("href","#section="+this.delegate.currentSection.id+"&page="+t),this.nextControl.setAttribute("href","#section="+this.delegate.currentSection.id+"&page="+n)}.bind(this),0)},_createControl:function(e){var t=$(document.createElement("a"));return t.setAttribute("href","#"),Element.addClassName(t,e),t.innerHTML=e.capitalize(),t},_createPageControls:function(){this.pageControlContainer.innerHTML="",this.pageControls=[];for(var e=0;e<this.delegate.pageCount();e++){var t=document.createElement("a");t.setAttribute("href","#section="+this.delegate.currentSection.id+"&page="+(e+1)),t.innerHTML=e+1,0===e?this.currentPageControl=t:e+1==this.delegate.pageCount()&&Element.addClassName(t,"last"),this.pageControls.push(t),this.pageControlContainer.appendChild(t)}},hide:function(){this.container.hide()},show:function(){Element.show(this.container)}}),Trailers.Movie=Class.create({releasedate:new Date(this.release_date),hasExclusive:function(){return this._hasTrailerWith("exclusive")},hasHD:function(){return this._hasTrailerWith("hd")},hasiTunes:function(){return"itunes"==this.urltype},_hasTrailerWith:function(e){for(var t=!1,n=this.trailers.length-1;n>=0&&!t;)t=this.trailers[n][e],n--;return t}}),Trailers.Gallery=Class.create(),Object.extend(Trailers.Gallery.prototype,Event.Publisher),Object.extend(Trailers.Gallery.prototype,Event.Listener),Object.extend(Trailers.Gallery.prototype,{sections:null,sectionMaster:null,currentSection:null,_currentViewType:null,initialize:function(e){this.sections=$H(),this._currentViewType=this.savedViewType()||Trailers.ViewTypes.PosterView,this.viewTypeChooser=new Trailers.ViewTypeControls,this.viewTypeChooser.setDelegate(this),$(e).appendChild(this.viewTypeChooser._container),this.sectionMaster=new AC.ViewMaster.Viewer(null,"trailers","trailers-link",{sectionRegExp:/#section=(.*)$/}),this.sectionMaster.setDelegate(this)},addSection:function(e){this.sectionMaster.sections.set(e.id,e),this.sections.set(e.id,e),e.setDelegate(this),this.initialSection||(this.initialSection=e)},contentDidLoad:function(e){this.sectionMaster.view.setLoadedContent(e),this._showContentDidLoad=!1},contentFailedLoading:function(e,t,n){var i=null,r={message:"",fileName:"",lineNumber:""};t&&t.status&&200!==t.status?(i="Trailers data missing.",r.message="Failed Request: ("+t.status+") "+t.request.url):n&&(i="Unexpected error.",n.message.match(/^Parse error: /)&&(i="Unable to parse Trailers data."),r.message=n.message,n.lineNumber&&(r.lineNumber=n.lineNumber),n.fileName&&(r.fileName=n.fileName)),Trailers.reportError(i,n,r)},willShow:function(e,t,n){var i=e.view.view();return i.hasClassName("init")&&(i.innerHTML="",i.removeClassName("init")),this.previousSection=t,this.currentSection=n,this.previousSection==this.currentSection&&(this.sectionMaster.options.shouldAnimateContentChange=!1),this.dispatchEvent("willShowSection",this),this.currentSection.content},willClose:function(e,t,n){t&&t!=n&&t.hide()},didShow:function(){this.sectionMaster&&(this.sectionMaster.previousSection&&(this.sectionMaster.previousSection.content.style.display=""),this.sectionMaster.options.alwaysShowSection=!1,this.sectionMaster.options.shouldAnimateContentChange=!0)},pageCount:function(){return this.currentSection?this.currentSection.pageCount():0},currentPageIndex:function(){return this.currentSection?this.currentSection.currentPageIndex:0/0},hasPreviousPage:function(){return this.currentSection?isFinite(this.currentSection.previousPageIndex()):!1},showPreviousPage:function(){if(this.currentSection){var e=this.currentSection.previousPageIndex();this.showPageAtIndex(e)}},hasNextPage:function(){return this.currentSection?isFinite(this.currentSection.nextPageIndex()):!1},showNextPage:function(){if(this.currentSection){var e=this.currentSection.nextPageIndex();this.showPageAtIndex(e)}},showPageAtIndex:function(e){this.currentSection&&isFinite(e)&&this.currentPageIndex()!=e&&(this.currentSection.showPage(e),this.currentSection.currentPageIndex=e,this.dispatchEvent("didShowPage",this))},shouldEnableTriggerForViewType:function(e,t){return this.currentSection&&!!this.currentSection.viewStrategyForViewType(t)},shouldActivateTriggerForViewType:function(e,t){return t&&t===this._currentViewType},willSetViewType:function(e,t,n){this.setViewType(t,n)},setViewType:function(e,t){return this._currentViewType!==e&&this.currentSection.viewStrategyForViewType(e)?(this._currentViewType=e,this.currentSection.pages.length>0&&(this.currentSection.clear(),this.sectionMaster.options.alwaysShowSection=!0,this.sectionMaster.show(this.currentSection)),t&&this._setCookie(),!0):!1},viewType:function(){return this._currentViewType},savedViewType:function(){var e=this._readCookie();return e?Trailers.ViewTypes[e]:null},_readCookie:function(){return document.cookie.replace(/\?/g,"+").replace(/;/g,"&").replace(/\s/g,"").toQueryParams().trailers_viewType},_setCookie:function(){document.cookie="trailers_viewType="+escape(this._currentViewType.id)+";expires="+new Date((new Date).getTime()+31536e6).toGMTString()}}),Trailers.Section=Class.create(),Object.extend(Trailers.Section.prototype,Event.Listener),Object.extend(Trailers.Section.prototype,AC.ViewMaster.Section.prototype),Object.extend(Trailers.Section.prototype,{container:null,feedUrl:null,_loading:!1,movies:null,pages:[],cache:{},currentPageIndex:0,locked:!1,delegate:null,initialize:function(e,t){this.id=e,this.feedUrl=t,this.movies=[],this.content=$(document.createElement("div"))},setDelegate:function(e){this.delegate=e,this.viewMaster=e.sectionMaster},acceptedViewStrategies:function(){var e,t,n=[];for(e in Trailers.ViewTypes)t=Trailers.ViewTypes[e],n.push(t.defaultStrategy());return n},acceptsViewStrategy:function(e){return this.acceptedViewStrategies().include(e)},viewStrategyForViewType:function(e){return Trailers.ViewTypes.TextView==e?Trailers.ViewTypes.TextView.strategies.TextFourColumn:Trailers.ViewTypes.PosterView.strategies.Poster},isContentLoaded:function(){return this.movies.length>0},isContentRendered:function(){return 0===this.pages.length?!1:this.delegate&&this.delegate.viewType()!==this._currentViewType?(this.clear(),!1):!0},loadContent:function(){if(!this._loading){this._loading=!0,this.delegate&&"function"==typeof this.delegate.willLoadContent&&this.delegate.willLoadContent(this);var e=this._remoteContentFailedLoading.bind(this);new Ajax.Request(this.feedUrl,{method:"GET",evalJSON:!1,onSuccess:this._remoteContentDidLoad.bind(this),onException:e,onFailure:e})}},_remoteContentDidLoad:function(remoteContent){try{var movies=eval("("+remoteContent.responseText+")")}catch(e){throw new Error("Parse error: "+remoteContent.request.url)}for(var i=0,movie;movie=movies[i];i++)Object.extend(movie,Trailers.Movie.prototype),this.movies.push(movie);this._isContentLoaded=!0,this.delegate&&"function"==typeof this.delegate.contentDidLoad&&this.delegate.contentDidLoad(this),this._loading=!1},_remoteContentFailedLoading:function(e,t){this.delegate&&"function"==typeof this.delegate.contentFailedLoading&&this.delegate.contentFailedLoading(this,e,t),this._loading=!1},listToRender:function(){return this.movies},render:function(){"function"==typeof this.beforeRender&&this.beforeRender(),this._currentViewType=this.delegate.viewType();var e=this.viewStrategyForViewType(this._currentViewType);e||(e=this.acceptedViewStrategies()[0]),this.pages=e.render(this.listToRender());var t=document.createDocumentFragment();this.pages.each(function(e){t.appendChild(e),Element.hide(e)}.bind(this)),this.content.appendChild(t),this.createNav(),this.currentPageIndex>=this.pages.length&&(this.currentPageIndex=0)},willShow:function(){return this.isContentRendered()||this.render(),this.showPage(this.currentPageIndex||0,!0),this.content},show:function(){this.loading},hide:function(){var e=$("sn-"+this.id);e&&e.down().removeClassName("active"),this.content.parentNode.removeChild(this.content)},clear:function(){this.content.innerHTML="",this.pages=[]},showPage:function(e,t){if(t||!this.locked&&e!=this.currentPageIndex){if(this.locked=!0,"undefined"!=typeof this.currentPageIndex){var n=this.pages[this.currentPageIndex];n&&n.hide()}if("undefined"!=typeof e){var n=this.pages[e];n&&Element.show(n)}this.currentPageIndex=e,this.topPageNav&&this.topPageNav.refresh(),this.bottomPageNav&&this.bottomPageNav.refresh(),this.locked=!1}},pageCount:function(){return this.pages.length},nextPageIndex:function(){return 0==this.pages.length||this.pages.length-1==this.currentPageIndex?0/0:this.currentPageIndex+1},previousPageIndex:function(){return 0==this.currentPageIndex?0/0:this.currentPageIndex-1},createNav:function(){this.pages.length>1&&(this.topPageNav=new Trailers.Navigator,this.topPageNav.setDelegate(this.delegate),this.content.insert({top:this.topPageNav.container}),this.bottomPageNav=new Trailers.Navigator,this.bottomPageNav.setDelegate(this.delegate),this.content.appendChild(this.bottomPageNav.container))}}),Trailers.SearchSection=Class.create(Trailers.Section,{initialize:function(e,t){this.id=e,this._trigger=$(e),this._searching=new Element("div",{className:"searching"}),this._trigger.appendChild(this._searching),this._input=this._trigger.down("input"),this._input.observe("focus",this.handler.bind(this)),this._input.observe("blur",this.handler.bind(this)),this._input.observe("keyup",this.handler.bind(this)),this.showCallout=!this._readCookie(),this.movies=[],this.feedUrl=t,this.content=$(document.createElement("div"))},_indicateLoadingStatus:function(e){if(this.delegate&&this.delegate.sectionMaster&&this.delegate.sectionMaster.container)var t=this.delegate.sectionMaster.container;e?(this.loading=!0,this.content.addClassName("loading"),this._indicateSearchingStatus(!0),t&&t.addClassName("loading")):(this.loading=!1,this.content.removeClassName("loading"),this._indicateSearchingStatus(!1),t&&t.removeClassName("loading"))},_indicateSearchingStatus:function(e){e?this._trigger.addClassName("searching"):this._trigger.removeClassName("searching")},callout:function(){!this.showCallout||""!=this._input.value&&"Quick Find"!=this._input.value||(this._callout||(this._callout=new Element("div",{id:"quickfind_callout",className:"callout"}),this._callout.innerHTML='<div class="relative"><div class="padder"><p>Find Movie Trailers by keyword including Title, Director, and Cast.</p><span class="noshow">Don\u2019t show this again</span></div><div class="bottomcap"></div></div>',this._trigger.appendChild(this._callout),this._callout.down("span.noshow").observe("click",this.handler.bind(this))),this._callout.show())},hideCallout:function(){this._callout&&this._callout.parentNode&&this._callout.hide()},dontShowAgain:function(){this.hideCallout(),this.showCallout=!1,this._setCookie()},clearTimeout:function(){this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)},handler:function(e){if(this.clearTimeout(),"click"==e.type){if("function"==typeof e.findElement){var t=e.findElement("span.noshow");t&&this.dontShowAgain()}}else if("blur"==e.type)this.timeout=window.setTimeout(function(){this.hideCallout(),this._didShowInitial=!1}.bind(this),200);else if("focus"==e.type)this.timeout=window.setTimeout(function(){this.callout()}.bind(this),200);else if("keyup"==e.type){if(this._input.value==this.previousPartial)return;var n=this._didShowInitial?400:50;e.keyCode==Event.KEY_RETURN&&(n=50),this.timeout=window.setTimeout(this.sendRequest.bind(this),n)}},isContentRendered:function(){return!1},isContentLoaded:function(){return""==this.partial&&"Quick Find"==this.partial?!0:this.partial==this.previousPartial?!0:!1},sendRequest:function(){this.loading||(this.callout(),this.partial=this._input.value,this.partial&&this.partial.length>1&&this.loadContent())},loadContent:function(){if(!this.loading){this._indicateLoadingStatus(!0),this.clear(),this.hideCallout(),this.movies=[],this.currentPageIndex=0,searchCallback=this.remoteContentDidLoad.bind(this),this.scriptNode&&Element.remove(this.scriptNode),this.scriptNode=document.createElement("script"),this.scriptNode.setAttribute("charset","utf-8"),this.scriptNode.setAttribute("type","text/javascript"),this.scriptNode.setAttribute("src",this.feedUrl+this.partial+"&="+new Date);var e=document.getElementsByTagName("head")[0];e.appendChild(this.scriptNode),this._didShowInitial=!0,this.previousPartial=this.partial}},remoteContentDidLoad:function(e){for(var t=e.results,n=0;n<t.length;n++)Object.extend(t[n],Trailers.Movie.prototype),this.movies.push(t[n]);this.delegate&&this.delegate.sectionMaster&&(this.delegate.sectionMaster._locked=!1,this.delegate.sectionMaster.options.alwaysShowSection=!0),this._indicateLoadingStatus(!1),this.delegate.sectionMaster.show(this)},willClose:function(){},beforeRender:function(){this.content&&(this.content.innerHTML=""),this.movies.length<1&&(this.content.innerHTML='<div id="nomatch">No Match Found. Please try again.</div>',this._didShowInitial=!1)},_readCookie:function(){return document.cookie.replace(/;/g,"&").replace(/\s/g,"").toQueryParams().trailers_quickFindCallout},_setCookie:function(){document.cookie="trailers_quickFindCallout=true;expires="+new Date((new Date).getTime()+31536e6).toGMTString()}}),Trailers.PosterSection=Class.create(),Object.extend(Trailers.PosterSection.prototype,Trailers.Section.prototype),Trailers.StudioSection=Class.create(),Object.extend(Trailers.StudioSection.prototype,Trailers.Section.prototype),Object.extend(Trailers.StudioSection.prototype,Event.Listener),Object.extend(Trailers.StudioSection.prototype,{studios:[],acceptedViewStrategies:function(){return[Trailers.ViewTypes.TextView.strategies.GroupTextFourColumn]},viewStrategyForViewType:function(e){return Trailers.ViewTypes.TextView==e?Trailers.ViewTypes.TextView.strategies.GroupTextFourColumn:null},beforeRender:function(){for(var e={},t=[],n=0;n<this.movies.length;n++){var i=this.movies[n].studio;e[i]||(t.push(i),e[i]={name:i,url:this.movies[n].location.replace(/([a-zA-Z0-9_]*\/)$/g,""),movies:[]}),e[i].movies.push(this.movies[n])}this.studios=t.collect(function(t){return e[t]})},listToRender:function(){return this.studios}}),Trailers.GenreSection=Class.create(Trailers.Section,{genres:[],acceptedViewStrategies:function(){return[Trailers.ViewTypes.TextView.strategies.GroupTextFourColumn]},viewStrategyForViewType:function(e){return Trailers.ViewTypes.TextView==e?Trailers.ViewTypes.TextView.strategies.GroupTextFourColumn:null},beforeRender:function(){for(var e={},t=[],n=0;n<this.movies.length;n++){var i=this.movies[n].genre[0];e[i]||(t.push(i),e[i]={name:i,url:"/trailers/genres/"+i.toLowerCase().replace(/\s/g,"_")+"/",movies:[]}),e[i].movies.push(this.movies[n])}this.genres=t.collect(function(t){return e[t]})},listToRender:function(){return this.genres}}),preload=function(e){if(document.images){imagePreload=new Image;for(var t=0;t<e.length;t++)imagePreload.src=e[t]}},TrailerThumbs=Class.create(),TrailerThumbs.prototype={initialize:function(){},createNodes:function(e){var t=[],n=e.getElementsByTagName("h3")[0],i=e.getElementsByTagName("p")[0],r=e.getElementsByTagName("ul")[0];t.push(n),t.push(i),t.push(r);var o=document.createElement("div");Element.addClassName(o,"hover"),o.setStyle({display:"none"});var s=document.createElement("div");Element.addClassName(s,"hovercontent");for(var a=0;a<t.length;a++)t[a].parentNode.removeChild(t[a]),s.appendChild(t[a]);e.appendChild(n.cloneNode(!0)),o.appendChild(s);var l=document.createElement("div");Element.addClassName(l,"hovercontentbottom"),o.appendChild(l);var c=e.getElementsByTagName("a")[0];e.insertBefore(o,c.nextSibling),e.timeout=null,Event.observe(e,"mouseover",this.mouseover.bind(this,e,o),!1),Event.observe(e,"mouseout",this.mouseout.bind(this,e,o),!1)},mouseover:function(e,t){e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),e.timeout=setTimeout(this.show.bind(t),120)},mouseout:function(e,t){e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timeout=setTimeout(this.hide.bind(t),30)},show:function(){Effect.Appear(this,{duration:.2,beforeStart:function(){this.style.zIndex="10"}.bind(this.parentNode)})},hide:function(){Effect.Fade(this,{duration:.1,afterFinish:function(){this.style.zIndex="0"}.bind(this.parentNode)})}},thumbFactory=null,function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[r]||(d.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",d.cssRules.length),h[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<u.length;i++)if(n=u[i]+t,void 0!==r[n])return n;return void 0!==r[t]?t:void 0}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,p)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(d,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,u=2*c,h=2*-(i.width+i.length)+"px",d=r(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,d)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,u=["webkit","Moz","ms","O"],h={},d=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(t){this.stop();{var n=this,i=n.opts,o=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius+i.length+i.width}if(r(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,h=u/i.speed,d=(1-i.opacity)/(h*i.trail/100),p=h/i.lines;!function f(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*p)%h*d,i.opacity),n.opacity(o,e*i.direction+l,s,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function a(t,n){return r(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,u=0,h=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=r(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,h+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var f=r(e("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a});